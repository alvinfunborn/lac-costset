/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// i18n.ts
var i18n_exports = {};
__export(i18n_exports, {
  getCurrentLocale: () => getCurrentLocale,
  resolveLocale: () => resolveLocale,
  setLocale: () => setLocale,
  t: () => t
});
function resolveLocale(locale) {
  if (!locale || locale === "auto") {
    try {
      const lang = (navigator.language || "").toLowerCase();
      return lang.startsWith("zh") ? "zh" : "en";
    } catch (_) {
      return "en";
    }
  }
  return locale;
}
function setLocale(locale) {
  currentLocale = resolveLocale(locale);
}
function getCurrentLocale() {
  return currentLocale;
}
function formatVars(input, vars) {
  if (!vars)
    return input;
  return input.replace(/\{(\w+)\}/g, (_m, k) => {
    var _a;
    return String((_a = vars[k]) != null ? _a : "");
  });
}
function t(key, vars, locale) {
  var _a, _b;
  const lang = locale || currentLocale;
  const entry = dict[key];
  if (!entry)
    return key;
  const raw = (_b = (_a = entry[lang]) != null ? _a : entry.en) != null ? _b : key;
  return formatVars(raw, vars);
}
var currentLocale, dict;
var init_i18n = __esm({
  "i18n.ts"() {
    currentLocale = "zh";
    dict = {
      // Currency
      "currency.symbol": { zh: "\xA5", en: "$" },
      // Common
      "common.confirm": { zh: "\u786E\u5B9A", en: "Confirm" },
      "common.cancel": { zh: "\u53D6\u6D88", en: "Cancel" },
      "common.delete": { zh: "\u5220\u9664", en: "Delete" },
      "common.save": { zh: "\u4FDD\u5B58", en: "Save" },
      "common.back": { zh: "\u8FD4\u56DE", en: "Back" },
      "common.add": { zh: "\u6DFB\u52A0", en: "Add" },
      "common.search": { zh: "\u641C\u7D22", en: "Search" },
      // Menu / Command
      "menu.openWith": { zh: "\u7528 LaC.CostSet \u6253\u5F00", en: "Open with LaC.CostSet" },
      "command.open": { zh: "\u6253\u5F00", en: "Open" },
      "notice.invalidEntry": {
        zh: '\u5165\u53E3\u6587\u4EF6\u5185\u5BB9\u683C\u5F0F\u4E0D\u6B63\u786E\uFF1A\u9700\u4E3A TOML\uFF0C\u4E14 type = "root"\uFF0Crenders \u5FC5\u987B\u5305\u542B "costset"',
        en: 'Entry file invalid: must be TOML with type = "root" and renders must include "costset"'
      },
      "notice.saveFailed": { zh: "\u4FDD\u5B58\u5931\u8D25: {msg}", en: "Save failed: {msg}" },
      // Settings
      "settings.title": { zh: "LaC.CostSet \u8BBE\u7F6E", en: "LaC.CostSet Settings" },
      "settings.guide.1": {
        zh: "\u91CD\u8981\uFF1A\u5165\u53E3\u6587\u4EF6\u4E0E\u8D44\u4EA7\u6587\u4EF6\u7684\u201C\u5185\u5BB9\u683C\u5F0F\u4E3A TOML\u201D\uFF0C\u6587\u4EF6\u6269\u5C55\u540D\u53EF\u4E3A .md\u3002\u5141\u8BB8 # \u5F00\u5934\u7684\u6CE8\u91CA\u3002\u552F\u4E00\u7684\u975E TOML \u4F8B\u5916\u662F\uFF1A\u6587\u4EF6\u6B63\u6587\u4E2D\u7684 [[\u8D44\u4EA7\u6587\u4EF6\u540D]] \u53CC\u94FE\u53EF\u7701\u7565\u5F15\u53F7\uFF0C\u63D2\u4EF6\u5728\u89E3\u6790\u65F6\u4F1A\u4E34\u65F6\u4E3A\u5176\u52A0\u4E0A\u5F15\u53F7\u540E\u6309 TOML \u5904\u7406\u3002\u9664\u8FD9\u70B9\u5916\uFF0C\u4E0D\u5E94\u6DF7\u5165\u666E\u901A Markdown \u6587\u672C\u3002",
        en: "Important: Entry and asset files must be TOML content (extension can be .md). Comments starting with # are allowed. The only non-TOML exception: [[asset filename]] wikilinks in the body can omit quotes; the plugin will temporarily quote them for TOML parsing. No other regular Markdown should be mixed."
      },
      "settings.entry.example": {
        zh: '# \u5165\u53E3\u6587\u4EF6\u6700\u5C0F\u793A\u4F8B\n\n# \u9876\u90E8 TOML\uFF1A\u5FC5\u987B\u6EE1\u8DB3\n# type = "root"\n# renders = ["costset"]\n\ntype = "root"\nrenders = ["costset"]\n\n# \u6B63\u6587\uFF1A\u7528\u53CC\u94FE\u5217\u51FA\u8D44\u4EA7\u6587\u4EF6\u540D\uFF08\u4E0D\u9700\u8981\u6269\u5C55\u540D\uFF09\n\n[[\u952E\u76D8]]\n[[\u8033\u673A]]\n',
        en: '# Minimal entry file example\n\n# Top TOML must include\n# type = "root"\n# renders = ["costset"]\n\ntype = "root"\nrenders = ["costset"]\n\n# Body: list asset filenames using wikilinks (no extension)\n\n[[keyboard]]\n[[headphones]]\n'
      },
      "settings.asset.desc": {
        zh: "\u8D44\u4EA7\u6587\u4EF6\u540C\u6837\u662F Markdown\uFF0C\u4F46\u5185\u5BB9\u4EE5 TOML \u5B57\u6BB5\u4E3A\u4E3B\uFF08\u63D2\u4EF6\u4F1A\u4FDD\u7559\u4F60\u5199\u7684\u6CE8\u91CA\uFF09\u3002\u4EE5\u4E0B\u4E3A\u6700\u5C0F\u793A\u4F8B\uFF1A",
        en: "Asset files are also Markdown, but mainly TOML fields (comments are preserved). Minimal example:"
      },
      "settings.asset.example": {
        zh: 'name = "\u952E\u76D8"\n\n[style]\nicon = "\u2328\uFE0F"\n\n[detail]\nprice = 399\nactive_from = "2024-01-01"\nactive_to = ""\nrecycle_price = 0\ntags = ["\u6570\u7801", "\u952E\u76D8"]\n',
        en: 'name = "Keyboard"\n\n[style]\nicon = "\u2328\uFE0F"\n\n[detail]\nprice = 399\nactive_from = "2024-01-01"\nactive_to = ""\nrecycle_price = 0\ntags = ["Digital", "Keyboard"]\n'
      },
      "settings.usage": {
        zh: "\u7528\u6CD5\uFF1A\u5728\u201C\u5165\u53E3\u6587\u4EF6\u201D\u4E0A\u53F3\u952E \u2192 \u9009\u62E9\u201C\u7528 LaC.CostSet \u6253\u5F00\u201D\u3002\u4E5F\u53EF\u5728\u547D\u4EE4\u9762\u677F\u6267\u884C\u201C\u6253\u5F00LaC.CostSet\u201D\uFF08\u5C06\u4F7F\u7528\u4E0B\u65B9\u914D\u7F6E\u7684\u5165\u53E3\u6587\u4EF6\uFF09\u3002",
        en: 'Usage: Right-click on the entry file \u2192 choose "Open with LaC.CostSet". Or run the command "Open LaC.CostSet" (uses the configured entry file below).'
      },
      "settings.entryFile.name": { zh: "\u5165\u53E3\u6587\u4EF6", en: "Entry file" },
      "settings.entryFile.desc": { zh: "\u4F5C\u4E3A\u8D44\u4EA7\u5165\u53E3\u7684 Markdown \u6587\u4EF6\u8DEF\u5F84\uFF0C\u4F8B\u5982 LaC/CostSet/costset.md", en: "Path to the Markdown entry file, e.g., LaC/CostSet/costset.md" },
      "settings.contextMenu.name": { zh: "\u542F\u7528\u53F3\u952E\u83DC\u5355 \u201C\u7528 LaC.CostSet \u6253\u5F00\u201D", en: 'Enable context menu "Open with LaC.CostSet"' },
      "settings.contextMenu.desc": { zh: "\u5728 Markdown \u6587\u4EF6\u7684\u53F3\u952E\u83DC\u5355\u4E2D\u663E\u793A\u5165\u53E3", en: "Show entry in Markdown file context menu" },
      "settings.defaultSort.name": { zh: "\u9ED8\u8BA4\u6392\u5E8F", en: "Default sort" },
      "settings.defaultSort.desc": { zh: "\u6253\u5F00\u89C6\u56FE\u65F6\u7684\u521D\u59CB\u6392\u5E8F\u65B9\u5F0F", en: "Initial sort when opening the view" },
      "settings.defaultSort.option.none": { zh: "\u6587\u672C\u987A\u5E8F", en: "Text order" },
      "settings.defaultSort.option.dailyDesc": { zh: "\u65E5\u5747\u4EF7\u683C", en: "Daily cost" },
      "settings.defaultSort.option.priceDesc": { zh: "\u4EF7\u683C", en: "Price" },
      "settings.defaultSort.option.dateDesc": { zh: "\u8D2D\u5165\u65E5\u671F", en: "Purchase date" },
      "settings.defaultIcon.name": { zh: "\u9ED8\u8BA4\u56FE\u6807", en: "Default icon" },
      "settings.defaultIcon.desc": { zh: "\u65B0\u8D44\u4EA7\u7684\u9ED8\u8BA4\u56FE\u6807\uFF0C\u4EC5\u652F\u6301 1 \u4E2A Emoji", en: "Default icon for new assets (single Emoji only)" },
      "settings.defaultIcon.placeholder": { zh: "\u{1F4E6}", en: "\u{1F4E6}" },
      "settings.locale.name": { zh: "\u8BED\u8A00", en: "Language" },
      "settings.locale.desc": { zh: "\u754C\u9762\u8BED\u8A00", en: "Interface language" },
      "settings.locale.option.auto": { zh: "\u8DDF\u968F\u7CFB\u7EDF", en: "Auto" },
      "settings.locale.option.zh": { zh: "\u4E2D\u6587", en: "Chinese" },
      "settings.locale.option.en": { zh: "\u82F1\u6587", en: "English" },
      // AssetManagerView
      "view.hint.openFromMenu": { zh: "\u4ECE\u6587\u4EF6\u7684\u53F3\u952E\u83DC\u5355\u4E2D\u9009\u62E9 \u201C\u7528 LaC.CostSet \u6253\u5F00\u201D\u3002", en: 'Use file context menu: "Open with LaC.CostSet".' },
      "view.selectRoot.title": { zh: "\u9009\u62E9\u8D44\u4EA7\u6839\u6587\u4EF6", en: "Select root asset file" },
      "view.selectRoot.desc": { zh: "\u8BF7\u9009\u62E9\u4E00\u4E2A\u5305\u542B\u8D44\u4EA7\u5F15\u7528\u7684\u6587\u4EF6\u4F5C\u4E3A\u5165\u53E3", en: "Please choose a file containing asset references as entry" },
      "view.empty": { zh: "\u6682\u65E0\u8D44\u4EA7", en: "No assets" },
      "view.toNow": { zh: "\u81F3\u4ECA", en: "Present" },
      "view.usedDays": { zh: "\u5DF2\u7528{days}\u5929", en: "{days} days used" },
      "view.daily": { zh: "\u65E5\u5747", en: "Daily" },
      "view.price": { zh: "\u4EF7\u683C", en: "Price" },
      "view.recyclePrice": { zh: "\u56DE\u6536\u4EF7", en: "Recycle" },
      "view.back": { zh: "\u8FD4\u56DE", en: "Back" },
      "view.search.aria": { zh: "\u641C\u7D22", en: "Search" },
      "view.search.placeholder": { zh: "\u641C\u7D22\u540D\u79F0\u6216\u6807\u7B7E", en: "Search name or tags" },
      "view.sort.title": { zh: "\u6392\u5E8F", en: "Sort" },
      "view.sort.title.dailyDesc": { zh: "\u6309\u65E5\u5747\u6210\u672C (\u964D\u5E8F)", en: "By daily cost (desc)" },
      "view.sort.title.priceDesc": { zh: "\u6309\u4EF7\u683C (\u964D\u5E8F)", en: "By price (desc)" },
      "view.sort.title.dateDesc": { zh: "\u6309\u8D2D\u5165\u65E5\u671F (\u964D\u5E8F)", en: "By purchase date (desc)" },
      "view.sort.menu.dailyDesc": { zh: "\u6309\u65E5\u5747\u6210\u672C", en: "By daily cost" },
      "view.sort.menu.priceDesc": { zh: "\u6309\u4EF7\u683C", en: "By price" },
      "view.sort.menu.dateDesc": { zh: "\u6309\u8D2D\u5165\u65E5\u671F", en: "By purchase date" },
      "view.add": { zh: "\u6DFB\u52A0", en: "Add" },
      "view.confirmDeleteAsset": { zh: '\u786E\u5B9A\u8981\u5220\u9664\u8D44\u4EA7 "{name}" \u5417\uFF1F', en: 'Delete asset "{name}"?' },
      // Top summary
      "top.total": { zh: "\u603B\u6210\u672C ", en: "Total " },
      "top.recycle": { zh: "\u53EF\u56DE\u6536 ", en: "Recyclable " },
      "date.pick": { zh: "\u9009\u62E9\u65E5\u671F", en: "Pick date" },
      "date.year": { zh: "\u5E74", en: "" },
      "date.month": { zh: "\u6708", en: "" },
      "date.day": { zh: "\u65E5", en: "" },
      // Confirm modal
      "confirm.title": { zh: "\u786E\u8BA4\u64CD\u4F5C", en: "Confirm" },
      // Form modal
      "form.name": { zh: "\u540D\u79F0", en: "Name" },
      "form.icon": { zh: "\u56FE\u6807", en: "Icon" },
      "form.price": { zh: "\u4EF7\u683C", en: "Price" },
      "form.purchaseOn": { zh: "\u8D2D\u5165\u4E8E", en: "Purchased on" },
      "form.purchaseDate": { zh: "\u8D2D\u5165\u65E5\u671F", en: "Purchase date" },
      "form.endDate": { zh: "\u5230\u671F", en: "End date" },
      "form.endDatePlaceholder": { zh: "(\u8BA1\u5212)\u62A5\u5E9F/\u56DE\u6536/\u5230\u671F\u65F6\u95F4", en: "Planned scrap/recycle/end date" },
      "form.recyclePrice": { zh: "\u56DE\u6536\u4EF7", en: "Recycle price" },
      "form.tags": { zh: "\u6807\u7B7E", en: "Tags" },
      "form.assetName.placeholder": { zh: "\u8D44\u4EA7\u540D\u79F0", en: "Asset name" },
      "form.icon.placeholder": { zh: "\u8BF7\u8F93\u5165\u4E00\u4E2A Emoji \u4F5C\u4E3A\u56FE\u6807", en: "Please enter one Emoji as icon" },
      "form.price.placeholder": { zh: "\u8D2D\u5165\u4EF7\u683C\uFF08\u5143\uFF09", en: "Purchase price" },
      "form.recycle.placeholder": { zh: "\u56DE\u6536\u4EF7\u683C\uFF08\u5143\uFF09", en: "Recycle price" },
      "form.tags.placeholder": { zh: "\u8F93\u5165\u6807\u7B7E\uFF0C\u56DE\u8F66\u786E\u8BA4", en: "Type tags and press Enter" },
      "form.action.cancel": { zh: "\u53D6\u6D88", en: "Cancel" },
      "form.action.delete": { zh: "\u5220\u9664", en: "Delete" },
      "form.action.save": { zh: "\u4FDD\u5B58", en: "Save" },
      "form.error.nameRequired": { zh: "\u8BF7\u586B\u5199\u540D\u79F0", en: "Please enter a name" },
      "form.error.priceInvalid": { zh: "\u8BF7\u586B\u5199\u6709\u6548\u7684\u4EF7\u683C", en: "Please enter a valid price" },
      "form.error.fromRequired": { zh: "\u8BF7\u9009\u62E9\u8D2D\u5165\u65E5\u671F", en: "Please select a purchase date" },
      "form.error.toBeforeFrom": { zh: "\u5230\u671F\u65E5\u671F\u9700\u4E0D\u65E9\u4E8E\u8D2D\u5165\u65E5\u671F", en: "End date must not be earlier than purchase date" },
      "form.error.recycleInvalid": { zh: "\u56DE\u6536\u4EF7\u683C\u683C\u5F0F\u4E0D\u6B63\u786E", en: "Invalid recycle price format" },
      "form.error.recycleGtPrice": { zh: "\u56DE\u6536\u4EF7\u4E0D\u80FD\u5927\u4E8E\u4EF7\u683C", en: "Recycle price must not exceed price" },
      // Tag panel
      "tags.search.placeholder": { zh: "\u641C\u7D22\u6807\u7B7E", en: "Search tags" },
      "tags.selectAll": { zh: "\u5168\u9009", en: "Select all" },
      "tags.deselectAll": { zh: "\u53D6\u6D88\u5168\u9009", en: "Deselect all" }
    };
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LacCostSetPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// types.ts
var DEFAULT_SETTINGS = {
  defaultIcon: "\u{1F4E6}",
  entryFile: "LaC/CostSet/costset.md",
  enableContextMenu: true,
  defaultSort: "none",
  locale: "auto"
};

// main.ts
init_i18n();

// repositories/AssetRepository.ts
var import_obsidian = require("obsidian");

// models/Asset.ts
var Asset = class {
  constructor(idOrRawData, tomlData) {
    var _a, _b, _c, _d, _e, _f, _g;
    if (typeof idOrRawData === "string" && tomlData) {
      this.id = idOrRawData;
      const src = tomlData.costset ? tomlData.costset : tomlData;
      this.name = src.name || "";
      this.icon = (_d = (_c = (_a = src.style) == null ? void 0 : _a.icon) != null ? _c : (_b = tomlData.style) == null ? void 0 : _b.icon) != null ? _d : "\u{1F4E6}";
      const detail = (_f = (_e = src.detail) != null ? _e : tomlData.detail) != null ? _f : {};
      this.price = Number(detail.price) || 0;
      this.activeFrom = this.parseDate(detail.active_from) || new Date();
      this.activeTo = this.parseDate(detail.active_to) || void 0;
      this.recyclePrice = Number(detail.recycle_price) || 0;
      this.tags = Array.isArray(detail.tags) ? detail.tags : (detail.tags || "").split(",").map((l) => l.trim()).filter((tag) => tag);
      this.hidden = !!((_g = detail.hidden) != null ? _g : src.hidden);
    } else if (typeof idOrRawData === "object") {
      this.id = idOrRawData.id || "";
      this.name = idOrRawData.name || "";
      this.icon = idOrRawData.icon || "\u{1F4E6}";
      this.price = Number(idOrRawData.price) || 0;
      this.activeFrom = this.parseDate(idOrRawData.active_from || idOrRawData.activeFrom) || new Date();
      this.activeTo = this.parseDate(idOrRawData.active_to || idOrRawData.activeTo) || void 0;
      this.recyclePrice = Number(idOrRawData.recycle_price) || 0;
      this.tags = Array.isArray(idOrRawData.tags) ? idOrRawData.tags : (idOrRawData.tags || "").split(",").map((l) => l.trim()).filter((tag) => tag);
      this.hidden = !!idOrRawData.hidden;
    } else {
      throw new Error("Invalid asset data");
    }
  }
  parseDate(dateStr) {
    if (!dateStr)
      return void 0;
    const date = new Date(dateStr);
    return isNaN(date.getTime()) ? void 0 : date;
  }
  getName() {
    return this.name;
  }
  getPrice() {
    return this.price;
  }
  getDailyCost(now = new Date()) {
    const from = this.activeFrom;
    const end = this.activeTo && this.activeTo.getTime() < now.getTime() ? this.activeTo : now;
    const days = Math.max(1, Math.floor((end.getTime() - from.getTime()) / 864e5));
    return (this.price - this.recyclePrice) / days;
  }
  getUsageDays(now = new Date()) {
    const from = this.activeFrom;
    const end = this.activeTo && this.activeTo.getTime() < now.getTime() ? this.activeTo : now;
    return Math.max(1, Math.floor((end.getTime() - from.getTime()) / 864e5));
  }
  isActive(date = new Date()) {
    return this.activeFrom <= date && (!this.activeTo || date < this.activeTo);
  }
  toTomlString() {
    const formatDate = (date) => {
      if (!date)
        return "";
      return date.toISOString().split("T")[0];
    };
    return `name = "${this.name}"

[style]
icon = "${this.icon}"

[detail]
price = ${this.price}
active_from = "${formatDate(this.activeFrom)}"
active_to = "${formatDate(this.activeTo)}"
recycle_price = ${this.recyclePrice}
tags = [${this.tags.map((tag) => `"${tag}"`).join(", ")}]
`;
  }
  // 仅输出 costset 命名空间的 TOML 片段（用于安全合并）
  toCostsetTomlSections() {
    const formatDate = (date) => {
      if (!date)
        return "";
      return date.toISOString().split("T")[0];
    };
    const tagsStr = this.tags.map((tag) => `"${tag}"`).join(", ");
    return `[costset]
name = "${this.name}"
hidden = ${this.hidden ? "true" : "false"}

[costset.style]
icon = "${this.icon}"

[costset.detail]
price = ${this.price}
active_from = "${formatDate(this.activeFrom)}"
active_to = "${formatDate(this.activeTo)}"
recycle_price = ${this.recyclePrice}
tags = [${tagsStr}]
`;
  }
};

// repositories/AssetRepository.ts
var AssetRepository = class {
  constructor(app, rootFilePath) {
    this.app = app;
    this.rootFilePath = rootFilePath;
  }
  // 获取资产文件夹路径（从根文件路径推导）
  getAssetsFolder() {
    const pathParts = this.rootFilePath.split("/");
    if (pathParts.length > 1) {
      return pathParts.slice(0, -1).join("/");
    }
    return "assets";
  }
  // 加载所有资产
  async loadAll() {
    const rootFile = this.app.vault.getAbstractFileByPath(this.rootFilePath);
    if (!rootFile || !(rootFile instanceof import_obsidian.TFile)) {
      return [];
    }
    try {
      const content = await this.app.vault.read(rootFile);
      const matches = content.match(/\[\[([^\]]+)\]\]/g) || [];
      const linkTargets = matches.map((m) => m.replace(/^\[\[|\]\]$/g, "")).map((s) => {
        var _a;
        return (_a = s.split("|")[0]) == null ? void 0 : _a.trim();
      }).filter(Boolean);
      const assets = [];
      for (const target of linkTargets) {
        let file = null;
        try {
          file = this.app.metadataCache.getFirstLinkpathDest(target, this.rootFilePath);
        } catch (_) {
          file = null;
        }
        if (!file)
          continue;
        try {
          const fileContent = await this.app.vault.read(file);
          const data = this.parseToml(this.quoteWikilinksForToml(fileContent));
          const assetId = file.basename || target;
          const asset = new Asset(assetId, data);
          asset.hidden = false;
          assets.push(asset);
        } catch (e) {
          console.error(`Failed to load asset ${target}:`, e);
        }
      }
      return assets;
    } catch (e) {
      console.error("Failed to load assets:", e);
      return [];
    }
  }
  // 保存资产（仅修改与 costset 相关的键：name、style.icon、detail.*、hidden）
  async saveAsset(asset) {
    let targetFile = null;
    try {
      targetFile = this.app.metadataCache.getFirstLinkpathDest(asset.id, this.rootFilePath);
    } catch (_) {
      targetFile = null;
    }
    if (!targetFile) {
      let fileName = `${asset.id}.md`;
      let filePath = `${this.getAssetsFolder()}/${fileName}`;
      const folder = this.app.vault.getAbstractFileByPath(this.getAssetsFolder());
      if (!folder) {
        await this.app.vault.createFolder(this.getAssetsFolder());
      }
      const initialContent = this.dequoteWikilinks(asset.toTomlString());
      try {
        await this.app.vault.create(filePath, initialContent);
      } catch (e) {
        fileName = `${encodeURIComponent(asset.id)}.md`;
        filePath = `${this.getAssetsFolder()}/${fileName}`;
        await this.app.vault.create(filePath, initialContent);
      }
    } else {
      const existing = await this.app.vault.read(targetFile);
      const rewritten = this.rewriteTomlWithCommentsTop(existing, asset);
      await this.app.vault.modify(targetFile, this.dequoteWikilinks(rewritten));
    }
    await this.updateRootFile(asset.id, true);
  }
  // 删除资产
  async deleteAsset(id) {
    await this.updateRootFile(id, false);
  }
  // 注意：hidden 字段不持久化（仅内存使用），此处不提供 setHidden
  // 更新根文件
  async updateRootFile(assetId, isAdd) {
    const rootPath = this.rootFilePath;
    let rootContent = "";
    try {
      const rootFile = this.app.vault.getAbstractFileByPath(rootPath);
      if (rootFile && rootFile instanceof import_obsidian.TFile) {
        rootContent = await this.app.vault.read(rootFile);
      }
    } catch (e) {
    }
    if (isAdd) {
      const hasAnyLink = new RegExp(`\\[\\[${assetId}(\\|[^\\]]+)?\\]\\]`).test(rootContent);
      if (!hasAnyLink) {
        rootContent += `
[[${assetId}]]`;
      }
    } else {
      rootContent = rootContent.replace(new RegExp(`\\[\\[${assetId}(\\|[^\\]]+)?\\]\\]`, "g"), "");
      rootContent = rootContent.replace(/\n{3,}/g, "\n\n").trimEnd();
    }
    const existingRoot = this.app.vault.getAbstractFileByPath(rootPath);
    if (existingRoot && existingRoot instanceof import_obsidian.TFile) {
      await this.app.vault.modify(existingRoot, rootContent);
    } else {
      await this.app.vault.create(rootPath, rootContent);
    }
  }
  // 解析TOML内容（支持嵌套节名，如 [costset.detail]）
  parseToml(content) {
    const lines = content.split("\n");
    const result = {};
    let currentPath = [];
    const ensurePath = (root, path) => {
      let node = root;
      for (const part of path) {
        if (!node[part] || typeof node[part] !== "object")
          node[part] = {};
        node = node[part];
      }
      return node;
    };
    for (const raw of lines) {
      const line = raw.trim();
      if (!line || line.startsWith("#"))
        continue;
      if (line.startsWith("[") && line.endsWith("]")) {
        const section = line.slice(1, -1).trim();
        currentPath = section.split(".").map((s) => s.trim()).filter(Boolean);
        ensurePath(result, currentPath);
        continue;
      }
      const eq = line.indexOf("=");
      if (eq === -1)
        continue;
      const cleanKey = line.slice(0, eq).trim();
      let cleanValue = line.slice(eq + 1).trim();
      let parsedValue = cleanValue;
      if (cleanValue.startsWith('"') && cleanValue.endsWith('"')) {
        parsedValue = cleanValue.slice(1, -1);
      } else if (cleanValue === "true" || cleanValue === "false") {
        parsedValue = cleanValue === "true";
      } else if (cleanValue.startsWith("[") && cleanValue.endsWith("]")) {
        const arrayContent = cleanValue.slice(1, -1).trim();
        parsedValue = arrayContent ? arrayContent.split(",").map((item) => item.trim().replace(/^"|"$/g, "")) : [];
      } else if (!isNaN(Number(cleanValue))) {
        parsedValue = Number(cleanValue);
      }
      if (currentPath.length > 0) {
        const node = ensurePath(result, currentPath);
        node[cleanKey] = parsedValue;
      } else {
        result[cleanKey] = parsedValue;
      }
    }
    return result;
  }
  // 纯 TOML 重写模式：解析→修改→stringify；将原有注释置顶保留
  rewriteTomlWithCommentsTop(existing, asset) {
    const commentLines = [];
    const otherLines = [];
    for (const raw of existing.split("\n")) {
      const t2 = raw.trim();
      if (t2.startsWith("#"))
        commentLines.push(raw);
      else
        otherLines.push(raw);
    }
    const parsed = this.parseToml(this.quoteWikilinksForToml(otherLines.join("\n"))) || {};
    parsed["name"] = asset.name;
    if (!parsed["style"] || typeof parsed["style"] !== "object")
      parsed["style"] = {};
    parsed["style"]["icon"] = asset.icon;
    if (!parsed["detail"] || typeof parsed["detail"] !== "object")
      parsed["detail"] = {};
    parsed["detail"]["price"] = Number(asset.price) || 0;
    parsed["detail"]["active_from"] = asset.activeFrom ? asset.activeFrom.toISOString().split("T")[0] : "";
    parsed["detail"]["active_to"] = asset.activeTo ? asset.activeTo.toISOString().split("T")[0] : "";
    parsed["detail"]["recycle_price"] = Number(asset.recyclePrice) || 0;
    parsed["detail"]["tags"] = Array.isArray(asset.tags) ? asset.tags : [];
    const tomlBody = this.stringifyToml(parsed);
    const commentBlock = commentLines.length > 0 ? commentLines.join("\n") + "\n\n" : "";
    return commentBlock + tomlBody;
  }
  // 将 JS 对象稳定地序列化为 TOML 文本（支持多层节名）
  stringifyToml(obj) {
    const isPlainObject = (v) => v && typeof v === "object" && !Array.isArray(v);
    const keys = Object.keys(obj || {});
    const scalarKeys = keys.filter((k) => !isPlainObject(obj[k]));
    const objectKeys = keys.filter((k) => isPlainObject(obj[k]));
    const lines = [];
    if (scalarKeys.includes("name")) {
      lines.push(this.renderTomlKeyValue("name", obj["name"]));
    }
    scalarKeys.filter((k) => k !== "name").sort((a, b) => a.localeCompare(b)).forEach((k) => lines.push(this.renderTomlKeyValue(k, obj[k])));
    const sectionOrder = ["style", "detail"];
    const orderedObjectKeys = [
      ...sectionOrder.filter((k) => objectKeys.includes(k)),
      ...objectKeys.filter((k) => !sectionOrder.includes(k)).sort((a, b) => a.localeCompare(b))
    ];
    for (const k of orderedObjectKeys) {
      lines.push("");
      this.renderTomlSection(lines, [k], obj[k]);
    }
    return lines.join("\n").replace(/\n{3,}/g, "\n\n").trim() + "\n";
  }
  renderTomlSection(out, path, value) {
    out.push(`[${path.join(".")}]`);
    const isPlainObject = (v) => v && typeof v === "object" && !Array.isArray(v);
    const keys = Object.keys(value || {});
    const scalarKeys = keys.filter((k) => !isPlainObject(value[k]));
    const objectKeys = keys.filter((k) => isPlainObject(value[k]));
    scalarKeys.sort((a, b) => a.localeCompare(b)).forEach((k) => {
      out.push(this.renderTomlKeyValue(k, value[k]));
    });
    const orderedObjectKeys = objectKeys.sort((a, b) => a.localeCompare(b));
    for (const k of orderedObjectKeys) {
      out.push("");
      this.renderTomlSection(out, [...path, k], value[k]);
    }
  }
  renderTomlKeyValue(key, val) {
    return `${key} = ${this.tomlValue(val)}`;
  }
  tomlValue(val) {
    if (val === null || val === void 0)
      return '""';
    if (Array.isArray(val)) {
      return `[${val.map((v) => this.tomlValue(v)).join(", ")}]`;
    }
    switch (typeof val) {
      case "number":
        return Number.isFinite(val) ? String(val) : "0";
      case "boolean":
        return val ? "true" : "false";
      case "string":
      default:
        return `"${String(val).replace(/\\/g, "\\\\").replace(/\"/g, '\\"')}"`;
    }
  }
  // 将裸的 [[...]] 或 [[...|alias]] 包裹为可被 TOML 解析的字符串
  quoteWikilinksForToml(content) {
    return content.replace(/\[\[[^\]]+\]\]/g, (match, offset, full) => {
      const before = offset > 0 ? full[offset - 1] : "";
      const after = offset + match.length < full.length ? full[offset + match.length] : "";
      if (before === '"' && after === '"' || before === "'" && after === "'") {
        return match;
      }
      return `"${match}"`;
    });
  }
  // 将 "[[...]]" 或 '[[...]]' 形式还原为裸的双链
  dequoteWikilinks(content) {
    return content.replace(/(["'])\[\[[^\]]+\]\]\1/g, (match) => match.slice(1, -1));
  }
};

// components/modals/AssetFormModal.ts
var import_obsidian2 = require("obsidian");

// components/modals/ConfirmModal.ts
var ConfirmModal = class {
  constructor(message, confirmText = "\u786E\u5B9A", cancelText = "\u53D6\u6D88", danger = false) {
    this.message = message;
    this.confirmText = confirmText;
    this.cancelText = cancelText;
    this.danger = danger;
  }
  open() {
    return new Promise((resolve) => {
      this.injectStylesOnce();
      this.maskEl = document.createElement("div");
      this.maskEl.className = "date-picker-mask";
      this.modalEl = document.createElement("div");
      this.modalEl.className = "date-picker-modal";
      const content = document.createElement("div");
      content.className = "date-picker-content";
      const title = document.createElement("div");
      title.className = "date-picker-title";
      try {
        const { t: t2 } = (init_i18n(), __toCommonJS(i18n_exports));
        title.textContent = t2("confirm.title");
      } catch (_) {
        title.textContent = "\u786E\u8BA4\u64CD\u4F5C";
      }
      const msgEl = document.createElement("div");
      msgEl.className = "confirm-message";
      msgEl.textContent = this.message;
      const actions = document.createElement("div");
      actions.className = "date-picker-actions";
      const cancelBtn = document.createElement("button");
      cancelBtn.className = "date-picker-btn date-picker-btn-cancel";
      cancelBtn.textContent = this.cancelText;
      const confirmBtn = document.createElement("button");
      confirmBtn.className = "date-picker-btn date-picker-btn-confirm";
      confirmBtn.textContent = this.confirmText;
      if (this.danger)
        confirmBtn.classList.add("danger");
      actions.appendChild(cancelBtn);
      actions.appendChild(confirmBtn);
      content.appendChild(title);
      content.appendChild(msgEl);
      content.appendChild(actions);
      this.modalEl.appendChild(content);
      this.maskEl.appendChild(this.modalEl);
      document.body.appendChild(this.maskEl);
      const close = (result) => {
        if (this.maskEl && this.maskEl.parentElement) {
          this.maskEl.parentElement.removeChild(this.maskEl);
        }
        this.maskEl = void 0;
        this.modalEl = void 0;
        resolve(result);
      };
      this.maskEl.addEventListener("click", (e) => {
        if (e.target === this.maskEl)
          close(false);
      });
      cancelBtn.addEventListener("click", () => close(false));
      confirmBtn.addEventListener("click", () => close(true));
    });
  }
  injectStylesOnce() {
    const STYLE_ID = "lac-confirm-modal-styles";
    if (document.getElementById(STYLE_ID))
      return;
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
            .date-picker-modal .confirm-message { color: #F5F6FA; line-height: 1.6; padding: 8px 0 16px; }
            .date-picker-modal .date-picker-btn.danger { background: #7a1e1e; color: #fff; }
            .date-picker-modal .date-picker-btn.danger:hover { background: #992525; }
        `;
    document.head.appendChild(style);
  }
};

// components/modals/AssetFormModal.ts
init_i18n();
var AssetFormModal = class {
  constructor(app, assetRepository, asset, onSaved) {
    this.app = app;
    this.assetRepository = assetRepository;
    this.asset = asset;
    this.onSaved = onSaved;
  }
  open() {
    var _a, _b;
    this.maskEl = document.createElement("div");
    this.maskEl.className = "date-picker-mask";
    this.modalEl = document.createElement("div");
    this.modalEl.className = "date-picker-modal asset-form-modal";
    this.injectAssetFormStyles();
    const content = document.createElement("div");
    content.className = "date-picker-content";
    content.style.gap = "0px";
    const form = document.createElement("form");
    form.className = "asset-form asset-form--horizontal";
    form.style.display = "grid";
    form.style.gridTemplateColumns = "1fr";
    form.style.rowGap = "0px";
    form.style.gap = "0px";
    const ensureErrorEl = (group) => {
      let err = group.querySelector(".field-error");
      if (!err) {
        const field = group.querySelector(".form-field");
        err = document.createElement("div");
        err.className = "field-error";
        if (field)
          field.appendChild(err);
        else
          group.appendChild(err);
      }
      return err;
    };
    const setError = (group, message) => {
      group.classList.add("has-error");
      const input = group.querySelector("input, textarea, select");
      if (input)
        input.setAttribute("aria-invalid", "true");
      ensureErrorEl(group).textContent = message;
    };
    const clearError = (group) => {
      group.classList.remove("has-error");
      const input = group.querySelector("input, textarea, select");
      if (input)
        input.setAttribute("aria-invalid", "false");
      const err = group.querySelector(".field-error");
      if (err)
        err.remove();
    };
    const nameGroup = document.createElement("div");
    nameGroup.className = "form-group";
    {
      const lbl = this.createLabel(t("form.name"));
      lbl.classList.add("label-required");
      nameGroup.appendChild(lbl);
    }
    const nameInput = document.createElement("input");
    nameInput.type = "text";
    nameInput.placeholder = t("form.assetName.placeholder");
    if (this.asset)
      nameInput.value = this.asset.name;
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(nameInput);
      nameGroup.appendChild(field);
    }
    this.applyRowLayout(nameGroup);
    form.appendChild(nameGroup);
    const validateName = () => {
      const v = (nameInput.value || "").trim();
      if (!v) {
        setError(nameGroup, t("form.error.nameRequired"));
        return false;
      }
      clearError(nameGroup);
      return true;
    };
    nameInput.addEventListener("input", validateName);
    nameInput.addEventListener("blur", validateName);
    const iconGroup = document.createElement("div");
    iconGroup.className = "form-group";
    iconGroup.appendChild(this.createLabel(t("form.icon")));
    const iconInput = document.createElement("input");
    iconInput.type = "text";
    iconInput.placeholder = "\u{1F60A}" + t("form.icon.placeholder");
    if (this.asset)
      iconInput.value = this.asset.icon;
    else {
      try {
        const plugin = (_b = (_a = this.app.plugins) == null ? void 0 : _a.plugins) == null ? void 0 : _b["lac-costset"];
        const fallback = "\u{1F4E6}";
        iconInput.value = plugin && plugin.settings && plugin.settings.defaultIcon ? plugin.settings.defaultIcon : fallback;
      } catch (_) {
        iconInput.value = "\u{1F4E6}";
      }
    }
    const enforceSingleEmoji = () => {
      const first = this.getFirstEmojiGrapheme(iconInput.value || "");
      iconInput.value = first || "";
    };
    iconInput.addEventListener("input", enforceSingleEmoji);
    iconInput.addEventListener("paste", (e) => {
      setTimeout(enforceSingleEmoji, 0);
    });
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(iconInput);
      iconGroup.appendChild(field);
    }
    this.applyRowLayout(iconGroup);
    form.appendChild(iconGroup);
    const priceGroup = document.createElement("div");
    priceGroup.className = "form-group";
    {
      const lbl = this.createLabel(t("form.price"));
      lbl.classList.add("label-required");
      priceGroup.appendChild(lbl);
    }
    const priceInput = document.createElement("input");
    priceInput.type = "number";
    priceInput.placeholder = t("form.price.placeholder");
    priceInput.step = "0.01";
    if (this.asset)
      priceInput.value = this.asset.price.toString();
    const sanitizeNumeric = (el) => {
      el.value = this.sanitizeNumericString(el.value || "");
    };
    const limitTwoDecimals = (el) => {
      el.value = this.clampTwoDecimalsString(el.value || "");
    };
    priceInput.addEventListener("input", () => sanitizeNumeric(priceInput));
    priceInput.addEventListener("blur", () => {
      sanitizeNumeric(priceInput);
      limitTwoDecimals(priceInput);
    });
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(priceInput);
      priceGroup.appendChild(field);
    }
    this.applyRowLayout(priceGroup);
    form.appendChild(priceGroup);
    const validatePrice = () => {
      const str = (priceInput.value || "").trim();
      const num = this.parseMoney(str);
      if (num === null) {
        setError(priceGroup, t("form.error.priceInvalid"));
        return false;
      }
      clearError(priceGroup);
      return true;
    };
    priceInput.addEventListener("input", validatePrice);
    priceInput.addEventListener("blur", validatePrice);
    const fromGroup = document.createElement("div");
    fromGroup.className = "form-group";
    {
      const lbl = this.createLabel(t("form.purchaseOn"));
      lbl.classList.add("label-required");
      fromGroup.appendChild(lbl);
    }
    const fromInput = document.createElement("input");
    fromInput.type = "text";
    fromInput.readOnly = true;
    fromInput.placeholder = t("form.purchaseDate");
    fromInput.value = this.asset ? this.formatDateLocal(this.asset.activeFrom) : "";
    fromInput.addEventListener("click", () => {
      var _a2;
      this.openDatePicker(fromInput.value ? new Date(fromInput.value) : ((_a2 = this.asset) == null ? void 0 : _a2.activeFrom) || new Date(), (picked) => {
        fromInput.value = this.formatDateLocal(picked);
        clearError(fromGroup);
      });
    });
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(fromInput);
      fromGroup.appendChild(field);
    }
    this.applyRowLayout(fromGroup);
    form.appendChild(fromGroup);
    const validateFrom = () => {
      if (!fromInput.value) {
        setError(fromGroup, t("form.error.fromRequired"));
        return false;
      }
      clearError(fromGroup);
      return true;
    };
    fromInput.addEventListener("blur", validateFrom);
    const toGroup = document.createElement("div");
    toGroup.className = "form-group";
    toGroup.appendChild(this.createLabel(t("form.endDate")));
    const toInput = document.createElement("input");
    toInput.type = "text";
    toInput.readOnly = true;
    toInput.placeholder = t("form.endDatePlaceholder");
    toInput.value = this.asset && this.asset.activeTo ? this.formatDateLocal(this.asset.activeTo) : "";
    let clearBtn;
    const updateToClear = () => {
      if (clearBtn)
        clearBtn.style.display = toInput.value ? "inline-flex" : "none";
    };
    toInput.addEventListener("click", () => {
      var _a2;
      this.openDatePicker(toInput.value ? new Date(toInput.value) : ((_a2 = this.asset) == null ? void 0 : _a2.activeTo) || new Date(), (picked) => {
        toInput.value = this.formatDateLocal(picked);
        updateToClear();
        if (fromInput.value) {
          const fd = new Date(fromInput.value);
          const td = new Date(toInput.value);
          if (td.getTime() < fd.getTime())
            setError(toGroup, t("form.error.toBeforeFrom"));
          else
            clearError(toGroup);
        }
      });
    });
    {
      const field = document.createElement("div");
      field.className = "form-field";
      const wrap = document.createElement("div");
      wrap.className = "input-with-clear";
      wrap.appendChild(toInput);
      clearBtn = document.createElement("button");
      clearBtn.type = "button";
      clearBtn.className = "input-clear";
      clearBtn.textContent = "\xD7";
      clearBtn.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        toInput.value = "";
        updateToClear();
      });
      wrap.appendChild(clearBtn);
      field.appendChild(wrap);
      toGroup.appendChild(field);
    }
    this.applyRowLayout(toGroup);
    form.appendChild(toGroup);
    updateToClear();
    const recycleGroup = document.createElement("div");
    recycleGroup.className = "form-group";
    recycleGroup.appendChild(this.createLabel(t("form.recyclePrice")));
    const recycleInput = document.createElement("input");
    recycleInput.type = "number";
    recycleInput.placeholder = t("form.recycle.placeholder");
    recycleInput.step = "0.01";
    if (this.asset)
      recycleInput.value = this.asset.recyclePrice.toString();
    recycleInput.addEventListener("input", () => sanitizeNumeric(recycleInput));
    recycleInput.addEventListener("blur", () => {
      sanitizeNumeric(recycleInput);
      limitTwoDecimals(recycleInput);
    });
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(recycleInput);
      recycleGroup.appendChild(field);
    }
    this.applyRowLayout(recycleGroup);
    form.appendChild(recycleGroup);
    const tagsGroup = document.createElement("div");
    tagsGroup.className = "form-group";
    tagsGroup.appendChild(this.createLabel(t("form.tags")));
    let currentTags = this.asset ? [...this.asset.tags || []] : [];
    const tagsWrapper = document.createElement("div");
    tagsWrapper.className = "tags-input";
    const tagsInput = document.createElement("input");
    tagsInput.type = "text";
    tagsInput.placeholder = t("form.tags.placeholder");
    tagsWrapper.appendChild(tagsInput);
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(tagsWrapper);
      tagsGroup.appendChild(field);
    }
    this.applyRowLayout(tagsGroup);
    form.appendChild(tagsGroup);
    const normalize = (tstr) => tstr.trim();
    const addTag = (raw) => {
      const pieces = raw.split(/[，,\s]+/).map(normalize).filter(Boolean);
      pieces.forEach((p) => {
        if (!currentTags.includes(p))
          currentTags.push(p);
      });
      syncChips();
      tagsInput.value = "";
    };
    const removeTag = (value) => {
      currentTags = currentTags.filter((tg) => tg !== value);
      syncChips();
    };
    const syncChips = () => {
      Array.from(tagsWrapper.querySelectorAll(".tag-chip")).forEach((el) => el.remove());
      currentTags.forEach((tag) => {
        const chip = document.createElement("span");
        chip.className = "tag-chip";
        chip.textContent = tag;
        const rm = document.createElement("button");
        rm.type = "button";
        rm.className = "remove";
        rm.textContent = "\xD7";
        rm.addEventListener("click", () => removeTag(tag));
        chip.appendChild(rm);
        tagsWrapper.insertBefore(chip, tagsInput);
      });
    };
    syncChips();
    tagsInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === "," || e.key === "\uFF0C") {
        e.preventDefault();
        if (tagsInput.value.trim())
          addTag(tagsInput.value);
      }
      if (e.key === "Backspace" && !tagsInput.value && currentTags.length > 0) {
        e.preventDefault();
        removeTag(currentTags[currentTags.length - 1]);
      }
    });
    tagsInput.addEventListener("blur", () => {
      if (tagsInput.value.trim())
        addTag(tagsInput.value);
    });
    const actions = document.createElement("div");
    actions.className = "form-actions";
    const cancelBtn = document.createElement("button");
    cancelBtn.type = "button";
    cancelBtn.textContent = t("form.action.cancel");
    cancelBtn.className = "form-btn form-btn-secondary";
    const deleteBtn = document.createElement("button");
    deleteBtn.type = "button";
    deleteBtn.textContent = t("form.action.delete");
    deleteBtn.className = "form-btn form-btn-danger";
    const saveBtn = document.createElement("button");
    saveBtn.type = "submit";
    saveBtn.textContent = t("form.action.save");
    saveBtn.className = "form-btn form-btn-primary";
    actions.appendChild(cancelBtn);
    if (this.asset)
      actions.appendChild(deleteBtn);
    actions.appendChild(saveBtn);
    form.appendChild(actions);
    content.appendChild(form);
    this.modalEl.appendChild(content);
    this.maskEl.appendChild(this.modalEl);
    document.body.appendChild(this.maskEl);
    const close = () => this.close();
    this.maskEl.addEventListener("click", (e) => {
      if (e.target === this.maskEl)
        close();
    });
    cancelBtn.addEventListener("click", close);
    if (this.asset) {
      deleteBtn.addEventListener("click", async () => {
        if (!this.asset)
          return;
        const ok = await new ConfirmModal(t("view.confirmDeleteAsset", { name: this.asset.name }), t("common.delete"), t("common.cancel"), true).open();
        if (!ok)
          return;
        await this.assetRepository.deleteAsset(this.asset.id);
        if (this.onSaved)
          this.onSaved();
        close();
      });
    }
    form.addEventListener("submit", async (e) => {
      var _a2, _b2, _c;
      e.preventDefault();
      clearError(nameGroup);
      clearError(priceGroup);
      clearError(fromGroup);
      clearError(toGroup);
      clearError(recycleGroup);
      const nameVal = (nameInput.value || "").trim();
      const priceStr = (priceInput.value || "").trim();
      const priceNum = this.parseMoney(priceStr);
      let valid = true;
      if (!nameVal) {
        setError(nameGroup, t("form.error.nameRequired"));
        valid = false;
      }
      if (priceNum === null) {
        setError(priceGroup, t("form.error.priceInvalid"));
        valid = false;
      }
      if (!fromInput.value) {
        setError(fromGroup, t("form.error.fromRequired"));
        valid = false;
      }
      if (!valid) {
        const firstErr = [nameGroup, priceGroup, fromGroup].find((g) => g.classList.contains("has-error"));
        if (firstErr) {
          (_a2 = firstErr.querySelector("input")) == null ? void 0 : _a2.focus();
          firstErr.scrollIntoView({ behavior: "smooth", block: "center" });
        }
        return;
      }
      const fromDate = new Date(fromInput.value);
      const priceValue = priceNum;
      let toDate = void 0;
      if (toInput.value) {
        const d = new Date(toInput.value);
        if (d.getTime() < fromDate.getTime()) {
          setError(toGroup, t("form.error.toBeforeFrom"));
          (_b2 = toGroup.querySelector("input")) == null ? void 0 : _b2.focus();
          return;
        }
        toDate = d;
      }
      const recycleStr = (recycleInput.value || "").trim();
      const recycleNum = recycleStr ? this.parseMoney(recycleStr) : 0;
      if (recycleStr && recycleNum === null) {
        setError(recycleGroup, t("form.error.recycleInvalid"));
        return;
      }
      if ((recycleNum || 0) > priceValue) {
        setError(recycleGroup, t("form.error.recycleGtPrice"));
        return;
      }
      const assetData = {
        id: ((_c = this.asset) == null ? void 0 : _c.id) || nameVal,
        name: nameVal,
        icon: iconInput.value || "\u{1F4E6}",
        price: priceValue,
        activeFrom: fromDate,
        activeTo: toDate,
        recyclePrice: recycleNum || 0,
        tags: currentTags
      };
      try {
        const asset = new Asset(assetData);
        await this.assetRepository.saveAsset(asset);
        if (this.onSaved)
          this.onSaved();
        close();
      } catch (error) {
        new import_obsidian2.Notice(t("notice.saveFailed", { msg: error.message }));
      }
    });
  }
  injectAssetFormStyles() {
    const STYLE_ID = "asset-form-inline-styles";
    if (document.getElementById(STYLE_ID))
      return;
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
			/* \u5230\u671F\u8F93\u5165\u6E05\u9664\u6309\u94AE */
			.date-picker-modal.asset-form-modal .input-with-clear { position: relative; }
			.date-picker-modal.asset-form-modal .input-with-clear .input-clear { position: absolute; right: 6px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; border-radius: 50%; display: none; align-items: center; justify-content: center; font-size: 14px; line-height: 18px; }
			/* \u5F39\u7A97\u5BB9\u5668\u66F4\u7D27\u51D1 */
			.date-picker-modal.asset-form-modal { max-height: 80vh; overflow: auto; }
			.date-picker-modal.asset-form-modal .date-picker-content { padding: 16px 20px; display: flex; flex-direction: column; gap: 0 !important; }
			.date-picker-modal.asset-form-modal .date-picker-title { font-size: 14px; margin-bottom: 6px; }

			/* \u6A2A\u5411\u8868\u5355\u5E03\u5C40\uFF0C\u538B\u7F29\u5782\u76F4\u7A7A\u767D */
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal { font-size: 15.5px; display: grid !important; grid-template-columns: 1fr; row-gap: 8px !important; column-gap: 0 !important; gap: 8px !important; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .form-group { display: grid !important; grid-template-columns: 64px 1fr; align-items: center; column-gap: 8px; row-gap: 0; margin: 0 !important; padding: 0 !important; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal label { min-width: 64px; margin: 0; text-align: right; justify-self: end; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .form-field { width: 100%; margin: 0 !important; padding: 0 !important; }
			/* \u538B\u7F29\u8F93\u5165\u63A7\u4EF6\u9AD8\u5EA6\u4E0E\u5185\u8FB9\u8DDD */
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal input[type="text"],
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal input[type="number"] { height: 32px; padding: 4px 10px; font-size: 15.5px; line-height: 1.45; }
			/* \u6807\u7B7E\u8F93\u5165\u4E0E chip \u66F4\u7D27\u51D1 */
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .tags-input { display: flex; flex-wrap: wrap; gap: 4px; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .tag-chip { font-size: 12px; height: 18px; line-height: 18px; padding: 0 6px; border-radius: 4px; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .tag-chip .remove { width: 16px; height: 16px; line-height: 16px; font-size: 12px; margin-left: 4px; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .tags-input input { flex: 1; min-width: 120px; height: 28px; padding: 4px 10px; font-size: 14.5px; }

			/* \u5FC5\u586B\u4E0E\u9519\u8BEF\u6837\u5F0F */
			.date-picker-modal.asset-form-modal .label-required::after { content: ' *'; color: #ff4d4f; margin-left: 2px; }
			.date-picker-modal.asset-form-modal .form-group.has-error input[type="text"],
			.date-picker-modal.asset-form-modal .form-group.has-error input[type="number"] { border-color: #ff4d4f !important; box-shadow: 0 0 0 1px #ff4d4f inset; }
			.date-picker-modal.asset-form-modal .field-error { margin-top: 4px; color: #ff8587; font-size: 12px; line-height: 1.3; }
			.date-picker-modal.asset-form-modal .field-error:empty { display: none; margin-top: 0; }

			/* \u64CD\u4F5C\u6309\u94AE\u533A\u66F4\u7D27\u51D1 */
			.date-picker-modal.asset-form-modal .form-actions { margin-top: 12px; gap: 16px; display: flex; justify-content: center; }
			.date-picker-modal.asset-form-modal .form-btn { height: 34px; padding: 0 14px; font-size: 14px; }
		`;
    document.head.appendChild(style);
  }
  applyRowLayout(group) {
    group.style.display = "grid";
    group.style.gridTemplateColumns = "72px 1fr";
    group.style.alignItems = "center";
    group.style.columnGap = "8px";
    group.style.rowGap = "0px";
    group.style.margin = "0";
    const label = group.querySelector("label");
    if (label) {
      label.style.minWidth = "72px";
      label.style.display = "inline-block";
      label.style.margin = "0";
    }
    const field = group.querySelector(".form-field");
    if (field) {
      field.style.width = "100%";
    }
  }
  close() {
    if (this.maskEl && this.maskEl.parentElement) {
      this.maskEl.parentElement.removeChild(this.maskEl);
    }
    this.maskEl = void 0;
    this.modalEl = void 0;
  }
  formatDateLocal(date) {
    const d = new Date(date.getTime() - date.getTimezoneOffset() * 6e4);
    return d.toISOString().split("T")[0];
  }
  // —— 金额字符串处理（成熟逻辑）——
  sanitizeNumericString(value) {
    let v = (value || "").replace(/[^\d.]/g, "");
    v = v.replace(/^\./, "");
    v = v.replace(/\.(?=.*\.)/g, "");
    return v;
  }
  clampTwoDecimalsString(value) {
    const m = (value || "").match(/^(\d+)(?:\.(\d*))?$/);
    if (!m)
      return "";
    const intPart = m[1];
    const decPart = (m[2] || "").slice(0, 2);
    return decPart ? `${intPart}.${decPart}` : intPart;
  }
  parseMoney(value) {
    const sanitized = this.sanitizeNumericString(value);
    const clamped = this.clampTwoDecimalsString(sanitized);
    if (clamped === "")
      return null;
    const num = Number(clamped);
    return Number.isFinite(num) && num >= 0 ? num : null;
  }
  // 与 costsetapp 对齐：用 surrogate pair 匹配获取第一个 emoji
  getFirstEmojiGrapheme(input) {
    const emojiRegex = /[\uD800-\uDBFF][\uDC00-\uDFFF]/;
    const m = (input || "").match(emojiRegex);
    return m ? m[0] : "";
  }
  // 弹出日期选择器（复用日期/标签弹窗风格）
  openDatePicker(currentDate, onConfirm) {
    const mask = document.createElement("div");
    mask.className = "date-picker-mask";
    const picker = document.createElement("div");
    picker.className = "date-picker-modal";
    const content = document.createElement("div");
    content.className = "date-picker-content";
    const title = document.createElement("div");
    title.className = "date-picker-title";
    title.textContent = t("date.pick");
    const wheelContainer = document.createElement("div");
    wheelContainer.className = "date-wheel-container";
    const currentYear = currentDate.getFullYear();
    const currentMonth = currentDate.getMonth() + 1;
    const currentDay = currentDate.getDate();
    const yearColumn = this.createWheelColumn(t("date.year"), this.generateYears(currentYear), currentYear, (year) => {
      this.updateDaysColumn(dayColumn, year, monthColumn.selectedValue);
    }, false);
    const monthColumn = this.createWheelColumn(t("date.month"), this.generateMonths(), currentMonth, (month) => {
      this.updateDaysColumn(dayColumn, yearColumn.selectedValue, month);
    }, true);
    const dayColumn = this.createWheelColumn(t("date.day"), this.generateDays(currentYear, currentMonth), currentDay, void 0, true);
    wheelContainer.appendChild(yearColumn.element);
    wheelContainer.appendChild(monthColumn.element);
    wheelContainer.appendChild(dayColumn.element);
    const actions = document.createElement("div");
    actions.className = "date-picker-actions";
    const cancelBtn = document.createElement("button");
    cancelBtn.className = "date-picker-btn date-picker-btn-cancel";
    cancelBtn.textContent = t("common.cancel");
    const confirmBtn = document.createElement("button");
    confirmBtn.className = "date-picker-btn date-picker-btn-confirm";
    confirmBtn.textContent = t("common.confirm");
    actions.appendChild(cancelBtn);
    actions.appendChild(confirmBtn);
    content.appendChild(title);
    content.appendChild(wheelContainer);
    content.appendChild(actions);
    picker.appendChild(content);
    mask.appendChild(picker);
    document.body.appendChild(mask);
    const closePicker = () => {
      document.body.removeChild(mask);
    };
    mask.addEventListener("click", (e) => {
      if (e.target === mask)
        closePicker();
    });
    cancelBtn.addEventListener("click", closePicker);
    confirmBtn.addEventListener("click", () => {
      const year = yearColumn.selectedValue;
      const month = monthColumn.selectedValue;
      const day = dayColumn.selectedValue;
      const picked = new Date(`${year}-${month.toString().padStart(2, "0")}-${day.toString().padStart(2, "0")}`);
      onConfirm(picked);
      closePicker();
    });
  }
  generateYears(currentYear) {
    const minYear = 1900;
    const nowYear = new Date().getFullYear();
    const maxYear = nowYear + 7;
    const years = [];
    for (let i = minYear; i <= maxYear; i++)
      years.push(i);
    return years;
  }
  generateMonths() {
    return Array.from({ length: 12 }, (_, i) => i + 1);
  }
  generateDays(year, month) {
    const daysInMonth = new Date(year, month, 0).getDate();
    return Array.from({ length: daysInMonth }, (_, i) => i + 1);
  }
  createWheelColumn(suffix, values, selectedValue, onChange, isInfinite = false) {
    const column = document.createElement("div");
    column.className = "date-wheel-column";
    const container = document.createElement("div");
    container.className = "date-wheel-items";
    let selectedIndex = values.indexOf(selectedValue);
    let currentSelectedValue = selectedValue;
    const api = { element: column, selectedValue: currentSelectedValue };
    const itemHeight = 40;
    if (isInfinite) {
      const repeatCount = 5;
      const totalItems = values.length * repeatCount;
      const middleGroupIndex = 2;
      const initialScrollTop = middleGroupIndex * values.length * itemHeight + selectedIndex * itemHeight;
      for (let repeat = 0; repeat < repeatCount; repeat++) {
        values.forEach((value, index) => {
          const item = document.createElement("div");
          item.className = "date-wheel-item";
          item.textContent = `${value.toString().padStart(2, "0")}${suffix}`;
          item.dataset.value = value.toString();
          item.dataset.index = (repeat * values.length + index).toString();
          item.dataset.realValue = value.toString();
          container.appendChild(item);
        });
      }
      container.style.height = `${totalItems * itemHeight}px`;
      const initialItemIndex = middleGroupIndex * values.length + selectedIndex;
      const items = Array.from(container.querySelectorAll(".date-wheel-item"));
      if (items[initialItemIndex]) {
        items.forEach((el, idx) => el.classList.toggle("selected", idx === initialItemIndex));
      }
      requestAnimationFrame(() => {
        container.scrollTop = initialScrollTop;
      });
      let isScrolling = false;
      container.addEventListener("scroll", () => {
        if (isScrolling)
          return;
        const scrollTop = container.scrollTop;
        const currentIndex = Math.round(scrollTop / itemHeight);
        const realIndex = (currentIndex % values.length + values.length) % values.length;
        const realValue = values[realIndex];
        container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
          const itemRealIndex = index % values.length;
          item.classList.toggle("selected", itemRealIndex === realIndex);
        });
        selectedIndex = realIndex;
        currentSelectedValue = realValue;
        api.selectedValue = realValue;
        if (onChange)
          onChange(currentSelectedValue);
        const maxScrollTop = (repeatCount - 1) * values.length * itemHeight;
        if (scrollTop >= maxScrollTop) {
          isScrolling = true;
          const offset = scrollTop - maxScrollTop;
          container.scrollTop = values.length * itemHeight + offset;
          setTimeout(() => {
            isScrolling = false;
          }, 50);
        } else if (scrollTop <= 0) {
          isScrolling = true;
          const offset = scrollTop;
          container.scrollTop = (repeatCount - 2) * values.length * itemHeight + offset;
          setTimeout(() => {
            isScrolling = false;
          }, 50);
        }
      });
      container.addEventListener("click", (ev) => {
        const target = ev.target;
        const itemEl = target && target.closest ? target.closest(".date-wheel-item") : null;
        if (!itemEl)
          return;
        const clickedIndex = Number(itemEl.dataset.index || "0");
        const realIndex = (clickedIndex % values.length + values.length) % values.length;
        const middleIndex = middleGroupIndex * values.length + realIndex;
        container.scrollTop = middleIndex * itemHeight;
        selectedIndex = realIndex;
        currentSelectedValue = values[realIndex];
        api.selectedValue = currentSelectedValue;
        if (onChange)
          onChange(currentSelectedValue);
      });
    } else {
      values.forEach((value, index) => {
        const item = document.createElement("div");
        item.className = "date-wheel-item";
        item.textContent = `${value.toString().padStart(2, "0")}${suffix}`;
        item.dataset.value = value.toString();
        item.dataset.index = index.toString();
        if (value === currentSelectedValue)
          item.classList.add("selected");
        container.appendChild(item);
      });
      container.addEventListener("scroll", () => {
        const scrollTop = container.scrollTop;
        const newIndex = Math.round(scrollTop / itemHeight);
        if (newIndex !== selectedIndex && newIndex >= 0 && newIndex < values.length) {
          container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
            item.classList.toggle("selected", index === newIndex);
          });
          selectedIndex = newIndex;
          currentSelectedValue = values[newIndex];
          api.selectedValue = currentSelectedValue;
          if (onChange)
            onChange(currentSelectedValue);
        }
      });
      container.addEventListener("click", (ev) => {
        const target = ev.target;
        const itemEl = target && target.closest ? target.closest(".date-wheel-item") : null;
        if (!itemEl)
          return;
        const idx = Number(itemEl.dataset.index || "0");
        container.querySelectorAll(".date-wheel-item").forEach((el, i) => {
          el.classList.toggle("selected", i === idx);
        });
        container.scrollTop = idx * itemHeight;
        selectedIndex = idx;
        currentSelectedValue = values[idx];
        api.selectedValue = currentSelectedValue;
        if (onChange)
          onChange(currentSelectedValue);
      });
      setTimeout(() => {
        container.scrollTop = selectedIndex * itemHeight;
      }, 0);
    }
    column.appendChild(container);
    return api;
  }
  updateDaysColumn(dayColumn, year, month) {
    const container = dayColumn.element.querySelector(".date-wheel-items");
    const currentDay = dayColumn.selectedValue;
    const newDays = this.generateDays(year, month);
    while (container.firstChild)
      container.removeChild(container.firstChild);
    const repeatCount = 5;
    const itemHeight = 40;
    const middleGroupIndex = 2;
    const maxDay = Math.max(...newDays);
    const selectedDay = Math.min(currentDay, maxDay);
    const selectedIndex = newDays.indexOf(selectedDay);
    for (let repeat = 0; repeat < repeatCount; repeat++) {
      newDays.forEach((day, index) => {
        const item = document.createElement("div");
        item.className = "date-wheel-item";
        item.textContent = `${day.toString().padStart(2, "0")}${t("date.day")}`;
        item.dataset.value = day.toString();
        item.dataset.index = (repeat * newDays.length + index).toString();
        item.dataset.realValue = day.toString();
        container.appendChild(item);
      });
    }
    container.style.height = `${newDays.length * repeatCount * itemHeight}px`;
    const initialItemIndexDay = middleGroupIndex * newDays.length + selectedIndex;
    const dayItems = Array.from(container.querySelectorAll(".date-wheel-item"));
    if (dayItems[initialItemIndexDay]) {
      dayItems.forEach((el, idx) => el.classList.toggle("selected", idx === initialItemIndexDay));
    }
    requestAnimationFrame(() => {
      container.scrollTop = middleGroupIndex * newDays.length * itemHeight + selectedIndex * itemHeight;
    });
    let isScrolling = false;
    container.addEventListener("scroll", () => {
      if (isScrolling)
        return;
      const scrollTop = container.scrollTop;
      const currentIndex = Math.round(scrollTop / itemHeight);
      const realIndex = currentIndex % newDays.length;
      const realValue = newDays[realIndex];
      container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
        const itemRealIndex = index % newDays.length;
        item.classList.toggle("selected", itemRealIndex === realIndex);
      });
      dayColumn.selectedValue = realValue;
      const maxScrollTop = (repeatCount - 1) * newDays.length * itemHeight;
      if (scrollTop >= maxScrollTop) {
        isScrolling = true;
        const offset = scrollTop - maxScrollTop;
        container.scrollTop = newDays.length * itemHeight + offset;
        setTimeout(() => {
          isScrolling = false;
        }, 50);
      } else if (scrollTop <= 0) {
        isScrolling = true;
        const offset = scrollTop;
        container.scrollTop = (repeatCount - 2) * newDays.length * itemHeight + offset;
        setTimeout(() => {
          isScrolling = false;
        }, 50);
      }
    });
    container.addEventListener("click", (ev) => {
      const target = ev.target;
      const itemEl = target && target.closest ? target.closest(".date-wheel-item") : null;
      if (!itemEl)
        return;
      const clickedIndex = Number(itemEl.dataset.index || "0");
      const realIndex = clickedIndex % newDays.length;
      const middleIndex = middleGroupIndex * newDays.length + realIndex;
      container.scrollTop = middleIndex * itemHeight;
      dayColumn.selectedValue = newDays[realIndex];
    });
  }
  createLabel(text) {
    const el = document.createElement("label");
    el.textContent = text;
    return el;
  }
};

// components/AssetManagerView.ts
var import_obsidian3 = require("obsidian");

// components/TagPanel.ts
var TagPanel = class {
  // i18n 延后加载，避免硬依赖：使用动态导入
  constructor(containerEl, props) {
    this.panelVisible = false;
    this.panelSelected = [];
    this.searchKeyword = "";
    this.containerEl = containerEl;
    this.props = props;
    this.panelSelected = [...props.selectedTags];
  }
  render() {
    this.containerEl.empty();
    this.containerEl.addClass("top-summary-labels");
    if (this.props.maxHeight) {
      this.containerEl.style.maxHeight = this.props.maxHeight;
      this.containerEl.style.overflowY = this.props.maxHeight !== "auto" ? "auto" : "visible";
    }
    this.renderTagList();
    if (this.panelVisible) {
      this.renderSelectionPanel();
    }
  }
  renderTagList() {
    this.props.tags.forEach((tag) => {
      const labelEl = this.containerEl.createSpan("top-summary-label");
      labelEl.textContent = tag;
      if (this.props.selectedTags.includes(tag)) {
        labelEl.addClass("selected");
      }
      labelEl.addEventListener("click", (e) => {
        e.stopPropagation();
        this.props.onTagClick(tag);
      });
    });
    this.containerEl.addEventListener("click", () => {
      this.showSelectionPanel();
    });
  }
  showSelectionPanel() {
    this.panelVisible = true;
    this.panelSelected = [...this.props.selectedTags];
    this.render();
  }
  hideSelectionPanel() {
    this.panelVisible = false;
    if (this.maskEl && this.maskEl.parentElement) {
      this.maskEl.parentElement.removeChild(this.maskEl);
    }
    this.maskEl = void 0;
    this.panelEl = void 0;
    this.labelsEl = void 0;
    this.searchEl = void 0;
    this.render();
  }
  renderSelectionPanel() {
    var _a, _b, _c, _d, _e, _f;
    if (!this.maskEl) {
      this.maskEl = this.containerEl.createDiv("top-summary-panel-mask");
      this.maskEl.style.zIndex = "9999";
      this.maskEl.addEventListener("click", () => {
        this.confirmSelection();
      });
    }
    if (!this.panelEl) {
      this.panelEl = this.maskEl.createDiv("top-summary-panel");
      this.panelEl.style.zIndex = "10000";
      this.panelEl.addEventListener("click", (e) => {
        e.stopPropagation();
      });
    }
    if (!this.searchEl) {
      this.searchEl = this.panelEl.createEl("input", {
        cls: "top-summary-panel-search",
        placeholder: ((_b = (_a = (init_i18n(), __toCommonJS(i18n_exports))) == null ? void 0 : _a.t) == null ? void 0 : _b.call(_a, "tags.search.placeholder")) || "\u641C\u7D22\u6807\u7B7E",
        type: "text"
      });
      this.searchEl.addEventListener("input", () => {
        var _a2;
        this.searchKeyword = (((_a2 = this.searchEl) == null ? void 0 : _a2.value) || "").trim();
        this.renderSelectionPanel();
      });
    }
    if (this.searchEl) {
      this.searchEl.value = this.searchKeyword;
    }
    const prevScrollTop = this.labelsEl ? this.labelsEl.scrollTop : 0;
    if (!this.labelsEl) {
      this.labelsEl = this.panelEl.createDiv("top-summary-panel-labels");
    } else {
      this.labelsEl.empty();
    }
    const lower = this.searchKeyword.toLowerCase();
    const visibleTags = lower ? this.props.tags.filter((t2) => t2.toLowerCase().includes(lower)) : this.props.tags;
    visibleTags.forEach((tag) => {
      const labelEl = this.labelsEl.createSpan("top-summary-panel-label");
      labelEl.textContent = tag;
      if (this.panelSelected.includes(tag)) {
        labelEl.addClass("selected");
      }
      labelEl.addEventListener("click", () => {
        this.toggleTagSelection(tag);
      });
    });
    if (this.labelsEl) {
      this.labelsEl.scrollTop = prevScrollTop;
    }
    let actionsEl = this.panelEl.querySelector(".top-summary-panel-actions");
    if (!actionsEl) {
      actionsEl = this.panelEl.createDiv("top-summary-panel-actions");
      actionsEl.style.padding = "8px 16px 12px 16px";
      const selectAllBtn = actionsEl.createSpan("panel-btn");
      selectAllBtn.textContent = ((_d = (_c = (init_i18n(), __toCommonJS(i18n_exports))) == null ? void 0 : _c.t) == null ? void 0 : _d.call(_c, "tags.selectAll")) || "\u5168\u9009";
      selectAllBtn.addEventListener("click", () => {
        this.panelSelected = [...this.props.tags];
        this.renderSelectionPanel();
      });
      const deselectAllBtn = actionsEl.createSpan("panel-btn");
      deselectAllBtn.textContent = ((_f = (_e = (init_i18n(), __toCommonJS(i18n_exports))) == null ? void 0 : _e.t) == null ? void 0 : _f.call(_e, "tags.deselectAll")) || "\u53D6\u6D88\u5168\u9009";
      deselectAllBtn.addEventListener("click", () => {
        this.panelSelected = [];
        this.renderSelectionPanel();
      });
    }
  }
  toggleTagSelection(tag) {
    if (this.panelSelected.includes(tag)) {
      this.panelSelected = this.panelSelected.filter((t2) => t2 !== tag);
    } else {
      this.panelSelected.push(tag);
    }
    this.renderSelectionPanel();
  }
  confirmSelection() {
    this.props.onTagClick(this.panelSelected);
    this.hideSelectionPanel();
  }
  // 更新标签
  updateTags(tags, selectedTags) {
    this.props.tags = tags;
    this.props.selectedTags = selectedTags;
    this.render();
  }
};

// components/TopSummary.ts
init_i18n();
var TopSummary = class {
  constructor(containerEl, props) {
    this.containerEl = containerEl;
    this.props = props;
  }
  formatDateLocal(date) {
    const d = new Date(date.getTime() - date.getTimezoneOffset() * 6e4);
    return d.toISOString().split("T")[0];
  }
  render() {
    this.containerEl.empty();
    this.containerEl.addClass("top-summary");
    this.renderNumbers();
    this.renderLabels();
    this.renderChart();
  }
  renderNumbers() {
    const numbersEl = this.containerEl.createDiv("top-summary-numbers");
    const dailyEl = numbersEl.createDiv("top-summary-daily");
    const dateEl = dailyEl.createDiv("top-summary-date");
    dateEl.textContent = this.formatDateLocal(this.props.selectedDate || new Date());
    dateEl.addClass("clickable");
    dateEl.addEventListener("click", () => {
      this.showDatePicker();
    });
    const dailyCostEl = dailyEl.createDiv("top-summary-dailycost");
    dailyCostEl.textContent = `${this.getCurrencySymbol()}${this.props.totalDailyCost.toFixed(2)}`;
    const summaryEl = numbersEl.createDiv("top-summary-summary");
    const totalEl = summaryEl.createDiv("top-summary-total");
    const totalMetaEl = totalEl.createSpan("top-summary-meta");
    totalMetaEl.textContent = t("top.total");
    const totalCostEl = totalEl.createSpan("top-summary-totalcost");
    totalCostEl.textContent = `${this.getCurrencySymbol()}${this.props.totalCost.toLocaleString()}`;
    const recycleEl = summaryEl.createDiv("top-summary-total");
    const recycleMetaEl = recycleEl.createSpan("top-summary-meta");
    recycleMetaEl.textContent = t("top.recycle");
    const recycleCostEl = recycleEl.createSpan("top-summary-totalcost");
    recycleCostEl.textContent = `${this.getCurrencySymbol()}${this.props.totalRecycle.toLocaleString()}`;
  }
  renderLabels() {
    const labelsEl = this.containerEl.createDiv("top-summary-labels");
    const panelProps = {
      tags: this.props.tags,
      selectedTags: this.props.selectedTags,
      onTagClick: this.props.onTagClick,
      maxHeight: "48px"
    };
    this.tagPanelComponent = new TagPanel(labelsEl, panelProps);
    this.tagPanelComponent.render();
  }
  getCurrencySymbol() {
    return t("currency.symbol");
  }
  renderChart() {
    const chartEl = this.containerEl.createDiv("top-summary-chart");
    const canvas = chartEl.createEl("canvas");
    canvas.id = "trend-canvas";
    canvas.width = 100;
    canvas.height = 20;
    this.renderChartCanvas(canvas);
  }
  renderChartCanvas(canvas) {
    if (this.props.trendPoints.length < 2)
      return;
    const ctx = canvas.getContext("2d");
    if (!ctx)
      return;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width;
    canvas.height = rect.height;
    const width = canvas.width;
    const height = canvas.height;
    const pad = 0;
    const values = this.props.trendPoints.map((p) => p.value);
    const minValue = Math.min(...values);
    const maxValue = Math.max(...values);
    const range = maxValue - minValue;
    const useLogScale = range > 100;
    const getX = (i) => pad + (width - 2 * pad) * i / (this.props.trendPoints.length - 1);
    const getY = (v) => {
      if (useLogScale) {
        const logValue = Math.log(v + 1);
        const logMin = Math.log(minValue + 1);
        const logMax = Math.log(maxValue + 1);
        return height - pad - (logValue - logMin) / Math.max(logMax - logMin, 0.5) * (height - 2 * pad);
      } else {
        return height - pad - (v - minValue) / Math.max(range, 0.5) * (height - 2 * pad);
      }
    };
    const getColorByValue = (v) => {
      const logValue = Math.log(v + 1);
      const logMin = Math.log(minValue + 1);
      const logMax = Math.log(maxValue + 1);
      if (logMax === logMin)
        return "rgb(255,255,0)";
      const t2 = (logValue - logMin) / (logMax - logMin);
      if (t2 <= 0.5) {
        const r = Math.round(2 * t2 * 255);
        return `rgb(${r},255,0)`;
      } else {
        const g = Math.round((1 - 2 * (t2 - 0.5)) * 255);
        return `rgb(255,${g},0)`;
      }
    };
    ctx.clearRect(0, 0, width, height);
    ctx.lineWidth = 1;
    for (let i = 0; i < this.props.trendPoints.length - 1; i++) {
      const p1 = this.props.trendPoints[i];
      const p2 = this.props.trendPoints[i + 1];
      const x1 = getX(i);
      const y1 = getY(p1.value);
      const x2 = getX(i + 1);
      const y2 = getY(p2.value);
      ctx.beginPath();
      ctx.strokeStyle = getColorByValue(p1.value);
      ctx.moveTo(x1, y1);
      ctx.lineTo(x2, y2);
      ctx.stroke();
    }
    let selectedXToDraw = null;
    if (this.props.selectedX !== null && this.props.selectedX !== void 0) {
      selectedXToDraw = this.props.selectedX;
    } else if (this.props.selectedDate) {
      try {
        const times = this.props.trendPoints.map((p) => p.date.getTime());
        const minTime = Math.min(...times);
        const maxTime = Math.max(...times);
        const cur = this.props.selectedDate.getTime();
        const denom = Math.max(maxTime - minTime, 1);
        const ratio = (cur - minTime) / denom;
        selectedXToDraw = pad + (width - 2 * pad) * Math.min(Math.max(ratio, 0), 1);
      } catch (_) {
        selectedXToDraw = null;
      }
    }
    if (selectedXToDraw !== null && selectedXToDraw !== void 0) {
      ctx.beginPath();
      ctx.strokeStyle = "#FFD600";
      ctx.lineWidth = 1;
      ctx.moveTo(selectedXToDraw, 0);
      ctx.lineTo(selectedXToDraw, height);
      ctx.stroke();
    }
    if (!canvas._lac_click_bound) {
      canvas._lac_click_bound = true;
      canvas.addEventListener("click", (ev) => {
        var _a;
        const x = (_a = ev.offsetX) != null ? _a : ev.clientX - canvas.getBoundingClientRect().left;
        const usableWidth = Math.max(width - 2 * pad, 1);
        const ratio = Math.min(Math.max((x - pad) / usableWidth, 0), 1);
        const idx = Math.round(ratio * (this.props.trendPoints.length - 1));
        const clampedIdx = Math.min(Math.max(idx, 0), this.props.trendPoints.length - 1);
        const pickedDate = this.props.trendPoints[clampedIdx].date;
        this.updateSelection(x, pickedDate);
        if (this.props.onDatePick) {
          this.props.onDatePick(this.formatDateLocal(pickedDate));
        }
        if (this.props.onChartSelect) {
          this.props.onChartSelect(x);
        }
      });
    }
  }
  // 更新图表数据
  updateChart(trendPoints) {
    this.props.trendPoints = trendPoints;
    const canvas = this.containerEl.querySelector("#trend-canvas");
    if (canvas) {
      this.renderChartCanvas(canvas);
    }
  }
  // 更新选中状态
  updateSelection(selectedX, selectedDate) {
    this.props.selectedX = selectedX;
    if (selectedDate) {
      this.props.selectedDate = selectedDate;
      const dateLabel = this.containerEl.querySelector(".top-summary-date");
      if (dateLabel) {
        dateLabel.textContent = this.formatDateLocal(selectedDate);
      }
    }
    const canvas = this.containerEl.querySelector("#trend-canvas");
    if (canvas) {
      this.renderChartCanvas(canvas);
    }
  }
  // 只更新数字（不重绘图表数据）
  updateNumbers(totalDailyCost, totalCost, totalRecycle) {
    this.props.totalDailyCost = totalDailyCost;
    this.props.totalCost = totalCost;
    this.props.totalRecycle = totalRecycle;
    const daily = this.containerEl.querySelector(".top-summary-dailycost");
    if (daily)
      daily.textContent = `${this.getCurrencySymbol()}${totalDailyCost.toFixed(2)}`;
    const totals = this.containerEl.querySelectorAll(".top-summary-totalcost");
    if (totals && totals.length > 0) {
      const totalEl = totals[0];
      if (totalEl)
        totalEl.textContent = `${this.getCurrencySymbol()}${totalCost.toLocaleString()}`;
      const recycleEl = totals[1];
      if (recycleEl)
        recycleEl.textContent = `${this.getCurrencySymbol()}${totalRecycle.toLocaleString()}`;
    }
  }
  // 显示日期选择器
  showDatePicker() {
    const mask = document.createElement("div");
    mask.className = "date-picker-mask";
    const picker = document.createElement("div");
    picker.className = "date-picker-modal";
    const content = document.createElement("div");
    content.className = "date-picker-content";
    const title = document.createElement("div");
    title.className = "date-picker-title";
    title.textContent = t("date.pick");
    const wheelContainer = document.createElement("div");
    wheelContainer.className = "date-wheel-container";
    const currentDate = this.props.selectedDate || new Date();
    const currentYear = currentDate.getFullYear();
    const currentMonth = currentDate.getMonth() + 1;
    const currentDay = currentDate.getDate();
    const yearColumn = this.createWheelColumn(t("date.year"), this.generateYears(currentYear), currentYear, (year) => {
      this.updateDaysColumn(dayColumn, year, monthColumn.selectedValue);
    }, false);
    const monthColumn = this.createWheelColumn(t("date.month"), this.generateMonths(), currentMonth, (month) => {
      this.updateDaysColumn(dayColumn, yearColumn.selectedValue, month);
    }, true);
    const dayColumn = this.createWheelColumn(t("date.day"), this.generateDays(currentYear, currentMonth), currentDay, void 0, true);
    wheelContainer.appendChild(yearColumn.element);
    wheelContainer.appendChild(monthColumn.element);
    wheelContainer.appendChild(dayColumn.element);
    const actions = document.createElement("div");
    actions.className = "date-picker-actions";
    const cancelBtn = document.createElement("button");
    cancelBtn.className = "date-picker-btn date-picker-btn-cancel";
    cancelBtn.textContent = t("common.cancel");
    const confirmBtn = document.createElement("button");
    confirmBtn.className = "date-picker-btn date-picker-btn-confirm";
    confirmBtn.textContent = t("common.confirm");
    actions.appendChild(cancelBtn);
    actions.appendChild(confirmBtn);
    content.appendChild(title);
    content.appendChild(wheelContainer);
    content.appendChild(actions);
    picker.appendChild(content);
    mask.appendChild(picker);
    document.body.appendChild(mask);
    const closePicker = () => {
      document.body.removeChild(mask);
    };
    mask.addEventListener("click", (e) => {
      if (e.target === mask) {
        closePicker();
      }
    });
    cancelBtn.addEventListener("click", closePicker);
    confirmBtn.addEventListener("click", () => {
      const year = yearColumn.selectedValue;
      const month = monthColumn.selectedValue;
      const day = dayColumn.selectedValue;
      const selectedDateStr = `${year}-${month.toString().padStart(2, "0")}-${day.toString().padStart(2, "0")}`;
      if (this.props.onDatePick) {
        this.props.onDatePick(selectedDateStr);
      }
      closePicker();
    });
  }
  // 生成年份数组
  generateYears(currentYear) {
    const minYear = this.props.minYear || currentYear - 5;
    const maxYear = this.props.maxYear || currentYear + 5;
    const years = [];
    for (let i = minYear; i <= maxYear; i++) {
      years.push(i);
    }
    return years;
  }
  // 生成月份数组
  generateMonths() {
    return Array.from({ length: 12 }, (_, i) => i + 1);
  }
  // 生成日期数组
  generateDays(year, month) {
    const daysInMonth = new Date(year, month, 0).getDate();
    return Array.from({ length: daysInMonth }, (_, i) => i + 1);
  }
  // 创建滚轮列
  createWheelColumn(suffix, values, selectedValue, onChange, isInfinite = false) {
    const column = document.createElement("div");
    column.className = "date-wheel-column";
    const container = document.createElement("div");
    container.className = "date-wheel-items";
    let selectedIndex = values.indexOf(selectedValue);
    let currentSelectedValue = selectedValue;
    const api = { element: column, selectedValue: currentSelectedValue };
    const itemHeight = 40;
    if (isInfinite) {
      const repeatCount = 5;
      const totalItems = values.length * repeatCount;
      const middleGroupIndex = 2;
      const initialScrollTop = middleGroupIndex * values.length * itemHeight + selectedIndex * itemHeight;
      for (let repeat = 0; repeat < repeatCount; repeat++) {
        values.forEach((value, index) => {
          const item = document.createElement("div");
          item.className = "date-wheel-item";
          item.textContent = `${value.toString().padStart(2, "0")}${suffix}`;
          item.dataset.value = value.toString();
          item.dataset.index = (repeat * values.length + index).toString();
          item.dataset.realValue = value.toString();
          container.appendChild(item);
        });
      }
      container.style.height = `${totalItems * itemHeight}px`;
      const initialItemIndex = middleGroupIndex * values.length + selectedIndex;
      const items = Array.from(container.querySelectorAll(".date-wheel-item"));
      if (items[initialItemIndex]) {
        items.forEach((el, idx) => el.classList.toggle("selected", idx === initialItemIndex));
      }
      requestAnimationFrame(() => {
        container.scrollTop = initialScrollTop;
      });
      let isScrolling = false;
      container.addEventListener("scroll", () => {
        if (isScrolling)
          return;
        const scrollTop = container.scrollTop;
        const currentIndex = Math.round(scrollTop / itemHeight);
        const realIndex = (currentIndex % values.length + values.length) % values.length;
        const realValue = values[realIndex];
        container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
          const itemRealIndex = index % values.length;
          item.classList.toggle("selected", itemRealIndex === realIndex);
        });
        selectedIndex = realIndex;
        currentSelectedValue = realValue;
        api.selectedValue = realValue;
        if (onChange) {
          onChange(currentSelectedValue);
        }
        const maxScrollTop = (repeatCount - 1) * values.length * itemHeight;
        const minScrollTop = values.length * itemHeight;
        if (scrollTop >= maxScrollTop) {
          isScrolling = true;
          const offset = scrollTop - maxScrollTop;
          container.scrollTop = values.length * itemHeight + offset;
          setTimeout(() => {
            isScrolling = false;
          }, 50);
        } else if (scrollTop <= 0) {
          isScrolling = true;
          const offset = scrollTop;
          container.scrollTop = (repeatCount - 2) * values.length * itemHeight + offset;
          setTimeout(() => {
            isScrolling = false;
          }, 50);
        }
      });
      container.addEventListener("click", (ev) => {
        const target = ev.target;
        const itemEl = target && target.closest ? target.closest(".date-wheel-item") : null;
        if (!itemEl)
          return;
        const clickedIndex = Number(itemEl.dataset.index || "0");
        const realIndex = (clickedIndex % values.length + values.length) % values.length;
        const middleIndex = middleGroupIndex * values.length + realIndex;
        container.scrollTop = middleIndex * itemHeight;
        selectedIndex = realIndex;
        currentSelectedValue = values[realIndex];
        api.selectedValue = currentSelectedValue;
        if (onChange)
          onChange(currentSelectedValue);
      });
    } else {
      values.forEach((value, index) => {
        const item = document.createElement("div");
        item.className = "date-wheel-item";
        item.textContent = `${value.toString().padStart(2, "0")}${suffix}`;
        item.dataset.value = value.toString();
        item.dataset.index = index.toString();
        if (value === currentSelectedValue) {
          item.classList.add("selected");
        }
        container.appendChild(item);
      });
      container.addEventListener("scroll", () => {
        const scrollTop = container.scrollTop;
        const newIndex = Math.round(scrollTop / itemHeight);
        if (newIndex !== selectedIndex && newIndex >= 0 && newIndex < values.length) {
          container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
            item.classList.toggle("selected", index === newIndex);
          });
          selectedIndex = newIndex;
          currentSelectedValue = values[newIndex];
          api.selectedValue = currentSelectedValue;
          if (onChange) {
            onChange(currentSelectedValue);
          }
        }
      });
      container.addEventListener("click", (ev) => {
        const target = ev.target;
        const itemEl = target && target.closest ? target.closest(".date-wheel-item") : null;
        if (!itemEl)
          return;
        const idx = Number(itemEl.dataset.index || "0");
        container.querySelectorAll(".date-wheel-item").forEach((el, i) => {
          el.classList.toggle("selected", i === idx);
        });
        container.scrollTop = idx * itemHeight;
        selectedIndex = idx;
        currentSelectedValue = values[idx];
        api.selectedValue = currentSelectedValue;
        if (onChange)
          onChange(currentSelectedValue);
      });
      setTimeout(() => {
        container.scrollTop = selectedIndex * itemHeight;
      }, 0);
    }
    column.appendChild(container);
    return api;
  }
  // 更新日期列
  updateDaysColumn(dayColumn, year, month) {
    const container = dayColumn.element.querySelector(".date-wheel-items");
    const currentDay = dayColumn.selectedValue;
    const newDays = this.generateDays(year, month);
    if (container.empty) {
      container.empty();
    } else {
      while (container.firstChild)
        container.removeChild(container.firstChild);
    }
    const maxDay = Math.max(...newDays);
    const selectedDay = Math.min(currentDay, maxDay);
    const selectedIndex = newDays.indexOf(selectedDay);
    const itemHeight = 40;
    const repeatCount = 5;
    const totalItems = newDays.length * repeatCount;
    const middleGroupIndex = 2;
    const initialScrollTop = middleGroupIndex * newDays.length * itemHeight + selectedIndex * itemHeight;
    for (let repeat = 0; repeat < repeatCount; repeat++) {
      newDays.forEach((day, index) => {
        const item = document.createElement("div");
        item.className = "date-wheel-item";
        item.textContent = `${day.toString().padStart(2, "0")}\u65E5`;
        item.dataset.value = day.toString();
        item.dataset.index = (repeat * newDays.length + index).toString();
        item.dataset.realValue = day.toString();
        container.appendChild(item);
      });
    }
    container.style.height = `${totalItems * itemHeight}px`;
    const initialItemIndexDay = middleGroupIndex * newDays.length + selectedIndex;
    const dayItems = Array.from(container.querySelectorAll(".date-wheel-item"));
    if (dayItems[initialItemIndexDay]) {
      dayItems.forEach((el, idx) => el.classList.toggle("selected", idx === initialItemIndexDay));
    }
    requestAnimationFrame(() => {
      container.scrollTop = initialScrollTop;
    });
    dayColumn.selectedValue = selectedDay;
    let isScrolling = false;
    container.addEventListener("scroll", () => {
      if (isScrolling)
        return;
      const scrollTop = container.scrollTop;
      const currentIndex = Math.round(scrollTop / itemHeight);
      const realIndex = currentIndex % newDays.length;
      const realValue = newDays[realIndex];
      container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
        const itemRealIndex = index % newDays.length;
        item.classList.toggle("selected", itemRealIndex === realIndex);
      });
      dayColumn.selectedValue = realValue;
      const maxScrollTop = (repeatCount - 1) * newDays.length * itemHeight;
      const minScrollTop = newDays.length * itemHeight;
      if (scrollTop >= maxScrollTop) {
        isScrolling = true;
        const offset = scrollTop - maxScrollTop;
        container.scrollTop = newDays.length * itemHeight + offset;
        setTimeout(() => {
          isScrolling = false;
        }, 50);
      } else if (scrollTop <= 0) {
        isScrolling = true;
        const offset = scrollTop;
        container.scrollTop = (repeatCount - 2) * newDays.length * itemHeight + offset;
        setTimeout(() => {
          isScrolling = false;
        }, 50);
      }
    });
  }
};

// components/AssetManagerView.ts
init_i18n();
var AssetManagerView = class extends import_obsidian3.ItemView {
  constructor(leaf, assetRepository, filePath) {
    super(leaf);
    this.assets = [];
    // 当前选择的日期
    this.selectedTags = [];
    // 顶部统计下方的按钮卡片
    this.searchQuery = "";
    this.sortMode = "none";
    this.assetRepository = assetRepository;
    this.filePath = filePath;
    this.selectedDate = new Date();
  }
  getViewType() {
    return "lac-costset-view";
  }
  getDisplayText() {
    return "LaC.CostSet";
  }
  getIcon() {
    return "package";
  }
  async onOpen() {
    var _a, _b;
    const { containerEl } = this;
    containerEl.empty();
    containerEl.addClass("page-root");
    this.injectHeaderFixStyles();
    try {
      const plugin = (_b = (_a = this.app.plugins) == null ? void 0 : _a.plugins) == null ? void 0 : _b["lac-costset"];
      if (plugin && plugin.settings && plugin.settings.defaultSort) {
        this.sortMode = plugin.settings.defaultSort;
      }
    } catch (_) {
    }
    if (this.filePath) {
      this.useFile(this.filePath);
      return;
    }
    const hint = containerEl.createDiv();
    hint.style.padding = "16px";
    hint.style.opacity = "0.8";
    hint.textContent = t("view.hint.openFromMenu");
    return;
  }
  async onClose() {
    const { containerEl } = this;
    containerEl.empty();
    try {
      this.closeExistingSortMenu();
    } catch (_) {
    }
    ["lac-costset-actionbar-styles", "lac-costset-header-styles"].forEach((id) => {
      const el = document.getElementById(id);
      if (el && el.parentElement)
        el.parentElement.removeChild(el);
    });
  }
  async useFile(filePath) {
    const plugin = this.app.plugins.plugins["lac-costset"];
    if (plugin) {
      plugin.assetRepository = new AssetRepository(this.app, filePath);
      this.assetRepository = plugin.assetRepository;
      this.loadAssets();
    }
  }
  async loadAssets() {
    this.assets = await this.assetRepository.loadAll();
    this.renderAssets();
  }
  showFileSelector() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: t("view.selectRoot.title") });
    containerEl.createEl("p", { text: t("view.selectRoot.desc") });
    const files = this.app.vault.getMarkdownFiles();
    const fileList = containerEl.createDiv("file-list");
    files.forEach((file) => {
      const fileItem = fileList.createDiv("file-item");
      fileItem.createEl("div", { text: file.path });
      fileItem.addEventListener("click", async () => {
        const plugin = this.app.plugins.plugins["lac-costset"];
        if (plugin) {
          plugin.assetRepository = new AssetRepository(this.app, file.path);
          this.assetRepository = plugin.assetRepository;
          this.loadAssets();
        }
      });
    });
  }
  renderAssets() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.addClass("page-root");
    this.renderTopSummary(containerEl);
    this.renderActionBar(containerEl);
    const assetsContainer = containerEl.createDiv("assets-container");
    this.renderAssetCards(assetsContainer);
  }
  renderAssetCards(assetsContainer) {
    assetsContainer.empty();
    if (this.assets.length === 0) {
      assetsContainer.createEl("p", { text: t("view.empty") });
      return;
    }
    const calcDate = this.selectedDate || new Date();
    let visibleAssets = this.assets.filter((a) => a.activeFrom <= calcDate);
    if (this.selectedTags.length > 0) {
      visibleAssets = visibleAssets.filter((a) => {
        var _a;
        return (_a = a.tags) == null ? void 0 : _a.some((t2) => this.selectedTags.includes(t2));
      });
    }
    if (this.searchQuery && this.searchQuery.trim()) {
      const q = this.searchQuery.trim().toLowerCase();
      visibleAssets = visibleAssets.filter((a) => {
        const nameHit = (a.name || "").toLowerCase().includes(q);
        const tagHit = (a.tags || []).some((t2) => (t2 || "").toLowerCase().includes(q));
        return nameHit || tagHit;
      });
    }
    if (this.sortMode !== "none") {
      visibleAssets = [...visibleAssets].sort((a, b) => {
        var _a, _b, _c, _d;
        if (this.sortMode === "dailyDesc") {
          const aCost = a.getDailyCost(calcDate);
          const bCost = b.getDailyCost(calcDate);
          return bCost - aCost;
        }
        if (this.sortMode === "priceDesc") {
          return Number(b.price || 0) - Number(a.price || 0);
        }
        if (this.sortMode === "dateDesc") {
          const at = ((_b = (_a = a.activeFrom) == null ? void 0 : _a.getTime) == null ? void 0 : _b.call(_a)) || 0;
          const bt = ((_d = (_c = b.activeFrom) == null ? void 0 : _c.getTime) == null ? void 0 : _d.call(_c)) || 0;
          return bt - at;
        }
        return 0;
      });
    }
    visibleAssets.forEach((asset) => {
      const isExpired = !!(asset.activeTo && asset.activeTo <= calcDate);
      const endText = isExpired ? asset.activeTo.toISOString().split("T")[0] : t("view.toNow");
      const assetEl = assetsContainer.createDiv("asset-card");
      if (isExpired)
        assetEl.addClass("asset-card--expired");
      if (asset.hidden)
        assetEl.addClass("hidden");
      const infoEl = assetEl.createDiv("asset-info");
      const titleEl = infoEl.createDiv("asset-title");
      titleEl.textContent = `${asset.icon} ${asset.name}`;
      const dateEl = infoEl.createDiv("asset-date");
      dateEl.textContent = `${t("view.usedDays", { days: asset.getUsageDays(calcDate) })} (${asset.activeFrom.toISOString().split("T")[0]} ~ ${asset.activeTo ? endText : t("view.toNow")})`;
      const labelsScrollEl = infoEl.createDiv("asset-labels-scroll");
      (asset.tags || []).forEach((tag) => {
        const tagEl = labelsScrollEl.createSpan("tag");
        tagEl.textContent = tag;
      });
      const costsEl = assetEl.createDiv("asset-costs");
      const costsLine = costsEl.createDiv("asset-costs-line");
      const priceMeta = costsLine.createDiv("asset-price");
      priceMeta.textContent = `${t("view.daily")}\xA0`;
      const dailyCost = costsLine.createDiv("asset-dailycost");
      dailyCost.textContent = this.getCurrencySymbol() + `${asset.getDailyCost(calcDate).toFixed(2)}`;
      const priceLine = costsEl.createDiv("asset-price");
      priceLine.textContent = `${t("view.price")} ${this.getCurrencySymbol()}${asset.price}`;
      const recycleLine = costsEl.createDiv("asset-price");
      recycleLine.textContent = `${t("view.recyclePrice")} ${this.getCurrencySymbol()}${asset.recyclePrice}`;
      let didLongPress = false;
      assetEl.addEventListener("click", (e) => {
        if (didLongPress) {
          didLongPress = false;
          e.preventDefault();
          e.stopPropagation();
          return;
        }
        new AssetFormModal(this.app, this.assetRepository, asset, () => this.loadAssets()).open();
      });
      let pressTimer = null;
      const startPress = (ev) => {
        if (ev && "button" in ev && typeof ev.button === "number" && ev.button !== 0)
          return;
        if (pressTimer)
          window.clearTimeout(pressTimer);
        pressTimer = window.setTimeout(() => {
          didLongPress = true;
          asset.hidden = !asset.hidden;
          assetEl.classList.toggle("hidden", asset.hidden);
          this.refreshTopNumbersOnly();
        }, 500);
      };
      const cancelPress = () => {
        if (pressTimer) {
          window.clearTimeout(pressTimer);
          pressTimer = null;
        }
      };
      assetEl.addEventListener("mousedown", startPress);
      assetEl.addEventListener("touchstart", startPress, { passive: true });
      assetEl.addEventListener("mouseup", cancelPress);
      assetEl.addEventListener("mouseleave", cancelPress);
      assetEl.addEventListener("touchend", cancelPress);
      assetEl.addEventListener("contextmenu", async (e) => {
        e.preventDefault();
        const ok = await new ConfirmModal(t("view.confirmDeleteAsset", { name: asset.name }), t("common.delete"), t("common.cancel"), true).open();
        if (!ok)
          return;
        await this.assetRepository.deleteAsset(asset.id);
        this.loadAssets();
      });
    });
  }
  // 仅刷新顶部数字 (排除 hidden 资产)，不刷新图表、不重建列表
  refreshTopNumbersOnly() {
    if (!this.topSummaryComponent)
      return;
    const calcDate = this.selectedDate || new Date();
    const activeAssets = this.assets.filter((a) => a.isActive(calcDate) && !a.hidden);
    const filteredActiveAssets = this.applyTagFilter(activeAssets);
    const totalCost = filteredActiveAssets.reduce((sum, a) => sum + a.price, 0);
    const totalRecycle = filteredActiveAssets.reduce((sum, a) => sum + a.recyclePrice, 0);
    const totalDailyCost = filteredActiveAssets.reduce((sum, a) => sum + a.getDailyCost(calcDate), 0);
    this.topSummaryComponent.updateNumbers(totalDailyCost, totalCost, totalRecycle);
  }
  // 顶部统计下方的操作条（搜索 / 排序 / 添加）
  renderActionBar(containerEl) {
    this.injectActionBarStyles();
    const bar = containerEl.createDiv("lac-actionbar-card");
    this.actionBarEl = bar;
    const backBtn = bar.createDiv({ cls: "lac-icon-btn back", attr: { title: t("view.back") } });
    backBtn.appendChild(this.svgBack());
    backBtn.addEventListener("click", (e) => {
      e.preventDefault();
      try {
        this.leaf.detach();
      } catch (_) {
      }
    });
    const searchWrap = bar.createDiv("lac-actionbar-search");
    const searchIconBtn = searchWrap.createEl("button", { cls: "lac-icon-btn search-icon", attr: { type: "button", "aria-label": t("view.search.aria") } });
    searchIconBtn.appendChild(this.svgSearch());
    const searchInput = searchWrap.createEl("input", { attr: { type: "text", placeholder: t("view.search.placeholder") } });
    if (this.searchQuery)
      searchInput.value = this.searchQuery;
    searchIconBtn.addEventListener("click", () => searchInput.focus());
    searchInput.addEventListener("input", () => {
      this.searchQuery = searchInput.value || "";
      this.refreshAssetListOnly();
    });
    const actions = bar.createDiv("lac-actionbar-actions");
    const sortBtn = actions.createDiv({ cls: "lac-icon-btn sort", attr: { title: t("view.sort.title") } });
    sortBtn.appendChild(this.svgSort());
    const applySortBtnState = () => {
      sortBtn.classList.toggle("active", this.sortMode !== "none");
      sortBtn.setAttr("data-mode", this.sortMode);
      sortBtn.setAttr("aria-pressed", String(this.sortMode !== "none"));
      const title = this.sortMode === "dailyDesc" ? t("view.sort.title.dailyDesc") : this.sortMode === "priceDesc" ? t("view.sort.title.priceDesc") : this.sortMode === "dateDesc" ? t("view.sort.title.dateDesc") : t("view.sort.title");
      sortBtn.setAttr("title", title);
    };
    applySortBtnState();
    sortBtn.addEventListener("click", (e) => {
      e.preventDefault();
      this.openSortMenu(sortBtn, (mode) => {
        this.sortMode = mode;
        applySortBtnState();
        this.refreshAssetListOnly();
      });
    });
    const addBtn = actions.createDiv({ cls: "lac-icon-btn add", attr: { title: t("view.add") } });
    addBtn.appendChild(this.svgPlus());
    addBtn.addEventListener("click", () => {
      new AssetFormModal(this.app, this.assetRepository, void 0, () => this.loadAssets()).open();
    });
  }
  refreshAssetListOnly() {
    const { containerEl } = this;
    const listEl = containerEl.querySelector(".assets-container");
    if (listEl) {
      listEl.remove();
      const newList = containerEl.createDiv("assets-container");
      this.renderAssetCards(newList);
    }
  }
  injectActionBarStyles() {
    const STYLE_ID = "lac-costset-actionbar-styles";
    if (document.getElementById(STYLE_ID))
      return;
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
			/* \u6309\u94AE\u5361\u7247\uFF1A\u4E0E top-summary / asset-card \u540C\u98CE\u683C\uFF0C\u4EC5\u9AD8\u5EA6\u66F4\u5C0F */
			.lac-actionbar-card { display: flex; align-items: center; justify-content: space-between; gap: 10px; padding: 6px 10px; margin: 0px 14px 8px; border-radius: 8px; background: #23262F; box-shadow: 0 2px 8px rgba(0,0,0,0.18); }
			.lac-actionbar-search { position: relative; flex: 1; min-width: 0; }
			.lac-actionbar-search input { width: 100%; height: 30px; padding: 4px 8px 4px 30px; border-radius: 8px; border: 1px solid #3A3D46; background: #2A2D36; color: #F5F6FA; font-size: 13px; line-height: 20px; }
			.lac-actionbar-search input::placeholder { color: #A0A3B1; }
			.lac-actionbar-search .search-icon { position: absolute; left: 8px; top: 50%; transform: translateY(-50%); width: 16px; height: 16px; padding: 0; border: none; background: transparent; color: #C9CBD3; }
			.lac-actionbar-actions { display: flex; align-items: center; gap: 8px; }
			.lac-icon-btn { width: 32px; height: 32px; display: inline-flex; align-items: center; justify-content: center; border-radius: 8px; border: none !important; outline: none !important; background: transparent !important; box-shadow: none !important; color: #C9CBD3; cursor: pointer; }
			.lac-icon-btn.add { color: #f3e700; }
			.lac-icon-btn.back { display: inline-flex; color: #C9CBD3; }
			.lac-icon-btn:hover { filter: brightness(1.05); }
			.lac-icon-btn svg { width: 20px; height: 20px; display:block; }
			.lac-icon-btn svg * { stroke: currentColor !important; fill: none !important; stroke-width: 2 !important; }
			.lac-icon-btn.active { background: #2F3139; }
			/* \u9690\u85CF\u6001\u6837\u5F0F\uFF08\u5BF9\u9F50 costsetapp\uFF09 */
			.asset-card.hidden { opacity: 0.3; filter: grayscale(0.5); }
            /* \u6392\u5E8F\u83DC\u5355 */
            .lac-sort-menu { position: fixed; min-width: 160px; background: #23262F; color: #F5F6FA; border-radius: 10px; overflow: hidden; box-shadow: 0 8px 18px rgba(0,0,0,0.35); border: 1px solid #3A3D46; z-index: 9999; }
            .lac-sort-menu .menu-item { padding: 10px 14px; cursor: pointer; border-top: 1px solid #2E313A; transition: background 120ms ease, color 120ms ease; }
            .lac-sort-menu .menu-item:first-child { border-top: none; }
            .lac-sort-menu .menu-item:hover { background: rgba(255, 214, 0, 0.12); color: inherit; }
            .lac-sort-menu .menu-item.active { color: #FFD700; }

			/* \u5C0F\u4E8E 720px \u65F6\u7D27\u51D1\u5E03\u5C40 */
			@media (max-width: 720px) {
				.lac-actionbar-card { gap: 8px; }
				.lac-actionbar-search input { padding-left: 30px; }
			}
		`;
    document.head.appendChild(style);
  }
  injectHeaderFixStyles() {
    const STYLE_ID = "lac-costset-header-styles";
    if (document.getElementById(STYLE_ID))
      return;
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
			/* \u4EC5\u4F5C\u7528\u4E8E\u672C\u89C6\u56FE\uFF1A\u4FDD\u8BC1\u7A84\u5BBD\u65F6\u4E5F\u663E\u793A\u6807\u9898\u680F\u83DC\u5355/\u8FD4\u56DE\u533A\u57DF */
			.workspace-leaf[data-type="lac-costset-view"] .view-header { display: flex !important; }
			.workspace-leaf[data-type="lac-costset-view"] .view-header .view-actions { display: inline-flex !important; gap: 6px; }
			.workspace-leaf[data-type="lac-costset-view"] .view-header-title-container { min-width: 0; }
			.workspace-leaf[data-type="lac-costset-view"] .view-header-title { max-width: 60%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
			@media (max-width: 720px) {
				.workspace-leaf[data-type="lac-costset-view"] .view-header-title { max-width: 45%; }
			}
			@media (max-width: 560px) {
				.workspace-leaf[data-type="lac-costset-view"] .view-header-title { max-width: 35%; }
			}
		`;
    document.head.appendChild(style);
  }
  openSortMenu(anchorEl, onSelect) {
    this.closeExistingSortMenu();
    const rect = anchorEl.getBoundingClientRect();
    const menu = document.createElement("div");
    menu.className = "lac-sort-menu";
    const buildItem = (label, value) => {
      const item = document.createElement("div");
      item.className = "menu-item" + (this.sortMode === value ? " active" : "");
      item.textContent = label;
      item.addEventListener("click", (ev) => {
        ev.stopPropagation();
        const next = this.sortMode === value ? "none" : value;
        onSelect(next);
        this.closeExistingSortMenu();
      });
      return item;
    };
    menu.appendChild(buildItem(t("view.sort.menu.dailyDesc"), "dailyDesc"));
    menu.appendChild(buildItem(t("view.sort.menu.priceDesc"), "priceDesc"));
    menu.appendChild(buildItem(t("view.sort.menu.dateDesc"), "dateDesc"));
    document.body.appendChild(menu);
    const top = rect.bottom + 6;
    const left = Math.min(Math.max(8, rect.left), window.innerWidth - 180);
    menu.style.top = `${top}px`;
    menu.style.left = `${left}px`;
    const onDocClick = (ev) => {
      if (!menu.contains(ev.target))
        this.closeExistingSortMenu();
    };
    const onEsc = (ev) => {
      if (ev.key === "Escape")
        this.closeExistingSortMenu();
    };
    this.registerDomEvent(document, "mousedown", onDocClick, { once: true });
    this.registerDomEvent(document, "keydown", onEsc, { once: true });
    menu._cleanup = void 0;
  }
  // 让视图可被 setViewState 恢复与导航：保存/应用状态
  getState() {
    return { filePath: this.filePath };
  }
  async setState(state, result) {
    const nextPath = state == null ? void 0 : state.filePath;
    if (nextPath && nextPath !== this.filePath) {
      this.filePath = nextPath;
      await this.useFile(nextPath);
      return;
    }
    const { containerEl } = this;
    containerEl.empty();
    containerEl.addClass("page-root");
    const hint = containerEl.createDiv();
    hint.style.padding = "16px";
    hint.style.opacity = "0.8";
    hint.textContent = "\u4ECE\u6587\u4EF6\u7684\u53F3\u952E\u83DC\u5355\u4E2D\u9009\u62E9 \u201C\u7528 LaC.CostSet \u6253\u5F00\u201D\u3002";
  }
  closeExistingSortMenu() {
    const existing = document.querySelector(".lac-sort-menu");
    if (existing) {
      const cleanup = existing._cleanup;
      if (cleanup)
        cleanup();
      existing.remove();
    }
  }
  svgSearch() {
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("viewBox", "0 0 24 24");
    svg.setAttribute("fill", "none");
    const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    circle.setAttribute("cx", "11");
    circle.setAttribute("cy", "11");
    circle.setAttribute("r", "7");
    circle.setAttribute("stroke", "currentColor");
    circle.setAttribute("stroke-width", "2");
    svg.appendChild(circle);
    const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
    line.setAttribute("x1", "20");
    line.setAttribute("y1", "20");
    line.setAttribute("x2", "16.65");
    line.setAttribute("y2", "16.65");
    line.setAttribute("stroke", "currentColor");
    line.setAttribute("stroke-width", "2");
    line.setAttribute("stroke-linecap", "round");
    svg.appendChild(line);
    return svg;
  }
  svgPlus() {
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("viewBox", "0 0 24 24");
    svg.setAttribute("fill", "none");
    const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
    path.setAttribute("d", "M12 5v14M5 12h14");
    path.setAttribute("stroke", "currentColor");
    path.setAttribute("stroke-width", "2");
    path.setAttribute("stroke-linecap", "round");
    svg.appendChild(path);
    return svg;
  }
  svgSort() {
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("viewBox", "0 0 24 24");
    svg.setAttribute("fill", "none");
    const p1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    p1.setAttribute("d", "M8 9l4-4 4 4");
    p1.setAttribute("stroke", "currentColor");
    p1.setAttribute("stroke-width", "2");
    p1.setAttribute("stroke-linecap", "round");
    p1.setAttribute("stroke-linejoin", "round");
    svg.appendChild(p1);
    const p2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    p2.setAttribute("d", "M16 15l-4 4-4-4");
    p2.setAttribute("stroke", "currentColor");
    p2.setAttribute("stroke-width", "2");
    p2.setAttribute("stroke-linecap", "round");
    p2.setAttribute("stroke-linejoin", "round");
    svg.appendChild(p2);
    return svg;
  }
  svgBack() {
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("viewBox", "0 0 24 24");
    svg.setAttribute("fill", "none");
    const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
    path.setAttribute("d", "M15 18l-6-6 6-6");
    path.setAttribute("stroke", "currentColor");
    path.setAttribute("stroke-width", "2");
    path.setAttribute("stroke-linecap", "round");
    path.setAttribute("stroke-linejoin", "round");
    svg.appendChild(path);
    return svg;
  }
  renderTopSummary(containerEl) {
    const calcDate = this.selectedDate || new Date();
    const activeAssets = this.assets.filter((asset) => asset.isActive(calcDate) && !asset.hidden);
    const filteredActiveAssets = this.applyTagFilter(activeAssets);
    const totalCost = filteredActiveAssets.reduce((sum, asset) => sum + asset.price, 0);
    const totalRecycle = filteredActiveAssets.reduce((sum, asset) => sum + asset.recyclePrice, 0);
    const totalDailyCost = filteredActiveAssets.reduce((sum, asset) => sum + asset.getDailyCost(calcDate), 0);
    const allTags = /* @__PURE__ */ new Set();
    this.assets.forEach((asset) => {
      (asset.tags || []).forEach((tag) => allTags.add(tag));
    });
    const collator = new Intl.Collator("zh", { sensitivity: "base", numeric: true });
    const tagsArray = Array.from(allTags).sort((a, b) => collator.compare(a, b));
    const currentYear = new Date().getFullYear();
    const maxYear = currentYear + 7;
    let minYear = currentYear;
    if (this.assets.length > 0) {
      const earliestYear = Math.min(...this.assets.map((asset) => asset.activeFrom.getFullYear()));
      minYear = earliestYear;
    }
    const trendPoints = this.calcTrendPoints(filteredActiveAssets, 30);
    console.log("\u6E32\u67D3\u9876\u90E8\u7EDF\u8BA1\u533A\u57DF:", {
      activeAssets: activeAssets.length,
      totalCost,
      totalRecycle,
      totalDailyCost,
      tagsArray,
      yearRange: { minYear, maxYear }
    });
    const topSummaryEl = containerEl.createDiv();
    const topSummaryProps = {
      totalDailyCost,
      totalCost,
      totalRecycle,
      tags: tagsArray,
      selectedTags: this.selectedTags,
      onTagClick: (tag) => {
        if (Array.isArray(tag)) {
          this.selectedTags = [...new Set(tag)];
        } else {
          if (this.selectedTags.includes(tag)) {
            this.selectedTags = this.selectedTags.filter((t2) => t2 !== tag);
          } else {
            this.selectedTags = [...this.selectedTags, tag];
          }
        }
        this.renderAssets();
      },
      trendPoints,
      selectedDate: this.selectedDate,
      onChartSelect: (x) => {
        console.log("\u56FE\u8868\u9009\u62E9:", x);
      },
      onChartWidth: (w) => {
        console.log("\u56FE\u8868\u5BBD\u5EA6:", w);
      },
      onDatePick: (dateStr) => {
        console.log("\u65E5\u671F\u9009\u62E9:", dateStr);
        const selectedDate = new Date(dateStr);
        this.selectedDate = selectedDate;
        if (this.topSummaryComponent) {
          this.topSummaryComponent.updateSelection(null, selectedDate);
          const calcDate2 = selectedDate;
          const activeAssets2 = this.assets.filter((asset) => asset.isActive(calcDate2) && !asset.hidden);
          const filteredActiveAssets2 = this.applyTagFilter(activeAssets2);
          const totalCost2 = filteredActiveAssets2.reduce((sum, asset) => sum + asset.price, 0);
          const totalRecycle2 = filteredActiveAssets2.reduce((sum, asset) => sum + asset.recyclePrice, 0);
          const totalDailyCost2 = filteredActiveAssets2.reduce((sum, asset) => sum + asset.getDailyCost(calcDate2), 0);
          this.topSummaryComponent.updateNumbers(totalDailyCost2, totalCost2, totalRecycle2);
        }
        const { containerEl: containerEl2 } = this;
        const listEl = containerEl2.querySelector(".assets-container");
        if (listEl) {
          listEl.remove();
          const newList = containerEl2.createDiv("assets-container");
          this.renderAssetCards(newList);
        } else {
          this.renderAssets();
        }
      },
      minYear,
      maxYear
    };
    this.topSummaryComponent = new TopSummary(topSummaryEl, topSummaryProps);
    this.topSummaryComponent.render();
    this.renderChartWithProgressiveRefinement(filteredActiveAssets);
    console.log("\u9876\u90E8\u7EDF\u8BA1\u533A\u57DF\u5DF2\u521B\u5EFA:", topSummaryEl);
  }
  getCurrencySymbol() {
    return t("currency.symbol");
  }
  // 渐进式细化渲染（参考costsetapp实现）
  renderChartWithProgressiveRefinement(assets) {
    if (assets.length === 0)
      return;
    let maxActiveTo = 0;
    assets.forEach((a) => {
      const to = a.activeTo;
      if (to) {
        const t2 = to.getTime();
        if (t2 && t2 > maxActiveTo)
          maxActiveTo = t2;
      }
    });
    const now = new Date();
    const maxDate = maxActiveTo && maxActiveTo > now.getTime() ? new Date(maxActiveTo) : now;
    const initialPoints = this.calcTrendPoints(assets, 30, void 0, maxDate);
    if (this.topSummaryComponent) {
      this.topSummaryComponent.updateChart(initialPoints);
    }
    setTimeout(async () => {
      const segPromises = [];
      for (let i = 0; i < initialPoints.length - 1; i++) {
        segPromises.push(
          Promise.resolve(this.calcTrendPoints(assets, 30, initialPoints[i].date, initialPoints[i + 1].date)).then((segPoints) => {
            if (i > 0)
              return segPoints.slice(1);
            return segPoints;
          })
        );
      }
      const segResults = await Promise.all(segPromises);
      const finePoints = segResults.flat();
      if (this.topSummaryComponent) {
        this.topSummaryComponent.updateChart(finePoints);
      }
    }, 500);
  }
  // 将标签筛选应用到给定资产集
  applyTagFilter(input) {
    if (!this.selectedTags || this.selectedTags.length === 0)
      return input;
    return input.filter((a) => {
      var _a;
      return (_a = a.tags) == null ? void 0 : _a.some((t2) => this.selectedTags.includes(t2));
    });
  }
  calcTrendPoints(assets, count, fromDate, toDate) {
    if (assets.length === 0)
      return [];
    const now = new Date();
    const minDate = fromDate || new Date(Math.min(...assets.map((a) => a.activeFrom.getTime())));
    const maxActiveTo = Math.max(...assets.map((a) => {
      const to = a.activeTo;
      if (to) {
        const t2 = to.getTime();
        if (!isNaN(t2))
          return t2;
      }
      return now.getTime();
    }));
    const maxDate = toDate || new Date(maxActiveTo);
    const points = [];
    for (let i = 0; i < count; i++) {
      const t2 = minDate.getTime() + (maxDate.getTime() - minDate.getTime()) * i / (count - 1);
      const date = new Date(t2);
      let totalCost = 0;
      assets.forEach((a) => {
        const cost = this.calcDailyCost(a.price, a.recyclePrice, a.activeFrom, a.activeTo, date);
        if (isFinite(cost))
          totalCost += cost;
      });
      points.push({ date, value: totalCost });
    }
    return points;
  }
  // 计算日均成本（参考costsetapp算法）
  calcDailyCost(price, recycle, from, to, now) {
    if (!from)
      return 0;
    const days = Math.floor((now.getTime() - from.getTime()) / 864e5) + 1;
    if (!to || to > now) {
      recycle = 0;
    }
    if (!isFinite(days) || days <= 0)
      return 0;
    const result = (Number(price) - Number(recycle || 0)) / days;
    return isFinite(result) ? result : 0;
  }
};

// components/settings/LacCostSetSettingTab.ts
var import_obsidian4 = require("obsidian");
init_i18n();
var LacCostSetSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: t("settings.title") });
    containerEl.createEl("p", { text: t("settings.guide.1"), cls: "setting-item-description" });
    const entryExample = t("settings.entry.example");
    containerEl.createEl("pre", { text: entryExample, cls: "setting-item-description" });
    containerEl.createEl("p", { text: t("settings.asset.desc"), cls: "setting-item-description" });
    const assetExample = t("settings.asset.example");
    containerEl.createEl("pre", { text: assetExample, cls: "setting-item-description" });
    containerEl.createEl("p", { text: t("settings.usage"), cls: "setting-item-description" });
    new import_obsidian4.Setting(containerEl).setName(t("settings.entryFile.name")).setDesc(t("settings.entryFile.desc")).addText((text) => text.setPlaceholder("LaC/CostSet/costset.md").setValue(this.plugin.settings.entryFile || "LaC/CostSet/costset.md").onChange(async (value) => {
      this.plugin.settings.entryFile = (value == null ? void 0 : value.trim()) || "LaC/CostSet/costset.md";
      await this.plugin.saveSettings();
      this.plugin.assetRepository = new AssetRepository(this.app, this.plugin.settings.entryFile);
    }));
    new import_obsidian4.Setting(containerEl).setName(t("settings.contextMenu.name")).setDesc(t("settings.contextMenu.desc")).addToggle((toggle) => toggle.setValue(this.plugin.settings.enableContextMenu).onChange(async (value) => {
      this.plugin.settings.enableContextMenu = !!value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian4.Setting(containerEl).setName(t("settings.defaultSort.name")).setDesc(t("settings.defaultSort.desc")).addDropdown((drop) => {
      drop.addOption("none", t("settings.defaultSort.option.none"));
      drop.addOption("dailyDesc", t("settings.defaultSort.option.dailyDesc"));
      drop.addOption("priceDesc", t("settings.defaultSort.option.priceDesc"));
      drop.addOption("dateDesc", t("settings.defaultSort.option.dateDesc"));
      drop.setValue(this.plugin.settings.defaultSort || "none");
      drop.onChange(async (value) => {
        const v = value;
        this.plugin.settings.defaultSort = v;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian4.Setting(containerEl).setName(t("settings.defaultIcon.name")).setDesc(t("settings.defaultIcon.desc")).addText((text) => {
      const sanitizeToFirstEmoji = (input) => {
        const m = (input || "").match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/);
        return m ? m[0] : "";
      };
      text.setPlaceholder(t("settings.defaultIcon.placeholder")).setValue(this.plugin.settings.defaultIcon).onChange(async (value) => {
        const first = sanitizeToFirstEmoji(value);
        if (text.inputEl && text.inputEl.value !== first) {
          text.inputEl.value = first;
        }
        this.plugin.settings.defaultIcon = first;
        await this.plugin.saveSettings();
      });
      const inputEl = text.inputEl;
      if (inputEl) {
        inputEl.addEventListener("paste", () => {
          setTimeout(() => {
            const first = sanitizeToFirstEmoji(inputEl.value || "");
            if (inputEl.value !== first)
              inputEl.value = first;
            this.plugin.settings.defaultIcon = first;
            this.plugin.saveSettings();
          }, 0);
        });
      }
    });
    new import_obsidian4.Setting(containerEl).setName(t("settings.locale.name")).setDesc(t("settings.locale.desc")).addDropdown((drop) => {
      drop.addOption("auto", t("settings.locale.option.auto"));
      drop.addOption("zh", "\u4E2D\u6587");
      drop.addOption("en", "English");
      drop.setValue(this.plugin.settings.locale || "auto");
      drop.onChange(async (value) => {
        this.plugin.settings.locale = value;
        await this.plugin.saveSettings();
        this.display();
      });
    });
  }
};

// main.ts
var LacCostSetPlugin = class extends import_obsidian5.Plugin {
  async onload() {
    await this.loadSettings();
    setLocale(this.settings.locale || "auto");
    this.assetRepository = new AssetRepository(this.app, this.settings.entryFile || "LaC/CostSet/costset.md");
    this.registerView("lac-costset-view", (leaf) => new AssetManagerView(leaf, this.assetRepository));
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        if (!this.settings.enableContextMenu)
          return;
        if (file instanceof import_obsidian5.TFile && file.extension === "md") {
          menu.addItem((item) => {
            item.setTitle(t("menu.openWith")).setIcon("package").onClick(() => {
              const leaf = this.app.workspace.getLeaf("tab");
              leaf.setViewState({
                type: "lac-costset-view",
                state: { filePath: file.path },
                active: true
              });
              this.app.workspace.revealLeaf(leaf);
            });
          });
        }
      })
    );
    this.addCommand({
      id: "open-lac-costset",
      name: t("command.open"),
      callback: async () => {
        const entryPath = this.settings.entryFile || "LaC/CostSet/costset.md";
        const ensureFolderExists = async (folderPath) => {
          const folder = this.app.vault.getAbstractFileByPath(folderPath);
          if (!folder) {
            await this.app.vault.createFolder(folderPath);
          }
        };
        const entryFile = this.app.vault.getAbstractFileByPath(entryPath);
        if (!entryFile) {
          const parts = entryPath.split("/");
          const folderPath = parts.slice(0, -1).join("/") || "";
          if (folderPath)
            await ensureFolderExists(folderPath);
          const sampleEntry = `# LaC.CostSet \u5165\u53E3

# \u4EE5\u4E0B\u4E3A\u5165\u53E3\u5143\u6570\u636E\uFF08TOML\uFF09
# \u8981\u6C42\uFF1Atype = "root" \u4E14 renders \u5305\u542B "costset"

type = "root"
renders = ["costset"]

# \u4EE5\u4E0B\u4E3A\u793A\u4F8B\u8D44\u4EA7\uFF0C\u60A8\u53EF\u4EE5\u5220\u9664\u5E76\u66FF\u6362\u4E3A\u81EA\u5DF1\u7684\u8D44\u4EA7\uFF1A

[[\u6F14\u793A-\u952E\u76D8]]
[[\u6F14\u793A-\u8033\u673A]]
[[\u6F14\u793A-\u8DEF\u7531\u5668]]
`;
          await this.app.vault.create(entryPath, sampleEntry);
          const makeAssetToml = (name, icon, price, from, to, recycle, tags) => {
            const lines = [];
            lines.push(`name = "${name}"`);
            lines.push("");
            lines.push("[style]");
            lines.push(`icon = "${icon}"`);
            lines.push("");
            lines.push("[detail]");
            lines.push(`price = ${price}`);
            lines.push(`active_from = "${from}"`);
            lines.push(`active_to = "${to || ""}"`);
            lines.push(`recycle_price = ${recycle != null ? recycle : 0}`);
            lines.push(`tags = [${(tags || []).map((t2) => `"${t2}"`).join(", ")}]`);
            lines.push("");
            return lines.join("\n");
          };
          const assetsFolder = folderPath || "LaC/CostSet";
          await ensureFolderExists(assetsFolder);
          const assetDefs = [
            { id: "\u6F14\u793A-\u952E\u76D8", icon: "\u2328\uFE0F", price: 399, from: "2024-01-01", to: "", recycle: 0, tags: ["\u6570\u7801", "\u952E\u76D8"] },
            { id: "\u6F14\u793A-\u8033\u673A", icon: "\u{1F3A7}", price: 599, from: "2024-03-15", to: "", recycle: 0, tags: ["\u6570\u7801", "\u8033\u673A"] },
            { id: "\u6F14\u793A-\u8DEF\u7531\u5668", icon: "\u{1F4F6}", price: 329, from: "2023-11-20", to: "", recycle: 50, tags: ["\u7F51\u7EDC"] }
          ];
          for (const a of assetDefs) {
            const filePath = `${assetsFolder}/${a.id}.md`;
            const exists = this.app.vault.getAbstractFileByPath(filePath);
            if (!exists) {
              await this.app.vault.create(filePath, makeAssetToml(a.id, a.icon, a.price, a.from, a.to, a.recycle, a.tags));
            }
          }
        }
        let invalid = false;
        try {
          const f = this.app.vault.getAbstractFileByPath(entryPath);
          if (f && f instanceof import_obsidian5.TFile) {
            const raw = await this.app.vault.read(f);
            const tomlCandidate = raw.replace(/\[\[([^\]]+)\]\]/g, (_m, p1) => `"${String(p1).trim()}"`);
            const hasTomlKv = /(^|\n)\s*[A-Za-z0-9_.]+\s*=\s*[^\n]+/m.test(tomlCandidate);
            const typeMatch = tomlCandidate.match(/(^|\n)\s*type\s*=\s*"([^"]*)"/m);
            const typeVal = (typeMatch == null ? void 0 : typeMatch[2]) || "";
            const rendersMatch = tomlCandidate.match(/(^|\n)\s*renders\s*=\s*\[([\s\S]*?)\]/m);
            let rendersHasCostset = false;
            if (rendersMatch && rendersMatch[2]) {
              const arrText = rendersMatch[2];
              rendersHasCostset = /\"costset\"/i.test(arrText) || /(^|,|\s)costset(,|\s|$)/i.test(arrText);
            }
            invalid = !hasTomlKv || typeVal !== "root" || !rendersHasCostset;
          } else {
            invalid = true;
          }
        } catch (_) {
          invalid = true;
        }
        if (invalid)
          new import_obsidian5.Notice(t("notice.invalidEntry"));
        this.assetRepository = new AssetRepository(this.app, entryPath);
        const leaf = this.app.workspace.getLeaf("tab");
        await leaf.setViewState({
          type: "lac-costset-view",
          state: { filePath: entryPath },
          active: true
        });
        this.app.workspace.revealLeaf(leaf);
      }
    });
    this.addSettingTab(new LacCostSetSettingTab(this.app, this));
    this.addStatusBarItem().setText("Lac-CostSet");
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    setLocale(this.settings.locale || "auto");
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiaTE4bi50cyIsICJtYWluLnRzIiwgInR5cGVzLnRzIiwgInJlcG9zaXRvcmllcy9Bc3NldFJlcG9zaXRvcnkudHMiLCAibW9kZWxzL0Fzc2V0LnRzIiwgImNvbXBvbmVudHMvbW9kYWxzL0Fzc2V0Rm9ybU1vZGFsLnRzIiwgImNvbXBvbmVudHMvbW9kYWxzL0NvbmZpcm1Nb2RhbC50cyIsICJjb21wb25lbnRzL0Fzc2V0TWFuYWdlclZpZXcudHMiLCAiY29tcG9uZW50cy9UYWdQYW5lbC50cyIsICJjb21wb25lbnRzL1RvcFN1bW1hcnkudHMiLCAiY29tcG9uZW50cy9zZXR0aW5ncy9MYWNDb3N0U2V0U2V0dGluZ1RhYi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IHR5cGUgTG9jYWxlU2V0dGluZyA9ICdhdXRvJyB8ICd6aCcgfCAnZW4nO1xyXG5cclxubGV0IGN1cnJlbnRMb2NhbGU6ICd6aCcgfCAnZW4nID0gJ3poJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlTG9jYWxlKGxvY2FsZTogTG9jYWxlU2V0dGluZyB8IHVuZGVmaW5lZCk6ICd6aCcgfCAnZW4nIHtcclxuXHRpZiAoIWxvY2FsZSB8fCBsb2NhbGUgPT09ICdhdXRvJykge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgbGFuZyA9IChuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgJycpLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdHJldHVybiBsYW5nLnN0YXJ0c1dpdGgoJ3poJykgPyAnemgnIDogJ2VuJztcclxuXHRcdH0gY2F0Y2ggKF8pIHtcclxuXHRcdFx0cmV0dXJuICdlbic7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBsb2NhbGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2NhbGUobG9jYWxlOiBMb2NhbGVTZXR0aW5nIHwgJ3poJyB8ICdlbicpOiB2b2lkIHtcclxuXHRjdXJyZW50TG9jYWxlID0gcmVzb2x2ZUxvY2FsZShsb2NhbGUgYXMgYW55KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhbGUoKTogJ3poJyB8ICdlbicge1xyXG5cdHJldHVybiBjdXJyZW50TG9jYWxlO1xyXG59XHJcblxyXG50eXBlIERpY3QgPSBSZWNvcmQ8c3RyaW5nLCB7IHpoOiBzdHJpbmc7IGVuOiBzdHJpbmcgfT5cclxuXHJcbmNvbnN0IGRpY3Q6IERpY3QgPSB7XHJcbiAgICAvLyBDdXJyZW5jeVxyXG4gICAgJ2N1cnJlbmN5LnN5bWJvbCc6IHsgemg6ICdcdTAwQTUnLCBlbjogJyQnIH0sXHJcblx0Ly8gQ29tbW9uXHJcblx0J2NvbW1vbi5jb25maXJtJzogeyB6aDogJ1x1Nzg2RVx1NUI5QScsIGVuOiAnQ29uZmlybScgfSxcclxuXHQnY29tbW9uLmNhbmNlbCc6IHsgemg6ICdcdTUzRDZcdTZEODgnLCBlbjogJ0NhbmNlbCcgfSxcclxuXHQnY29tbW9uLmRlbGV0ZSc6IHsgemg6ICdcdTUyMjBcdTk2NjQnLCBlbjogJ0RlbGV0ZScgfSxcclxuXHQnY29tbW9uLnNhdmUnOiB7IHpoOiAnXHU0RkREXHU1QjU4JywgZW46ICdTYXZlJyB9LFxyXG5cdCdjb21tb24uYmFjayc6IHsgemg6ICdcdThGRDRcdTU2REUnLCBlbjogJ0JhY2snIH0sXHJcblx0J2NvbW1vbi5hZGQnOiB7IHpoOiAnXHU2REZCXHU1MkEwJywgZW46ICdBZGQnIH0sXHJcblx0J2NvbW1vbi5zZWFyY2gnOiB7IHpoOiAnXHU2NDFDXHU3RDIyJywgZW46ICdTZWFyY2gnIH0sXHJcblxyXG5cdC8vIE1lbnUgLyBDb21tYW5kXHJcblx0J21lbnUub3BlbldpdGgnOiB7IHpoOiAnXHU3NTI4IExhQy5Db3N0U2V0IFx1NjI1M1x1NUYwMCcsIGVuOiAnT3BlbiB3aXRoIExhQy5Db3N0U2V0JyB9LFxyXG5cdCdjb21tYW5kLm9wZW4nOiB7IHpoOiAnXHU2MjUzXHU1RjAwJywgZW46ICdPcGVuJyB9LFxyXG5cdCdub3RpY2UuaW52YWxpZEVudHJ5Jzoge1xyXG5cdFx0emg6ICdcdTUxNjVcdTUzRTNcdTY1ODdcdTRFRjZcdTUxODVcdTVCQjlcdTY4M0NcdTVGMEZcdTRFMERcdTZCNjNcdTc4NkVcdUZGMUFcdTk3MDBcdTRFM0EgVE9NTFx1RkYwQ1x1NEUxNCB0eXBlID0gXCJyb290XCJcdUZGMENyZW5kZXJzIFx1NUZDNVx1OTg3Qlx1NTMwNVx1NTQyQiBcImNvc3RzZXRcIicsXHJcblx0XHRlbjogJ0VudHJ5IGZpbGUgaW52YWxpZDogbXVzdCBiZSBUT01MIHdpdGggdHlwZSA9IFwicm9vdFwiIGFuZCByZW5kZXJzIG11c3QgaW5jbHVkZSBcImNvc3RzZXRcIidcclxuXHR9LFxyXG5cdCdub3RpY2Uuc2F2ZUZhaWxlZCc6IHsgemg6ICdcdTRGRERcdTVCNThcdTU5MzFcdThEMjU6IHttc2d9JywgZW46ICdTYXZlIGZhaWxlZDoge21zZ30nIH0sXHJcblxyXG5cdC8vIFNldHRpbmdzXHJcblx0J3NldHRpbmdzLnRpdGxlJzogeyB6aDogJ0xhQy5Db3N0U2V0IFx1OEJCRVx1N0Y2RScsIGVuOiAnTGFDLkNvc3RTZXQgU2V0dGluZ3MnIH0sXHJcblx0J3NldHRpbmdzLmd1aWRlLjEnOiB7XHJcblx0XHR6aDogJ1x1OTFDRFx1ODk4MVx1RkYxQVx1NTE2NVx1NTNFM1x1NjU4N1x1NEVGNlx1NEUwRVx1OEQ0NFx1NEVBN1x1NjU4N1x1NEVGNlx1NzY4NFx1MjAxQ1x1NTE4NVx1NUJCOVx1NjgzQ1x1NUYwRlx1NEUzQSBUT01MXHUyMDFEXHVGRjBDXHU2NTg3XHU0RUY2XHU2MjY5XHU1QzU1XHU1NDBEXHU1M0VGXHU0RTNBIC5tZFx1MzAwMlx1NTE0MVx1OEJCOCAjIFx1NUYwMFx1NTkzNFx1NzY4NFx1NkNFOFx1OTFDQVx1MzAwMlx1NTUyRlx1NEUwMFx1NzY4NFx1OTc1RSBUT01MIFx1NEY4Qlx1NTkxNlx1NjYyRlx1RkYxQVx1NjU4N1x1NEVGNlx1NkI2M1x1NjU4N1x1NEUyRFx1NzY4NCBbW1x1OEQ0NFx1NEVBN1x1NjU4N1x1NEVGNlx1NTQwRF1dIFx1NTNDQ1x1OTRGRVx1NTNFRlx1NzcwMVx1NzU2NVx1NUYxNVx1NTNGN1x1RkYwQ1x1NjNEMlx1NEVGNlx1NTcyOFx1ODlFM1x1Njc5MFx1NjVGNlx1NEYxQVx1NEUzNFx1NjVGNlx1NEUzQVx1NTE3Nlx1NTJBMFx1NEUwQVx1NUYxNVx1NTNGN1x1NTQwRVx1NjMwOSBUT01MIFx1NTkwNFx1NzQwNlx1MzAwMlx1OTY2NFx1OEZEOVx1NzBCOVx1NTkxNlx1RkYwQ1x1NEUwRFx1NUU5NFx1NkRGN1x1NTE2NVx1NjY2RVx1OTAxQSBNYXJrZG93biBcdTY1ODdcdTY3MkNcdTMwMDInLFxyXG5cdFx0ZW46ICdJbXBvcnRhbnQ6IEVudHJ5IGFuZCBhc3NldCBmaWxlcyBtdXN0IGJlIFRPTUwgY29udGVudCAoZXh0ZW5zaW9uIGNhbiBiZSAubWQpLiBDb21tZW50cyBzdGFydGluZyB3aXRoICMgYXJlIGFsbG93ZWQuIFRoZSBvbmx5IG5vbi1UT01MIGV4Y2VwdGlvbjogW1thc3NldCBmaWxlbmFtZV1dIHdpa2lsaW5rcyBpbiB0aGUgYm9keSBjYW4gb21pdCBxdW90ZXM7IHRoZSBwbHVnaW4gd2lsbCB0ZW1wb3JhcmlseSBxdW90ZSB0aGVtIGZvciBUT01MIHBhcnNpbmcuIE5vIG90aGVyIHJlZ3VsYXIgTWFya2Rvd24gc2hvdWxkIGJlIG1peGVkLidcclxuXHR9LFxyXG5cdCdzZXR0aW5ncy5lbnRyeS5leGFtcGxlJzoge1xyXG5cdFx0emg6ICcjIFx1NTE2NVx1NTNFM1x1NjU4N1x1NEVGNlx1NjcwMFx1NUMwRlx1NzkzQVx1NEY4QlxcblxcbiMgXHU5ODc2XHU5MEU4IFRPTUxcdUZGMUFcdTVGQzVcdTk4N0JcdTZFRTFcdThEQjNcXG4jIHR5cGUgPSBcInJvb3RcIlxcbiMgcmVuZGVycyA9IFtcImNvc3RzZXRcIl1cXG5cXG50eXBlID0gXCJyb290XCJcXG5yZW5kZXJzID0gW1wiY29zdHNldFwiXVxcblxcbiMgXHU2QjYzXHU2NTg3XHVGRjFBXHU3NTI4XHU1M0NDXHU5NEZFXHU1MjE3XHU1MUZBXHU4RDQ0XHU0RUE3XHU2NTg3XHU0RUY2XHU1NDBEXHVGRjA4XHU0RTBEXHU5NzAwXHU4OTgxXHU2MjY5XHU1QzU1XHU1NDBEXHVGRjA5XFxuXFxuW1tcdTk1MkVcdTc2RDhdXVxcbltbXHU4MDMzXHU2NzNBXV1cXG4nLFxyXG5cdFx0ZW46ICcjIE1pbmltYWwgZW50cnkgZmlsZSBleGFtcGxlXFxuXFxuIyBUb3AgVE9NTCBtdXN0IGluY2x1ZGVcXG4jIHR5cGUgPSBcInJvb3RcIlxcbiMgcmVuZGVycyA9IFtcImNvc3RzZXRcIl1cXG5cXG50eXBlID0gXCJyb290XCJcXG5yZW5kZXJzID0gW1wiY29zdHNldFwiXVxcblxcbiMgQm9keTogbGlzdCBhc3NldCBmaWxlbmFtZXMgdXNpbmcgd2lraWxpbmtzIChubyBleHRlbnNpb24pXFxuXFxuW1trZXlib2FyZF1dXFxuW1toZWFkcGhvbmVzXV1cXG4nXHJcblx0fSxcclxuXHQnc2V0dGluZ3MuYXNzZXQuZGVzYyc6IHtcclxuXHRcdHpoOiAnXHU4RDQ0XHU0RUE3XHU2NTg3XHU0RUY2XHU1NDBDXHU2ODM3XHU2NjJGIE1hcmtkb3duXHVGRjBDXHU0RjQ2XHU1MTg1XHU1QkI5XHU0RUU1IFRPTUwgXHU1QjU3XHU2QkI1XHU0RTNBXHU0RTNCXHVGRjA4XHU2M0QyXHU0RUY2XHU0RjFBXHU0RkREXHU3NTU5XHU0RjYwXHU1MTk5XHU3Njg0XHU2Q0U4XHU5MUNBXHVGRjA5XHUzMDAyXHU0RUU1XHU0RTBCXHU0RTNBXHU2NzAwXHU1QzBGXHU3OTNBXHU0RjhCXHVGRjFBJyxcclxuXHRcdGVuOiAnQXNzZXQgZmlsZXMgYXJlIGFsc28gTWFya2Rvd24sIGJ1dCBtYWlubHkgVE9NTCBmaWVsZHMgKGNvbW1lbnRzIGFyZSBwcmVzZXJ2ZWQpLiBNaW5pbWFsIGV4YW1wbGU6J1xyXG5cdH0sXHJcblx0J3NldHRpbmdzLmFzc2V0LmV4YW1wbGUnOiB7XHJcblx0XHR6aDogJ25hbWUgPSBcIlx1OTUyRVx1NzZEOFwiXFxuXFxuW3N0eWxlXVxcbmljb24gPSBcIlx1MjMyOFx1RkUwRlwiXFxuXFxuW2RldGFpbF1cXG5wcmljZSA9IDM5OVxcbmFjdGl2ZV9mcm9tID0gXCIyMDI0LTAxLTAxXCJcXG5hY3RpdmVfdG8gPSBcIlwiXFxucmVjeWNsZV9wcmljZSA9IDBcXG50YWdzID0gW1wiXHU2NTcwXHU3ODAxXCIsIFwiXHU5NTJFXHU3NkQ4XCJdXFxuJyxcclxuXHRcdGVuOiAnbmFtZSA9IFwiS2V5Ym9hcmRcIlxcblxcbltzdHlsZV1cXG5pY29uID0gXCJcdTIzMjhcdUZFMEZcIlxcblxcbltkZXRhaWxdXFxucHJpY2UgPSAzOTlcXG5hY3RpdmVfZnJvbSA9IFwiMjAyNC0wMS0wMVwiXFxuYWN0aXZlX3RvID0gXCJcIlxcbnJlY3ljbGVfcHJpY2UgPSAwXFxudGFncyA9IFtcIkRpZ2l0YWxcIiwgXCJLZXlib2FyZFwiXVxcbidcclxuXHR9LFxyXG5cdCdzZXR0aW5ncy51c2FnZSc6IHtcclxuXHRcdHpoOiAnXHU3NTI4XHU2Q0Q1XHVGRjFBXHU1NzI4XHUyMDFDXHU1MTY1XHU1M0UzXHU2NTg3XHU0RUY2XHUyMDFEXHU0RTBBXHU1M0YzXHU5NTJFIFx1MjE5MiBcdTkwMDlcdTYyRTlcdTIwMUNcdTc1MjggTGFDLkNvc3RTZXQgXHU2MjUzXHU1RjAwXHUyMDFEXHUzMDAyXHU0RTVGXHU1M0VGXHU1NzI4XHU1NDdEXHU0RUU0XHU5NzYyXHU2NzdGXHU2MjY3XHU4ODRDXHUyMDFDXHU2MjUzXHU1RjAwTGFDLkNvc3RTZXRcdTIwMURcdUZGMDhcdTVDMDZcdTRGN0ZcdTc1MjhcdTRFMEJcdTY1QjlcdTkxNERcdTdGNkVcdTc2ODRcdTUxNjVcdTUzRTNcdTY1ODdcdTRFRjZcdUZGMDlcdTMwMDInLFxyXG5cdFx0ZW46ICdVc2FnZTogUmlnaHQtY2xpY2sgb24gdGhlIGVudHJ5IGZpbGUgXHUyMTkyIGNob29zZSBcIk9wZW4gd2l0aCBMYUMuQ29zdFNldFwiLiBPciBydW4gdGhlIGNvbW1hbmQgXCJPcGVuIExhQy5Db3N0U2V0XCIgKHVzZXMgdGhlIGNvbmZpZ3VyZWQgZW50cnkgZmlsZSBiZWxvdykuJ1xyXG5cdH0sXHJcblx0J3NldHRpbmdzLmVudHJ5RmlsZS5uYW1lJzogeyB6aDogJ1x1NTE2NVx1NTNFM1x1NjU4N1x1NEVGNicsIGVuOiAnRW50cnkgZmlsZScgfSxcclxuXHQnc2V0dGluZ3MuZW50cnlGaWxlLmRlc2MnOiB7IHpoOiAnXHU0RjVDXHU0RTNBXHU4RDQ0XHU0RUE3XHU1MTY1XHU1M0UzXHU3Njg0IE1hcmtkb3duIFx1NjU4N1x1NEVGNlx1OERFRlx1NUY4NFx1RkYwQ1x1NEY4Qlx1NTk4MiBMYUMvQ29zdFNldC9jb3N0c2V0Lm1kJywgZW46ICdQYXRoIHRvIHRoZSBNYXJrZG93biBlbnRyeSBmaWxlLCBlLmcuLCBMYUMvQ29zdFNldC9jb3N0c2V0Lm1kJyB9LFxyXG5cdCdzZXR0aW5ncy5jb250ZXh0TWVudS5uYW1lJzogeyB6aDogJ1x1NTQyRlx1NzUyOFx1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NSBcdTIwMUNcdTc1MjggTGFDLkNvc3RTZXQgXHU2MjUzXHU1RjAwXHUyMDFEJywgZW46ICdFbmFibGUgY29udGV4dCBtZW51IFwiT3BlbiB3aXRoIExhQy5Db3N0U2V0XCInIH0sXHJcblx0J3NldHRpbmdzLmNvbnRleHRNZW51LmRlc2MnOiB7IHpoOiAnXHU1NzI4IE1hcmtkb3duIFx1NjU4N1x1NEVGNlx1NzY4NFx1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NVx1NEUyRFx1NjYzRVx1NzkzQVx1NTE2NVx1NTNFMycsIGVuOiAnU2hvdyBlbnRyeSBpbiBNYXJrZG93biBmaWxlIGNvbnRleHQgbWVudScgfSxcclxuXHQnc2V0dGluZ3MuZGVmYXVsdFNvcnQubmFtZSc6IHsgemg6ICdcdTlFRDhcdThCQTRcdTYzOTJcdTVFOEYnLCBlbjogJ0RlZmF1bHQgc29ydCcgfSxcclxuXHQnc2V0dGluZ3MuZGVmYXVsdFNvcnQuZGVzYyc6IHsgemg6ICdcdTYyNTNcdTVGMDBcdTg5QzZcdTU2RkVcdTY1RjZcdTc2ODRcdTUyMURcdTU5Q0JcdTYzOTJcdTVFOEZcdTY1QjlcdTVGMEYnLCBlbjogJ0luaXRpYWwgc29ydCB3aGVuIG9wZW5pbmcgdGhlIHZpZXcnIH0sXHJcblx0J3NldHRpbmdzLmRlZmF1bHRTb3J0Lm9wdGlvbi5ub25lJzogeyB6aDogJ1x1NjU4N1x1NjcyQ1x1OTg3QVx1NUU4RicsIGVuOiAnVGV4dCBvcmRlcicgfSxcclxuXHQnc2V0dGluZ3MuZGVmYXVsdFNvcnQub3B0aW9uLmRhaWx5RGVzYyc6IHsgemg6ICdcdTY1RTVcdTU3NDdcdTRFRjdcdTY4M0MnLCBlbjogJ0RhaWx5IGNvc3QnIH0sXHJcblx0J3NldHRpbmdzLmRlZmF1bHRTb3J0Lm9wdGlvbi5wcmljZURlc2MnOiB7IHpoOiAnXHU0RUY3XHU2ODNDJywgZW46ICdQcmljZScgfSxcclxuXHQnc2V0dGluZ3MuZGVmYXVsdFNvcnQub3B0aW9uLmRhdGVEZXNjJzogeyB6aDogJ1x1OEQyRFx1NTE2NVx1NjVFNVx1NjcxRicsIGVuOiAnUHVyY2hhc2UgZGF0ZScgfSxcclxuXHQnc2V0dGluZ3MuZGVmYXVsdEljb24ubmFtZSc6IHsgemg6ICdcdTlFRDhcdThCQTRcdTU2RkVcdTY4MDcnLCBlbjogJ0RlZmF1bHQgaWNvbicgfSxcclxuXHQnc2V0dGluZ3MuZGVmYXVsdEljb24uZGVzYyc6IHsgemg6ICdcdTY1QjBcdThENDRcdTRFQTdcdTc2ODRcdTlFRDhcdThCQTRcdTU2RkVcdTY4MDdcdUZGMENcdTRFQzVcdTY1MkZcdTYzMDEgMSBcdTRFMkEgRW1vamknLCBlbjogJ0RlZmF1bHQgaWNvbiBmb3IgbmV3IGFzc2V0cyAoc2luZ2xlIEVtb2ppIG9ubHkpJyB9LFxyXG5cdCdzZXR0aW5ncy5kZWZhdWx0SWNvbi5wbGFjZWhvbGRlcic6IHsgemg6ICdcdUQ4M0RcdURDRTYnLCBlbjogJ1x1RDgzRFx1RENFNicgfSxcclxuXHQnc2V0dGluZ3MubG9jYWxlLm5hbWUnOiB7IHpoOiAnXHU4QkVEXHU4QTAwJywgZW46ICdMYW5ndWFnZScgfSxcclxuXHQnc2V0dGluZ3MubG9jYWxlLmRlc2MnOiB7IHpoOiAnXHU3NTRDXHU5NzYyXHU4QkVEXHU4QTAwJywgZW46ICdJbnRlcmZhY2UgbGFuZ3VhZ2UnIH0sXHJcblx0J3NldHRpbmdzLmxvY2FsZS5vcHRpb24uYXV0byc6IHsgemg6ICdcdThEREZcdTk2OEZcdTdDRkJcdTdFREYnLCBlbjogJ0F1dG8nIH0sXHJcblx0J3NldHRpbmdzLmxvY2FsZS5vcHRpb24uemgnOiB7IHpoOiAnXHU0RTJEXHU2NTg3JywgZW46ICdDaGluZXNlJyB9LFxyXG5cdCdzZXR0aW5ncy5sb2NhbGUub3B0aW9uLmVuJzogeyB6aDogJ1x1ODJGMVx1NjU4NycsIGVuOiAnRW5nbGlzaCcgfSxcclxuXHJcblx0Ly8gQXNzZXRNYW5hZ2VyVmlld1xyXG5cdCd2aWV3LmhpbnQub3BlbkZyb21NZW51JzogeyB6aDogJ1x1NEVDRVx1NjU4N1x1NEVGNlx1NzY4NFx1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NVx1NEUyRFx1OTAwOVx1NjJFOSBcdTIwMUNcdTc1MjggTGFDLkNvc3RTZXQgXHU2MjUzXHU1RjAwXHUyMDFEXHUzMDAyJywgZW46ICdVc2UgZmlsZSBjb250ZXh0IG1lbnU6IFwiT3BlbiB3aXRoIExhQy5Db3N0U2V0XCIuJyB9LFxyXG5cdCd2aWV3LnNlbGVjdFJvb3QudGl0bGUnOiB7IHpoOiAnXHU5MDA5XHU2MkU5XHU4RDQ0XHU0RUE3XHU2ODM5XHU2NTg3XHU0RUY2JywgZW46ICdTZWxlY3Qgcm9vdCBhc3NldCBmaWxlJyB9LFxyXG5cdCd2aWV3LnNlbGVjdFJvb3QuZGVzYyc6IHsgemg6ICdcdThCRjdcdTkwMDlcdTYyRTlcdTRFMDBcdTRFMkFcdTUzMDVcdTU0MkJcdThENDRcdTRFQTdcdTVGMTVcdTc1MjhcdTc2ODRcdTY1ODdcdTRFRjZcdTRGNUNcdTRFM0FcdTUxNjVcdTUzRTMnLCBlbjogJ1BsZWFzZSBjaG9vc2UgYSBmaWxlIGNvbnRhaW5pbmcgYXNzZXQgcmVmZXJlbmNlcyBhcyBlbnRyeScgfSxcclxuXHQndmlldy5lbXB0eSc6IHsgemg6ICdcdTY2ODJcdTY1RTBcdThENDRcdTRFQTcnLCBlbjogJ05vIGFzc2V0cycgfSxcclxuXHQndmlldy50b05vdyc6IHsgemg6ICdcdTgxRjNcdTRFQ0EnLCBlbjogJ1ByZXNlbnQnIH0sXHJcblx0J3ZpZXcudXNlZERheXMnOiB7IHpoOiAnXHU1REYyXHU3NTI4e2RheXN9XHU1OTI5JywgZW46ICd7ZGF5c30gZGF5cyB1c2VkJyB9LFxyXG5cdCd2aWV3LmRhaWx5JzogeyB6aDogJ1x1NjVFNVx1NTc0NycsIGVuOiAnRGFpbHknIH0sXHJcblx0J3ZpZXcucHJpY2UnOiB7IHpoOiAnXHU0RUY3XHU2ODNDJywgZW46ICdQcmljZScgfSxcclxuXHQndmlldy5yZWN5Y2xlUHJpY2UnOiB7IHpoOiAnXHU1NkRFXHU2NTM2XHU0RUY3JywgZW46ICdSZWN5Y2xlJyB9LFxyXG5cdCd2aWV3LmJhY2snOiB7IHpoOiAnXHU4RkQ0XHU1NkRFJywgZW46ICdCYWNrJyB9LFxyXG5cdCd2aWV3LnNlYXJjaC5hcmlhJzogeyB6aDogJ1x1NjQxQ1x1N0QyMicsIGVuOiAnU2VhcmNoJyB9LFxyXG5cdCd2aWV3LnNlYXJjaC5wbGFjZWhvbGRlcic6IHsgemg6ICdcdTY0MUNcdTdEMjJcdTU0MERcdTc5RjBcdTYyMTZcdTY4MDdcdTdCN0UnLCBlbjogJ1NlYXJjaCBuYW1lIG9yIHRhZ3MnIH0sXHJcblx0J3ZpZXcuc29ydC50aXRsZSc6IHsgemg6ICdcdTYzOTJcdTVFOEYnLCBlbjogJ1NvcnQnIH0sXHJcblx0J3ZpZXcuc29ydC50aXRsZS5kYWlseURlc2MnOiB7IHpoOiAnXHU2MzA5XHU2NUU1XHU1NzQ3XHU2MjEwXHU2NzJDIChcdTk2NERcdTVFOEYpJywgZW46ICdCeSBkYWlseSBjb3N0IChkZXNjKScgfSxcclxuXHQndmlldy5zb3J0LnRpdGxlLnByaWNlRGVzYyc6IHsgemg6ICdcdTYzMDlcdTRFRjdcdTY4M0MgKFx1OTY0RFx1NUU4RiknLCBlbjogJ0J5IHByaWNlIChkZXNjKScgfSxcclxuXHQndmlldy5zb3J0LnRpdGxlLmRhdGVEZXNjJzogeyB6aDogJ1x1NjMwOVx1OEQyRFx1NTE2NVx1NjVFNVx1NjcxRiAoXHU5NjREXHU1RThGKScsIGVuOiAnQnkgcHVyY2hhc2UgZGF0ZSAoZGVzYyknIH0sXHJcblx0J3ZpZXcuc29ydC5tZW51LmRhaWx5RGVzYyc6IHsgemg6ICdcdTYzMDlcdTY1RTVcdTU3NDdcdTYyMTBcdTY3MkMnLCBlbjogJ0J5IGRhaWx5IGNvc3QnIH0sXHJcblx0J3ZpZXcuc29ydC5tZW51LnByaWNlRGVzYyc6IHsgemg6ICdcdTYzMDlcdTRFRjdcdTY4M0MnLCBlbjogJ0J5IHByaWNlJyB9LFxyXG5cdCd2aWV3LnNvcnQubWVudS5kYXRlRGVzYyc6IHsgemg6ICdcdTYzMDlcdThEMkRcdTUxNjVcdTY1RTVcdTY3MUYnLCBlbjogJ0J5IHB1cmNoYXNlIGRhdGUnIH0sXHJcblx0J3ZpZXcuYWRkJzogeyB6aDogJ1x1NkRGQlx1NTJBMCcsIGVuOiAnQWRkJyB9LFxyXG5cdCd2aWV3LmNvbmZpcm1EZWxldGVBc3NldCc6IHsgemg6ICdcdTc4NkVcdTVCOUFcdTg5ODFcdTUyMjBcdTk2NjRcdThENDRcdTRFQTcgXCJ7bmFtZX1cIiBcdTU0MTdcdUZGMUYnLCBlbjogJ0RlbGV0ZSBhc3NldCBcIntuYW1lfVwiPycgfSxcclxuXHJcblx0Ly8gVG9wIHN1bW1hcnlcclxuXHQndG9wLnRvdGFsJzogeyB6aDogJ1x1NjAzQlx1NjIxMFx1NjcyQyAnLCBlbjogJ1RvdGFsICcgfSxcclxuXHQndG9wLnJlY3ljbGUnOiB7IHpoOiAnXHU1M0VGXHU1NkRFXHU2NTM2ICcsIGVuOiAnUmVjeWNsYWJsZSAnIH0sXHJcblx0J2RhdGUucGljayc6IHsgemg6ICdcdTkwMDlcdTYyRTlcdTY1RTVcdTY3MUYnLCBlbjogJ1BpY2sgZGF0ZScgfSxcclxuXHQnZGF0ZS55ZWFyJzogeyB6aDogJ1x1NUU3NCcsIGVuOiAnJyB9LFxyXG5cdCdkYXRlLm1vbnRoJzogeyB6aDogJ1x1NjcwOCcsIGVuOiAnJyB9LFxyXG5cdCdkYXRlLmRheSc6IHsgemg6ICdcdTY1RTUnLCBlbjogJycgfSxcclxuXHJcblx0Ly8gQ29uZmlybSBtb2RhbFxyXG5cdCdjb25maXJtLnRpdGxlJzogeyB6aDogJ1x1Nzg2RVx1OEJBNFx1NjRDRFx1NEY1QycsIGVuOiAnQ29uZmlybScgfSxcclxuXHJcblx0Ly8gRm9ybSBtb2RhbFxyXG5cdCdmb3JtLm5hbWUnOiB7IHpoOiAnXHU1NDBEXHU3OUYwJywgZW46ICdOYW1lJyB9LFxyXG5cdCdmb3JtLmljb24nOiB7IHpoOiAnXHU1NkZFXHU2ODA3JywgZW46ICdJY29uJyB9LFxyXG5cdCdmb3JtLnByaWNlJzogeyB6aDogJ1x1NEVGN1x1NjgzQycsIGVuOiAnUHJpY2UnIH0sXHJcblx0J2Zvcm0ucHVyY2hhc2VPbic6IHsgemg6ICdcdThEMkRcdTUxNjVcdTRFOEUnLCBlbjogJ1B1cmNoYXNlZCBvbicgfSxcclxuXHQnZm9ybS5wdXJjaGFzZURhdGUnOiB7IHpoOiAnXHU4RDJEXHU1MTY1XHU2NUU1XHU2NzFGJywgZW46ICdQdXJjaGFzZSBkYXRlJyB9LFxyXG5cdCdmb3JtLmVuZERhdGUnOiB7IHpoOiAnXHU1MjMwXHU2NzFGJywgZW46ICdFbmQgZGF0ZScgfSxcclxuXHQnZm9ybS5lbmREYXRlUGxhY2Vob2xkZXInOiB7IHpoOiAnKFx1OEJBMVx1NTIxMilcdTYyQTVcdTVFOUYvXHU1NkRFXHU2NTM2L1x1NTIzMFx1NjcxRlx1NjVGNlx1OTVGNCcsIGVuOiAnUGxhbm5lZCBzY3JhcC9yZWN5Y2xlL2VuZCBkYXRlJyB9LFxyXG5cdCdmb3JtLnJlY3ljbGVQcmljZSc6IHsgemg6ICdcdTU2REVcdTY1MzZcdTRFRjcnLCBlbjogJ1JlY3ljbGUgcHJpY2UnIH0sXHJcblx0J2Zvcm0udGFncyc6IHsgemg6ICdcdTY4MDdcdTdCN0UnLCBlbjogJ1RhZ3MnIH0sXHJcblx0J2Zvcm0uYXNzZXROYW1lLnBsYWNlaG9sZGVyJzogeyB6aDogJ1x1OEQ0NFx1NEVBN1x1NTQwRFx1NzlGMCcsIGVuOiAnQXNzZXQgbmFtZScgfSxcclxuXHQnZm9ybS5pY29uLnBsYWNlaG9sZGVyJzogeyB6aDogJ1x1OEJGN1x1OEY5M1x1NTE2NVx1NEUwMFx1NEUyQSBFbW9qaSBcdTRGNUNcdTRFM0FcdTU2RkVcdTY4MDcnLCBlbjogJ1BsZWFzZSBlbnRlciBvbmUgRW1vamkgYXMgaWNvbicgfSxcclxuXHQnZm9ybS5wcmljZS5wbGFjZWhvbGRlcic6IHsgemg6ICdcdThEMkRcdTUxNjVcdTRFRjdcdTY4M0NcdUZGMDhcdTUxNDNcdUZGMDknLCBlbjogJ1B1cmNoYXNlIHByaWNlJyB9LFxyXG5cdCdmb3JtLnJlY3ljbGUucGxhY2Vob2xkZXInOiB7IHpoOiAnXHU1NkRFXHU2NTM2XHU0RUY3XHU2ODNDXHVGRjA4XHU1MTQzXHVGRjA5JywgZW46ICdSZWN5Y2xlIHByaWNlJyB9LFxyXG5cdCdmb3JtLnRhZ3MucGxhY2Vob2xkZXInOiB7IHpoOiAnXHU4RjkzXHU1MTY1XHU2ODA3XHU3QjdFXHVGRjBDXHU1NkRFXHU4RjY2XHU3ODZFXHU4QkE0JywgZW46ICdUeXBlIHRhZ3MgYW5kIHByZXNzIEVudGVyJyB9LFxyXG5cdCdmb3JtLmFjdGlvbi5jYW5jZWwnOiB7IHpoOiAnXHU1M0Q2XHU2RDg4JywgZW46ICdDYW5jZWwnIH0sXHJcblx0J2Zvcm0uYWN0aW9uLmRlbGV0ZSc6IHsgemg6ICdcdTUyMjBcdTk2NjQnLCBlbjogJ0RlbGV0ZScgfSxcclxuXHQnZm9ybS5hY3Rpb24uc2F2ZSc6IHsgemg6ICdcdTRGRERcdTVCNTgnLCBlbjogJ1NhdmUnIH0sXHJcblx0J2Zvcm0uZXJyb3IubmFtZVJlcXVpcmVkJzogeyB6aDogJ1x1OEJGN1x1NTg2Qlx1NTE5OVx1NTQwRFx1NzlGMCcsIGVuOiAnUGxlYXNlIGVudGVyIGEgbmFtZScgfSxcclxuXHQnZm9ybS5lcnJvci5wcmljZUludmFsaWQnOiB7IHpoOiAnXHU4QkY3XHU1ODZCXHU1MTk5XHU2NzA5XHU2NTQ4XHU3Njg0XHU0RUY3XHU2ODNDJywgZW46ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBwcmljZScgfSxcclxuXHQnZm9ybS5lcnJvci5mcm9tUmVxdWlyZWQnOiB7IHpoOiAnXHU4QkY3XHU5MDA5XHU2MkU5XHU4RDJEXHU1MTY1XHU2NUU1XHU2NzFGJywgZW46ICdQbGVhc2Ugc2VsZWN0IGEgcHVyY2hhc2UgZGF0ZScgfSxcclxuXHQnZm9ybS5lcnJvci50b0JlZm9yZUZyb20nOiB7IHpoOiAnXHU1MjMwXHU2NzFGXHU2NUU1XHU2NzFGXHU5NzAwXHU0RTBEXHU2NUU5XHU0RThFXHU4RDJEXHU1MTY1XHU2NUU1XHU2NzFGJywgZW46ICdFbmQgZGF0ZSBtdXN0IG5vdCBiZSBlYXJsaWVyIHRoYW4gcHVyY2hhc2UgZGF0ZScgfSxcclxuXHQnZm9ybS5lcnJvci5yZWN5Y2xlSW52YWxpZCc6IHsgemg6ICdcdTU2REVcdTY1MzZcdTRFRjdcdTY4M0NcdTY4M0NcdTVGMEZcdTRFMERcdTZCNjNcdTc4NkUnLCBlbjogJ0ludmFsaWQgcmVjeWNsZSBwcmljZSBmb3JtYXQnIH0sXHJcblx0J2Zvcm0uZXJyb3IucmVjeWNsZUd0UHJpY2UnOiB7IHpoOiAnXHU1NkRFXHU2NTM2XHU0RUY3XHU0RTBEXHU4MEZEXHU1OTI3XHU0RThFXHU0RUY3XHU2ODNDJywgZW46ICdSZWN5Y2xlIHByaWNlIG11c3Qgbm90IGV4Y2VlZCBwcmljZScgfSxcclxuXHJcblx0Ly8gVGFnIHBhbmVsXHJcblx0J3RhZ3Muc2VhcmNoLnBsYWNlaG9sZGVyJzogeyB6aDogJ1x1NjQxQ1x1N0QyMlx1NjgwN1x1N0I3RScsIGVuOiAnU2VhcmNoIHRhZ3MnIH0sXHJcblx0J3RhZ3Muc2VsZWN0QWxsJzogeyB6aDogJ1x1NTE2OFx1OTAwOScsIGVuOiAnU2VsZWN0IGFsbCcgfSxcclxuXHQndGFncy5kZXNlbGVjdEFsbCc6IHsgemg6ICdcdTUzRDZcdTZEODhcdTUxNjhcdTkwMDknLCBlbjogJ0Rlc2VsZWN0IGFsbCcgfSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFZhcnMoaW5wdXQ6IHN0cmluZywgdmFycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj4pOiBzdHJpbmcge1xyXG5cdGlmICghdmFycykgcmV0dXJuIGlucHV0O1xyXG5cdHJldHVybiBpbnB1dC5yZXBsYWNlKC9cXHsoXFx3KylcXH0vZywgKF9tLCBrKSA9PiBTdHJpbmcodmFyc1trXSA/PyAnJykpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdChrZXk6IHN0cmluZywgdmFycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj4sIGxvY2FsZT86ICd6aCcgfCAnZW4nKTogc3RyaW5nIHtcclxuXHRjb25zdCBsYW5nID0gbG9jYWxlIHx8IGN1cnJlbnRMb2NhbGU7XHJcblx0Y29uc3QgZW50cnkgPSAoZGljdCBhcyBhbnkpW2tleV0gYXMgeyB6aDogc3RyaW5nOyBlbjogc3RyaW5nIH0gfCB1bmRlZmluZWQ7XHJcblx0aWYgKCFlbnRyeSkgcmV0dXJuIGtleTtcclxuXHRjb25zdCByYXcgPSAoZW50cnkgYXMgYW55KVtsYW5nXSA/PyBlbnRyeS5lbiA/PyBrZXk7XHJcblx0cmV0dXJuIGZvcm1hdFZhcnMocmF3LCB2YXJzKTtcclxufVxyXG5cclxuXHJcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpbiwgVEZpbGUsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IExhY0Nvc3RTZXRTZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgc2V0TG9jYWxlLCByZXNvbHZlTG9jYWxlLCB0IH0gZnJvbSAnLi9pMThuJztcbmltcG9ydCB7IEFzc2V0UmVwb3NpdG9yeSB9IGZyb20gJy4vcmVwb3NpdG9yaWVzL0Fzc2V0UmVwb3NpdG9yeSc7XG5pbXBvcnQgeyBBc3NldE1hbmFnZXJWaWV3IH0gZnJvbSAnLi9jb21wb25lbnRzL0Fzc2V0TWFuYWdlclZpZXcnO1xuaW1wb3J0IHsgQXNzZXRGb3JtTW9kYWwgfSBmcm9tICcuL2NvbXBvbmVudHMvbW9kYWxzL0Fzc2V0Rm9ybU1vZGFsJztcbmltcG9ydCB7IExhY0Nvc3RTZXRTZXR0aW5nVGFiIH0gZnJvbSAnLi9jb21wb25lbnRzL3NldHRpbmdzL0xhY0Nvc3RTZXRTZXR0aW5nVGFiJztcblxuXG4vLyBcdTRFM0JcdTYzRDJcdTRFRjZcdTdDN0JcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhY0Nvc3RTZXRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogTGFjQ29zdFNldFNldHRpbmdzO1xuXHRhc3NldFJlcG9zaXRvcnk6IEFzc2V0UmVwb3NpdG9yeTtcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1OEJFRFx1OEEwMFxuXHRcdHNldExvY2FsZSh0aGlzLnNldHRpbmdzLmxvY2FsZSB8fCAnYXV0bycpO1xuXG5cdFx0Ly8gXHU1MjFEXHU1OUNCXHU1MzE2QXNzZXRSZXBvc2l0b3J5XHVGRjA4XHU0RjdGXHU3NTI4XHU4QkJFXHU3RjZFXHU0RTJEXHU3Njg0XHU1MTY1XHU1M0UzXHU2NTg3XHU0RUY2XHU4REVGXHU1Rjg0XHVGRjA5XG5cdFx0dGhpcy5hc3NldFJlcG9zaXRvcnkgPSBuZXcgQXNzZXRSZXBvc2l0b3J5KHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzLmVudHJ5RmlsZSB8fCAnTGFDL0Nvc3RTZXQvY29zdHNldC5tZCcpO1xuXG5cdFx0Ly8gXHU2Q0U4XHU1MThDXHU4OUM2XHU1NkZFXHVGRjA4XHU1MTQxXHU4QkI4IE9ic2lkaWFuIFx1NkI2M1x1NUUzOFx1NjA2Mlx1NTkwRFx1NUUwM1x1NUM0MFx1RkYwOVxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KCdsYWMtY29zdHNldC12aWV3JywgKGxlYWYpID0+IG5ldyBBc3NldE1hbmFnZXJWaWV3KGxlYWYsIHRoaXMuYXNzZXRSZXBvc2l0b3J5KSk7XG5cblx0XHQvLyBcdTZERkJcdTUyQTBcdTY1ODdcdTRFRjZcdTgzRENcdTUzNTVcdTk4Nzlcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2ZpbGUtbWVudScsIChtZW51LCBmaWxlKSA9PiB7XG5cdFx0XHRcdGlmICghdGhpcy5zZXR0aW5ncy5lbmFibGVDb250ZXh0TWVudSkgcmV0dXJuO1xuXHRcdFx0XHRpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIGZpbGUuZXh0ZW5zaW9uID09PSAnbWQnKSB7XG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRpdGVtXG5cdFx0XHRcdFx0XHRcdC5zZXRUaXRsZSh0KCdtZW51Lm9wZW5XaXRoJykpXG5cdFx0XHRcdFx0XHRcdC5zZXRJY29uKCdwYWNrYWdlJylcblx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFx1NEY3Rlx1NzUyOCBzZXRWaWV3U3RhdGUgXHU2MjUzXHU1RjAwXHU4OUM2XHU1NkZFXHVGRjBDXHU3ODZFXHU0RkREXHU2NjNFXHU3OTNBXHU2ODA3XHU1MUM2XHU2ODA3XHU5ODk4XHU2ODBGXHU0RTBFXHU1QkZDXHU4MjJBXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcblx0XHRcdFx0XHRcdFx0XHRsZWFmLnNldFZpZXdTdGF0ZSh7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnbGFjLWNvc3RzZXQtdmlldycsXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogeyBmaWxlUGF0aDogZmlsZS5wYXRoIH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU6IHRydWVcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdC8vIFx1NTIyMFx1OTY2NFx1NTE3Nlx1NEVENlx1NTQ3RFx1NEVFNFx1RkYwQ1x1NEVDNVx1NEZERFx1NzU1OVx1MjAxQ1x1NjI1M1x1NUYwMExhQy5Db3N0U2V0XHUyMDFEXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnb3Blbi1sYWMtY29zdHNldCcsXG5cdFx0XHRuYW1lOiB0KCdjb21tYW5kLm9wZW4nKSxcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGVudHJ5UGF0aCA9IHRoaXMuc2V0dGluZ3MuZW50cnlGaWxlIHx8ICdMYUMvQ29zdFNldC9jb3N0c2V0Lm1kJztcblx0XHRcdFx0Y29uc3QgZW5zdXJlRm9sZGVyRXhpc3RzID0gYXN5bmMgKGZvbGRlclBhdGg6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmb2xkZXJQYXRoKTtcblx0XHRcdFx0XHRpZiAoIWZvbGRlcikge1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKGZvbGRlclBhdGgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyAxKSBcdTgyRTVcdTUxNjVcdTUzRTNcdTY1ODdcdTRFRjZcdTRFMERcdTVCNThcdTU3MjhcdUZGMUFcdTUyMUJcdTVFRkFcdTVFNzZcdTUxOTlcdTUxNjVcdTc5M0FcdTRGOEJcdTUxODVcdTVCQjlcdUZGMDhcdTU0MkJcdTc5M0FcdTRGOEJcdThENDRcdTRFQTdcdTY1ODdcdTRFRjZcdUZGMDlcblx0XHRcdFx0Y29uc3QgZW50cnlGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGVudHJ5UGF0aCk7XG5cdFx0XHRcdGlmICghZW50cnlGaWxlKSB7XG5cdFx0XHRcdFx0Y29uc3QgcGFydHMgPSBlbnRyeVBhdGguc3BsaXQoJy8nKTtcblx0XHRcdFx0XHRjb25zdCBmb2xkZXJQYXRoID0gcGFydHMuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKSB8fCAnJztcblx0XHRcdFx0XHRpZiAoZm9sZGVyUGF0aCkgYXdhaXQgZW5zdXJlRm9sZGVyRXhpc3RzKGZvbGRlclBhdGgpO1xuXG5cdFx0XHRcdFx0Ly8gXHU1MTk5XHU1MTY1XHU3OTNBXHU0RjhCXHU1MTY1XHU1M0UzXHU1MTg1XHU1QkI5XHVGRjA4XHU1NDJCXHU1RkM1XHU4OTgxIFRPTUwgXHU1OTM0XHU5MEU4ICsgXHU2RjE0XHU3OTNBXHU1M0NDXHU5NEZFXHVGRjA5XG5cdFx0XHRcdFx0Y29uc3Qgc2FtcGxlRW50cnkgPSBgIyBMYUMuQ29zdFNldCBcdTUxNjVcdTUzRTNcXG5cXG4jIFx1NEVFNVx1NEUwQlx1NEUzQVx1NTE2NVx1NTNFM1x1NTE0M1x1NjU3MFx1NjM2RVx1RkYwOFRPTUxcdUZGMDlcXG4jIFx1ODk4MVx1NkM0Mlx1RkYxQXR5cGUgPSBcXFwicm9vdFxcXCIgXHU0RTE0IHJlbmRlcnMgXHU1MzA1XHU1NDJCIFxcXCJjb3N0c2V0XFxcIlxcblxcbnR5cGUgPSBcXFwicm9vdFxcXCJcXG5yZW5kZXJzID0gW1xcXCJjb3N0c2V0XFxcIl1cXG5cXG4jIFx1NEVFNVx1NEUwQlx1NEUzQVx1NzkzQVx1NEY4Qlx1OEQ0NFx1NEVBN1x1RkYwQ1x1NjBBOFx1NTNFRlx1NEVFNVx1NTIyMFx1OTY2NFx1NUU3Nlx1NjZGRlx1NjM2Mlx1NEUzQVx1ODFFQVx1NURGMVx1NzY4NFx1OEQ0NFx1NEVBN1x1RkYxQVxcblxcbltbXHU2RjE0XHU3OTNBLVx1OTUyRVx1NzZEOF1dXFxuW1tcdTZGMTRcdTc5M0EtXHU4MDMzXHU2NzNBXV1cXG5bW1x1NkYxNFx1NzkzQS1cdThERUZcdTc1MzFcdTU2NjhdXVxcbmA7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGVudHJ5UGF0aCwgc2FtcGxlRW50cnkpO1xuXG5cdFx0XHRcdFx0Ly8gXHU1NzI4XHU1NDBDXHU3NkVFXHU1RjU1XHU1MjFCXHU1RUZBXHU3OTNBXHU0RjhCXHU4RDQ0XHU0RUE3XHU2NTg3XHU0RUY2XHVGRjA4VE9NTCBcdTUxODVcdTVCQjlcdUZGMDlcblx0XHRcdFx0XHRjb25zdCBtYWtlQXNzZXRUb21sID0gKG5hbWU6IHN0cmluZywgaWNvbjogc3RyaW5nLCBwcmljZTogbnVtYmVyLCBmcm9tOiBzdHJpbmcsIHRvPzogc3RyaW5nLCByZWN5Y2xlPzogbnVtYmVyLCB0YWdzPzogc3RyaW5nW10pID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdFx0XHRcdFx0bGluZXMucHVzaChgbmFtZSA9IFwiJHtuYW1lfVwiYCk7XG5cdFx0XHRcdFx0XHRsaW5lcy5wdXNoKCcnKTtcblx0XHRcdFx0XHRcdGxpbmVzLnB1c2goJ1tzdHlsZV0nKTtcblx0XHRcdFx0XHRcdGxpbmVzLnB1c2goYGljb24gPSBcIiR7aWNvbn1cImApO1xuXHRcdFx0XHRcdFx0bGluZXMucHVzaCgnJyk7XG5cdFx0XHRcdFx0XHRsaW5lcy5wdXNoKCdbZGV0YWlsXScpO1xuXHRcdFx0XHRcdFx0bGluZXMucHVzaChgcHJpY2UgPSAke3ByaWNlfWApO1xuXHRcdFx0XHRcdFx0bGluZXMucHVzaChgYWN0aXZlX2Zyb20gPSBcIiR7ZnJvbX1cImApO1xuXHRcdFx0XHRcdFx0bGluZXMucHVzaChgYWN0aXZlX3RvID0gXCIke3RvIHx8ICcnfVwiYCk7XG5cdFx0XHRcdFx0XHRsaW5lcy5wdXNoKGByZWN5Y2xlX3ByaWNlID0gJHtyZWN5Y2xlID8/IDB9YCk7XG5cdFx0XHRcdFx0XHRsaW5lcy5wdXNoKGB0YWdzID0gWyR7KHRhZ3MgfHwgW10pLm1hcCh0ID0+IGBcIiR7dH1cImApLmpvaW4oJywgJyl9XWApO1xuXHRcdFx0XHRcdFx0bGluZXMucHVzaCgnJyk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbGluZXMuam9pbignXFxuJyk7XG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGNvbnN0IGFzc2V0c0ZvbGRlciA9IGZvbGRlclBhdGggfHwgJ0xhQy9Db3N0U2V0Jztcblx0XHRcdFx0XHRhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHMoYXNzZXRzRm9sZGVyKTtcblx0XHRcdFx0XHRjb25zdCBhc3NldERlZnMgPSBbXG5cdFx0XHRcdFx0XHR7IGlkOiAnXHU2RjE0XHU3OTNBLVx1OTUyRVx1NzZEOCcsIGljb246ICdcdTIzMjhcdUZFMEYnLCBwcmljZTogMzk5LCBmcm9tOiAnMjAyNC0wMS0wMScsIHRvOiAnJywgcmVjeWNsZTogMCwgdGFnczogWydcdTY1NzBcdTc4MDEnLCAnXHU5NTJFXHU3NkQ4J10gfSxcblx0XHRcdFx0XHRcdHsgaWQ6ICdcdTZGMTRcdTc5M0EtXHU4MDMzXHU2NzNBJywgaWNvbjogJ1x1RDgzQ1x1REZBNycsIHByaWNlOiA1OTksIGZyb206ICcyMDI0LTAzLTE1JywgdG86ICcnLCByZWN5Y2xlOiAwLCB0YWdzOiBbJ1x1NjU3MFx1NzgwMScsICdcdTgwMzNcdTY3M0EnXSB9LFxuXHRcdFx0XHRcdFx0eyBpZDogJ1x1NkYxNFx1NzkzQS1cdThERUZcdTc1MzFcdTU2NjgnLCBpY29uOiAnXHVEODNEXHVEQ0Y2JywgcHJpY2U6IDMyOSwgZnJvbTogJzIwMjMtMTEtMjAnLCB0bzogJycsIHJlY3ljbGU6IDUwLCB0YWdzOiBbJ1x1N0Y1MVx1N0VEQyddIH1cblx0XHRcdFx0XHRdO1xuXHRcdFx0XHRcdGZvciAoY29uc3QgYSBvZiBhc3NldERlZnMpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGZpbGVQYXRoID0gYCR7YXNzZXRzRm9sZGVyfS8ke2EuaWR9Lm1kYDtcblx0XHRcdFx0XHRcdGNvbnN0IGV4aXN0cyA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG5cdFx0XHRcdFx0XHRcdGlmICghZXhpc3RzKSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGZpbGVQYXRoLCBtYWtlQXNzZXRUb21sKGEuaWQsIGEuaWNvbiwgYS5wcmljZSwgYS5mcm9tLCBhLnRvLCBhLnJlY3ljbGUsIGEudGFncykpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gMikgXHU2ODIxXHU5QThDXHU1MTY1XHU1M0UzXHU2NTg3XHU0RUY2XHU2ODNDXHU1RjBGXHVGRjFBXHU1RTk0XHU0RTNBIFRPTUxcdUZGMDhcdTYyMTZcdTUzRUZcdTdFQ0ZcdTRFMzRcdTY1RjZcdThGNkNcdTYzNjJcdTRFM0FcdTUzRUZcdTg5RTNcdTY3OTBcdTc2ODQgVE9NTFx1RkYwOVx1RkYwQ1x1NEUxNCB0eXBlID0gXCJyb290XCIgXHU0RTE0IHJlbmRlcnMgXHU1MzA1XHU1NDJCIFwiY29zdHNldFwiXG5cdFx0XHRcdGxldCBpbnZhbGlkID0gZmFsc2U7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgZiA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChlbnRyeVBhdGgpO1xuXHRcdFx0XHRcdGlmIChmICYmIGYgaW5zdGFuY2VvZiBURmlsZSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcmF3ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmKTtcblx0XHRcdFx0XHRcdC8vIFx1NUMwNiBbWy4uLl1dIFx1NEUzNFx1NjVGNlx1NjZGRlx1NjM2Mlx1NEUzQSBcIi4uLlwiXHVGRjBDXHU5MDdGXHU1MTREXHU1RjcxXHU1NENEIFRPTUwgXHU1MjI0XHU2NUFEXG5cdFx0XHRcdFx0XHRjb25zdCB0b21sQ2FuZGlkYXRlID0gcmF3LnJlcGxhY2UoL1xcW1xcWyhbXlxcXV0rKVxcXVxcXS9nLCAoX20sIHAxKSA9PiBgXCIke1N0cmluZyhwMSkudHJpbSgpfVwiYCk7XG5cdFx0XHRcdFx0XHQvLyBcdTY2MkZcdTU0MjZcdTUzMDVcdTU0MkJcdTRFRkJcdTYxMEYgVE9NTCBcdTk1MkVcdTUwM0NcdThCRURcdTUzRTVcblx0XHRcdFx0XHRcdGNvbnN0IGhhc1RvbWxLdiA9IC8oXnxcXG4pXFxzKltBLVphLXowLTlfLl0rXFxzKj1cXHMqW15cXG5dKy9tLnRlc3QodG9tbENhbmRpZGF0ZSk7XG5cdFx0XHRcdFx0XHQvLyBcdTYzRDBcdTUzRDZcdTVFNzZcdTY4MjFcdTlBOEMgdHlwZVxuXHRcdFx0XHRcdFx0Y29uc3QgdHlwZU1hdGNoID0gdG9tbENhbmRpZGF0ZS5tYXRjaCgvKF58XFxuKVxccyp0eXBlXFxzKj1cXHMqXCIoW15cIl0qKVwiL20pO1xuXHRcdFx0XHRcdFx0Y29uc3QgdHlwZVZhbCA9IHR5cGVNYXRjaD8uWzJdIHx8ICcnO1xuXHRcdFx0XHRcdFx0Ly8gXHU2M0QwXHU1M0Q2XHU1RTc2XHU2ODIxXHU5QThDIHJlbmRlcnNcdUZGMDhcdTY1NzBcdTdFQzRcdUZGMDlcblx0XHRcdFx0XHRcdGNvbnN0IHJlbmRlcnNNYXRjaCA9IHRvbWxDYW5kaWRhdGUubWF0Y2goLyhefFxcbilcXHMqcmVuZGVyc1xccyo9XFxzKlxcWyhbXFxzXFxTXSo/KVxcXS9tKTtcblx0XHRcdFx0XHRcdGxldCByZW5kZXJzSGFzQ29zdHNldCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0aWYgKHJlbmRlcnNNYXRjaCAmJiByZW5kZXJzTWF0Y2hbMl0pIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgYXJyVGV4dCA9IHJlbmRlcnNNYXRjaFsyXTtcblx0XHRcdFx0XHRcdFx0cmVuZGVyc0hhc0Nvc3RzZXQgPSAvXFxcImNvc3RzZXRcXFwiL2kudGVzdChhcnJUZXh0KSB8fCAvKF58LHxcXHMpY29zdHNldCgsfFxcc3wkKS9pLnRlc3QoYXJyVGV4dCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpbnZhbGlkID0gIWhhc1RvbWxLdiB8fCB0eXBlVmFsICE9PSAncm9vdCcgfHwgIXJlbmRlcnNIYXNDb3N0c2V0O1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpbnZhbGlkID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKF8pIHtcblx0XHRcdFx0XHRpbnZhbGlkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoaW52YWxpZCkgbmV3IE5vdGljZSh0KCdub3RpY2UuaW52YWxpZEVudHJ5JykpO1xuXG5cdFx0XHRcdC8vIDMpIFx1NEY3Rlx1NzUyOFx1OTE0RFx1N0Y2RVx1NzY4NFx1NTE2NVx1NTNFM1x1NjU4N1x1NEVGNlx1NjI1M1x1NUYwMCBMYUMuQ29zdFNldCBcdTg5QzZcdTU2RkVcdUZGMDhcdTkwMUFcdThGQzcgc2V0Vmlld1N0YXRlIFx1Nzg2RVx1NEZERFx1NjgwN1x1NTFDNlx1NUJGQ1x1ODIyQVx1RkYwOVxuXHRcdFx0XHR0aGlzLmFzc2V0UmVwb3NpdG9yeSA9IG5ldyBBc3NldFJlcG9zaXRvcnkodGhpcy5hcHAsIGVudHJ5UGF0aCk7XG5cdFx0XHRcdGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigndGFiJyk7XG5cdFx0XHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHtcblx0XHRcdFx0XHR0eXBlOiAnbGFjLWNvc3RzZXQtdmlldycsXG5cdFx0XHRcdFx0c3RhdGU6IHsgZmlsZVBhdGg6IGVudHJ5UGF0aCB9LFxuXHRcdFx0XHRcdGFjdGl2ZTogdHJ1ZVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1OEJCRVx1N0Y2RVx1NjgwN1x1N0I3RVxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTGFjQ29zdFNldFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1NzJCNlx1NjAwMVx1NjgwRlx1OTg3OVxuXHRcdHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpLnNldFRleHQoJ0xhYy1Db3N0U2V0Jyk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHQvLyBcdTZFMDVcdTc0MDZcdThENDRcdTZFOTBcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHRcdC8vIFx1NEZERFx1NUI1OFx1NTQwQ1x1NjVGNlx1NTIzN1x1NjVCMFx1OEJFRFx1OEEwMFx1RkYwOFx1NEVFNVx1NEZCRlx1OEJCRVx1N0Y2RVx1NTIwN1x1NjM2Mlx1NTM3M1x1NjVGNlx1NzUxRlx1NjU0OFx1RkYwOVxuXHRcdHNldExvY2FsZSh0aGlzLnNldHRpbmdzLmxvY2FsZSB8fCAnYXV0bycpO1xuXHR9XG59IiwgIi8vIFx1NjNEMlx1NEVGNlx1OEJCRVx1N0Y2RVx1NjNBNVx1NTNFM1xyXG5leHBvcnQgaW50ZXJmYWNlIExhY0Nvc3RTZXRTZXR0aW5ncyB7XHJcblx0ZGVmYXVsdEljb246IHN0cmluZztcclxuICAgIGVudHJ5RmlsZTogc3RyaW5nO1xyXG4gICAgZW5hYmxlQ29udGV4dE1lbnU6IGJvb2xlYW47IC8vIFx1NjYyRlx1NTQyNlx1NTQyRlx1NzUyOFx1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NVx1MjAxQ1x1NzUyOCBMYUMuQ29zdFNldCBcdTYyNTNcdTVGMDBcdTIwMURcclxuICAgIGRlZmF1bHRTb3J0OiAnbm9uZScgfCAnZGFpbHlEZXNjJyB8ICdwcmljZURlc2MnIHwgJ2RhdGVEZXNjJzsgLy8gXHU5RUQ4XHU4QkE0XHU2MzkyXHU1RThGXHJcbiAgICBsb2NhbGU/OiAnYXV0bycgfCAnemgnIHwgJ2VuJztcclxufVxyXG5cclxuLy8gXHU5RUQ4XHU4QkE0XHU4QkJFXHU3RjZFXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBMYWNDb3N0U2V0U2V0dGluZ3MgPSB7XHJcbiAgICBkZWZhdWx0SWNvbjogJ1x1RDgzRFx1RENFNicsXHJcbiAgICBlbnRyeUZpbGU6ICdMYUMvQ29zdFNldC9jb3N0c2V0Lm1kJyxcclxuICAgIGVuYWJsZUNvbnRleHRNZW51OiB0cnVlLFxyXG4gICAgZGVmYXVsdFNvcnQ6ICdub25lJyxcclxuICAgIGxvY2FsZTogJ2F1dG8nXHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgVEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IEFzc2V0IH0gZnJvbSAnLi4vbW9kZWxzL0Fzc2V0JztcclxuXHJcbi8vIEFzc2V0UmVwb3NpdG9yeVx1N0M3QiAtIFx1NEY3Rlx1NzUyOE9ic2lkaWFuIEFQSVxyXG5leHBvcnQgY2xhc3MgQXNzZXRSZXBvc2l0b3J5IHtcclxuXHRwcml2YXRlIGFwcDogQXBwO1xyXG5cdHByaXZhdGUgcm9vdEZpbGVQYXRoOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCByb290RmlsZVBhdGg6IHN0cmluZykge1xyXG5cdFx0dGhpcy5hcHAgPSBhcHA7XHJcblx0XHR0aGlzLnJvb3RGaWxlUGF0aCA9IHJvb3RGaWxlUGF0aDtcclxuXHR9XHJcblxyXG5cdC8vIFx1ODNCN1x1NTNENlx1OEQ0NFx1NEVBN1x1NjU4N1x1NEVGNlx1NTkzOVx1OERFRlx1NUY4NFx1RkYwOFx1NEVDRVx1NjgzOVx1NjU4N1x1NEVGNlx1OERFRlx1NUY4NFx1NjNBOFx1NUJGQ1x1RkYwOVxyXG5cdHByaXZhdGUgZ2V0QXNzZXRzRm9sZGVyKCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBwYXRoUGFydHMgPSB0aGlzLnJvb3RGaWxlUGF0aC5zcGxpdCgnLycpO1xyXG5cdFx0aWYgKHBhdGhQYXJ0cy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdHJldHVybiBwYXRoUGFydHMuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAnYXNzZXRzJzsgLy8gXHU5RUQ4XHU4QkE0XHU2NTg3XHU0RUY2XHU1OTM5XHJcblx0fVxyXG5cclxuXHQvLyBcdTUyQTBcdThGN0RcdTYyNDBcdTY3MDlcdThENDRcdTRFQTdcclxuXHRhc3luYyBsb2FkQWxsKCk6IFByb21pc2U8QXNzZXRbXT4ge1xyXG5cdFx0Y29uc3Qgcm9vdEZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5yb290RmlsZVBhdGgpO1xyXG5cdFx0aWYgKCFyb290RmlsZSB8fCAhKHJvb3RGaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChyb290RmlsZSk7XHJcblx0XHRcdGNvbnN0IG1hdGNoZXMgPSBjb250ZW50Lm1hdGNoKC9cXFtcXFsoW15cXF1dKylcXF1cXF0vZykgfHwgW107XHJcblx0XHRcdGNvbnN0IGxpbmtUYXJnZXRzID0gbWF0Y2hlc1xyXG5cdFx0XHRcdC5tYXAobSA9PiBtLnJlcGxhY2UoL15cXFtcXFt8XFxdXFxdJC9nLCAnJykpXHJcblx0XHRcdFx0Lm1hcChzID0+IHMuc3BsaXQoJ3wnKVswXT8udHJpbSgpKVxyXG5cdFx0XHRcdC5maWx0ZXIoQm9vbGVhbikgYXMgc3RyaW5nW107XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCBhc3NldHM6IEFzc2V0W10gPSBbXTtcclxuXHRcdFx0Zm9yIChjb25zdCB0YXJnZXQgb2YgbGlua1RhcmdldHMpIHtcclxuXHRcdFx0XHRsZXQgZmlsZTogVEZpbGUgfCBudWxsID0gbnVsbDtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0ZmlsZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rcGF0aERlc3QodGFyZ2V0LCB0aGlzLnJvb3RGaWxlUGF0aCkgYXMgVEZpbGUgfCBudWxsO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKF8pIHtcclxuXHRcdFx0XHRcdGZpbGUgPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIWZpbGUpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucGFyc2VUb21sKHRoaXMucXVvdGVXaWtpbGlua3NGb3JUb21sKGZpbGVDb250ZW50KSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblx0XHRcdFx0XHRjb25zdCBhc3NldElkID0gZmlsZS5iYXNlbmFtZSB8fCB0YXJnZXQ7XHJcblx0XHRcdFx0XHRjb25zdCBhc3NldCA9IG5ldyBBc3NldChhc3NldElkLCBkYXRhKTtcclxuXHRcdFx0XHRcdC8vIGhpZGRlbiBcdTVCNTdcdTZCQjVcdTRFQzVcdTUxODVcdTVCNThcdTRGN0ZcdTc1MjhcdUZGMENcdTUyQTBcdThGN0RcdTY1RjZcdTlFRDhcdThCQTRcdTUxNzNcdTk1RURcclxuXHRcdFx0XHRcdGFzc2V0LmhpZGRlbiA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0YXNzZXRzLnB1c2goYXNzZXQpO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIGFzc2V0ICR7dGFyZ2V0fTpgLCBlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGFzc2V0cztcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgYXNzZXRzOicsIGUpO1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBcdTRGRERcdTVCNThcdThENDRcdTRFQTdcdUZGMDhcdTRFQzVcdTRGRUVcdTY1MzlcdTRFMEUgY29zdHNldCBcdTc2RjhcdTUxNzNcdTc2ODRcdTk1MkVcdUZGMUFuYW1lXHUzMDAxc3R5bGUuaWNvblx1MzAwMWRldGFpbC4qXHUzMDAxaGlkZGVuXHVGRjA5XHJcblx0YXN5bmMgc2F2ZUFzc2V0KGFzc2V0OiBBc3NldCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0bGV0IHRhcmdldEZpbGU6IFRGaWxlIHwgbnVsbCA9IG51bGw7XHJcblx0XHR0cnkge1xyXG5cdFx0XHR0YXJnZXRGaWxlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdChhc3NldC5pZCwgdGhpcy5yb290RmlsZVBhdGgpIGFzIFRGaWxlIHwgbnVsbDtcclxuXHRcdH0gY2F0Y2ggKF8pIHtcclxuXHRcdFx0dGFyZ2V0RmlsZSA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gXHU0RTBEXHU1MThEXHU2MjZCXHU2M0NGXHU1QjUwXHU3NkVFXHU1RjU1XHU2MjE2XHU5MDREXHU1Mzg2XHU2NTg3XHU0RUY2XHVGRjFBXHU0RUM1XHU0RjlEXHU4RDU2IE9ic2lkaWFuIFx1NzY4NFx1NTNDQ1x1OTRGRVx1ODlFM1x1Njc5MFxyXG5cclxuXHRcdFx0aWYgKCF0YXJnZXRGaWxlKSB7XHJcblx0XHRcdC8vIFx1NzZFRVx1NjgwN1x1NjU4N1x1NEVGNlx1NEUwRFx1NUI1OFx1NTcyOFx1RkYxQVx1NTcyOFx1NjgzOVx1NjU4N1x1NEVGNlx1NTQwQ1x1NzZFRVx1NUY1NVx1NEUwQlx1NTIxQlx1NUVGQVx1NjVCMFx1NjU4N1x1NEVGNlxyXG5cdFx0XHRsZXQgZmlsZU5hbWUgPSBgJHthc3NldC5pZH0ubWRgO1xyXG5cdFx0XHRsZXQgZmlsZVBhdGggPSBgJHt0aGlzLmdldEFzc2V0c0ZvbGRlcigpfS8ke2ZpbGVOYW1lfWA7XHJcblx0XHRcdC8vIFx1Nzg2RVx1NEZERFx1NjU4N1x1NEVGNlx1NTkzOVx1NUI1OFx1NTcyOFxyXG5cdFx0XHRjb25zdCBmb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5nZXRBc3NldHNGb2xkZXIoKSk7XHJcblx0XHRcdGlmICghZm9sZGVyKSB7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKHRoaXMuZ2V0QXNzZXRzRm9sZGVyKCkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFx0XHRcdGNvbnN0IGluaXRpYWxDb250ZW50ID0gdGhpcy5kZXF1b3RlV2lraWxpbmtzKGFzc2V0LnRvVG9tbFN0cmluZygpKTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoZmlsZVBhdGgsIGluaXRpYWxDb250ZW50KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0Ly8gXHU1QzFEXHU4QkQ1XHU0RjdGXHU3NTI4IGVuY29kZSBcdTU0MEVcdTc2ODRcdTY1ODdcdTRFRjZcdTU0MERcdTUxOERcdTZCMjFcdTUyMUJcdTVFRkFcclxuXHRcdFx0XHRmaWxlTmFtZSA9IGAke2VuY29kZVVSSUNvbXBvbmVudChhc3NldC5pZCl9Lm1kYDtcclxuXHRcdFx0XHRmaWxlUGF0aCA9IGAke3RoaXMuZ2V0QXNzZXRzRm9sZGVyKCl9LyR7ZmlsZU5hbWV9YDtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoZmlsZVBhdGgsIGluaXRpYWxDb250ZW50KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBcdTdFQUYgVE9NTCBcdTkxQ0RcdTUxOTlcdTZBMjFcdTVGMEZcdUZGMUFcdThCRkJcdTUzRDZcdTIxOTJcdTg5RTNcdTY3OTBcdTIxOTJcdTRFQzVcdTY1MzlcdTc2RjhcdTUxNzNcdTk1MkVcdTIxOTJcdTY1NzRcdTRGNTNcdTkxQ0RcdTUxOTlcdUZGMUJcdTZDRThcdTkxQ0FcdTdGNkVcdTk4NzZcdTRGRERcdTc1NTlcclxuXHRcdFx0Y29uc3QgZXhpc3RpbmcgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKHRhcmdldEZpbGUpO1xyXG5cdFx0XHRcdFx0Y29uc3QgcmV3cml0dGVuID0gdGhpcy5yZXdyaXRlVG9tbFdpdGhDb21tZW50c1RvcChleGlzdGluZywgYXNzZXQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KHRhcmdldEZpbGUsIHRoaXMuZGVxdW90ZVdpa2lsaW5rcyhyZXdyaXR0ZW4pKTsgICAgIFxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1NjZGNFx1NjVCMFx1NjgzOVx1NjU4N1x1NEVGNlx1NEUyRFx1NUJGOVx1OEJFNVx1OEQ0NFx1NEVBN1x1NzY4NFx1NTNDQ1x1OTRGRVx1NUYxNVx1NzUyOFxyXG5cdFx0YXdhaXQgdGhpcy51cGRhdGVSb290RmlsZShhc3NldC5pZCwgdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHQvLyBcdTUyMjBcdTk2NjRcdThENDRcdTRFQTdcclxuXHRhc3luYyBkZWxldGVBc3NldChpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHQvLyBcdTY2RjRcdTY1QjBcdTY4MzlcdTY1ODdcdTRFRjZcclxuXHRcdGF3YWl0IHRoaXMudXBkYXRlUm9vdEZpbGUoaWQsIGZhbHNlKTtcclxuXHR9XHJcblxyXG5cdC8vIFx1NkNFOFx1NjEwRlx1RkYxQWhpZGRlbiBcdTVCNTdcdTZCQjVcdTRFMERcdTYzMDFcdTRFNDVcdTUzMTZcdUZGMDhcdTRFQzVcdTUxODVcdTVCNThcdTRGN0ZcdTc1MjhcdUZGMDlcdUZGMENcdTZCNjRcdTU5MDRcdTRFMERcdTYzRDBcdTRGOUIgc2V0SGlkZGVuXHJcblxyXG5cdC8vIFx1NjZGNFx1NjVCMFx1NjgzOVx1NjU4N1x1NEVGNlxyXG5cdHByaXZhdGUgYXN5bmMgdXBkYXRlUm9vdEZpbGUoYXNzZXRJZDogc3RyaW5nLCBpc0FkZDogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3Qgcm9vdFBhdGggPSB0aGlzLnJvb3RGaWxlUGF0aDtcclxuXHRcdGxldCByb290Q29udGVudCA9ICcnO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHJvb3RGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHJvb3RQYXRoKTtcclxuXHRcdFx0aWYgKHJvb3RGaWxlICYmIHJvb3RGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuXHRcdFx0XHRyb290Q29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQocm9vdEZpbGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdC8vIFx1NjU4N1x1NEVGNlx1NEUwRFx1NUI1OFx1NTcyOFx1RkYwQ1x1NTIxQlx1NUVGQVx1NjVCMFx1NjU4N1x1NEVGNlxyXG5cdFx0fVxyXG5cclxuXHRcdFx0aWYgKGlzQWRkKSB7XHJcblx0XHRcdFx0XHQvLyBcdTZERkJcdTUyQTBcdThENDRcdTRFQTdcdTVGMTVcdTc1MjhcdUZGMUFcdTgyRTVcdTVERjJcdTVCNThcdTU3MjhcdTRFRkJcdTYxMEZcdTVGNjJcdTVGMEZcdTc2ODRcdTUzQ0NcdTk0RkVcdUZGMDhbW2lkXV0gXHU2MjE2IFtbaWR8YWxpYXNdXVx1RkYwOVx1NTIxOVx1NEUwRFx1OTFDRFx1NTkwRFx1NkRGQlx1NTJBMFxyXG5cdFx0XHRcdFx0Y29uc3QgaGFzQW55TGluayA9IG5ldyBSZWdFeHAoYFxcXFxbXFxcXFske2Fzc2V0SWR9KFxcXFx8W15cXFxcXV0rKT9cXFxcXVxcXFxdYCkudGVzdChyb290Q29udGVudCk7XHJcblx0XHRcdFx0XHRpZiAoIWhhc0FueUxpbmspIHtcclxuXHRcdFx0XHRcdFx0XHRyb290Q29udGVudCArPSBgXFxuW1ske2Fzc2V0SWR9XV1gO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gXHU1MjIwXHU5NjY0XHU4RDQ0XHU0RUE3XHU1RjE1XHU3NTI4XHVGRjFBXHU1NDBDXHU2NUY2XHU3OUZCXHU5NjY0IFtbaWRdXSBcdTRFMEUgW1tpZHxhbGlhc11dIFx1NzY4NFx1NjU3NFx1ODg0Q1x1NjIxNlx1ODg0Q1x1NTE4NVx1NzI0N1x1NkJCNVxyXG5cdFx0XHRcdFx0cm9vdENvbnRlbnQgPSByb290Q29udGVudC5yZXBsYWNlKG5ldyBSZWdFeHAoYFxcXFxbXFxcXFske2Fzc2V0SWR9KFxcXFx8W15cXFxcXV0rKT9cXFxcXVxcXFxdYCwgJ2cnKSwgJycpO1xyXG5cdFx0XHRcdFx0cm9vdENvbnRlbnQgPSByb290Q29udGVudC5yZXBsYWNlKC9cXG57Myx9L2csICdcXG5cXG4nKS50cmltRW5kKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRjb25zdCBleGlzdGluZ1Jvb3QgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocm9vdFBhdGgpO1xyXG5cdFx0aWYgKGV4aXN0aW5nUm9vdCAmJiBleGlzdGluZ1Jvb3QgaW5zdGFuY2VvZiBURmlsZSkge1xyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZXhpc3RpbmdSb290LCByb290Q29udGVudCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUocm9vdFBhdGgsIHJvb3RDb250ZW50KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIFx1ODlFM1x1Njc5MFRPTUxcdTUxODVcdTVCQjlcdUZGMDhcdTY1MkZcdTYzMDFcdTVENENcdTU5NTdcdTgyODJcdTU0MERcdUZGMENcdTU5ODIgW2Nvc3RzZXQuZGV0YWlsXVx1RkYwOVxyXG5cdHByaXZhdGUgcGFyc2VUb21sKGNvbnRlbnQ6IHN0cmluZyk6IGFueSB7XHJcblx0XHRjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xyXG5cdFx0Y29uc3QgcmVzdWx0OiBhbnkgPSB7fTtcclxuXHRcdGxldCBjdXJyZW50UGF0aDogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0XHRjb25zdCBlbnN1cmVQYXRoID0gKHJvb3Q6IGFueSwgcGF0aDogc3RyaW5nW10pOiBhbnkgPT4ge1xyXG5cdFx0XHRsZXQgbm9kZSA9IHJvb3Q7XHJcblx0XHRcdGZvciAoY29uc3QgcGFydCBvZiBwYXRoKSB7XHJcblx0XHRcdFx0aWYgKCFub2RlW3BhcnRdIHx8IHR5cGVvZiBub2RlW3BhcnRdICE9PSAnb2JqZWN0Jykgbm9kZVtwYXJ0XSA9IHt9O1xyXG5cdFx0XHRcdG5vZGUgPSBub2RlW3BhcnRdO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBub2RlO1xyXG5cdFx0fTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IHJhdyBvZiBsaW5lcykge1xyXG5cdFx0XHRjb25zdCBsaW5lID0gcmF3LnRyaW0oKTtcclxuXHRcdFx0aWYgKCFsaW5lIHx8IGxpbmUuc3RhcnRzV2l0aCgnIycpKSBjb250aW51ZTtcclxuXHRcdFx0aWYgKGxpbmUuc3RhcnRzV2l0aCgnWycpICYmIGxpbmUuZW5kc1dpdGgoJ10nKSkge1xyXG5cdFx0XHRcdGNvbnN0IHNlY3Rpb24gPSBsaW5lLnNsaWNlKDEsIC0xKS50cmltKCk7XHJcblx0XHRcdFx0Y3VycmVudFBhdGggPSBzZWN0aW9uLnNwbGl0KCcuJykubWFwKHMgPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcclxuXHRcdFx0XHRlbnN1cmVQYXRoKHJlc3VsdCwgY3VycmVudFBhdGgpO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IGVxID0gbGluZS5pbmRleE9mKCc9Jyk7XHJcblx0XHRcdGlmIChlcSA9PT0gLTEpIGNvbnRpbnVlO1xyXG5cdFx0XHRjb25zdCBjbGVhbktleSA9IGxpbmUuc2xpY2UoMCwgZXEpLnRyaW0oKTtcclxuXHRcdFx0bGV0IGNsZWFuVmFsdWUgPSBsaW5lLnNsaWNlKGVxICsgMSkudHJpbSgpO1xyXG5cclxuXHRcdFx0bGV0IHBhcnNlZFZhbHVlOiBhbnkgPSBjbGVhblZhbHVlO1xyXG5cdFx0XHRpZiAoY2xlYW5WYWx1ZS5zdGFydHNXaXRoKCdcIicpICYmIGNsZWFuVmFsdWUuZW5kc1dpdGgoJ1wiJykpIHtcclxuXHRcdFx0XHRwYXJzZWRWYWx1ZSA9IGNsZWFuVmFsdWUuc2xpY2UoMSwgLTEpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGNsZWFuVmFsdWUgPT09ICd0cnVlJyB8fCBjbGVhblZhbHVlID09PSAnZmFsc2UnKSB7XHJcblx0XHRcdFx0cGFyc2VkVmFsdWUgPSBjbGVhblZhbHVlID09PSAndHJ1ZSc7XHJcblx0XHRcdH0gZWxzZSBpZiAoY2xlYW5WYWx1ZS5zdGFydHNXaXRoKCdbJykgJiYgY2xlYW5WYWx1ZS5lbmRzV2l0aCgnXScpKSB7XHJcblx0XHRcdFx0Y29uc3QgYXJyYXlDb250ZW50ID0gY2xlYW5WYWx1ZS5zbGljZSgxLCAtMSkudHJpbSgpO1xyXG5cdFx0XHRcdHBhcnNlZFZhbHVlID0gYXJyYXlDb250ZW50ID8gYXJyYXlDb250ZW50LnNwbGl0KCcsJykubWFwKGl0ZW0gPT4gaXRlbS50cmltKCkucmVwbGFjZSgvXlwifFwiJC9nLCAnJykpIDogW107XHJcblx0XHRcdH0gZWxzZSBpZiAoIWlzTmFOKE51bWJlcihjbGVhblZhbHVlKSkpIHtcclxuXHRcdFx0XHRwYXJzZWRWYWx1ZSA9IE51bWJlcihjbGVhblZhbHVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGN1cnJlbnRQYXRoLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCBub2RlID0gZW5zdXJlUGF0aChyZXN1bHQsIGN1cnJlbnRQYXRoKTtcclxuXHRcdFx0XHRub2RlW2NsZWFuS2V5XSA9IHBhcnNlZFZhbHVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdFtjbGVhbktleV0gPSBwYXJzZWRWYWx1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBcdTdFQUYgVE9NTCBcdTkxQ0RcdTUxOTlcdTZBMjFcdTVGMEZcdUZGMUFcdTg5RTNcdTY3OTBcdTIxOTJcdTRGRUVcdTY1MzlcdTIxOTJzdHJpbmdpZnlcdUZGMUJcdTVDMDZcdTUzOUZcdTY3MDlcdTZDRThcdTkxQ0FcdTdGNkVcdTk4NzZcdTRGRERcdTc1NTlcclxuXHRwcml2YXRlIHJld3JpdGVUb21sV2l0aENvbW1lbnRzVG9wKGV4aXN0aW5nOiBzdHJpbmcsIGFzc2V0OiBBc3NldCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBjb21tZW50TGluZXM6IHN0cmluZ1tdID0gW107XHJcblx0XHRjb25zdCBvdGhlckxpbmVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0Zm9yIChjb25zdCByYXcgb2YgZXhpc3Rpbmcuc3BsaXQoJ1xcbicpKSB7XHJcblx0XHRcdGNvbnN0IHQgPSByYXcudHJpbSgpO1xyXG5cdFx0XHRpZiAodC5zdGFydHNXaXRoKCcjJykpIGNvbW1lbnRMaW5lcy5wdXNoKHJhdyk7XHJcblx0XHRcdGVsc2Ugb3RoZXJMaW5lcy5wdXNoKHJhdyk7XHJcblx0XHR9XHJcbiAgICAgICAgICAgICAgICAvLyBcdTRGN0ZcdTc1MjhcdTVERjJcdTY3MDlcdThGN0JcdTkxQ0YgcGFyc2VyIFx1OEJGQlx1NTNENlx1NEUzQVx1NUJGOVx1OEM2MVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gdGhpcy5wYXJzZVRvbWwodGhpcy5xdW90ZVdpa2lsaW5rc0ZvclRvbWwob3RoZXJMaW5lcy5qb2luKCdcXG4nKSkpIHx8IHt9OyAgICAgXHJcblxyXG5cdFx0Ly8gXHU1RTk0XHU3NTI4XHU0RUM1IGNvc3RzZXQgXHU3NkY4XHU1MTczXHU3Njg0XHU1QjU3XHU2QkI1XHU2NkY0XHU2NUIwXHJcblx0XHQocGFyc2VkIGFzIGFueSlbJ25hbWUnXSA9IGFzc2V0Lm5hbWU7XHJcblx0XHRpZiAoIXBhcnNlZFsnc3R5bGUnXSB8fCB0eXBlb2YgcGFyc2VkWydzdHlsZSddICE9PSAnb2JqZWN0JykgcGFyc2VkWydzdHlsZSddID0ge307XHJcblx0XHRwYXJzZWRbJ3N0eWxlJ11bJ2ljb24nXSA9IGFzc2V0Lmljb247XHJcblx0XHRpZiAoIXBhcnNlZFsnZGV0YWlsJ10gfHwgdHlwZW9mIHBhcnNlZFsnZGV0YWlsJ10gIT09ICdvYmplY3QnKSBwYXJzZWRbJ2RldGFpbCddID0ge307XHJcblx0XHRwYXJzZWRbJ2RldGFpbCddWydwcmljZSddID0gTnVtYmVyKGFzc2V0LnByaWNlKSB8fCAwO1xyXG5cdFx0cGFyc2VkWydkZXRhaWwnXVsnYWN0aXZlX2Zyb20nXSA9IGFzc2V0LmFjdGl2ZUZyb20gPyBhc3NldC5hY3RpdmVGcm9tLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSA6ICcnO1xyXG5cdFx0cGFyc2VkWydkZXRhaWwnXVsnYWN0aXZlX3RvJ10gPSBhc3NldC5hY3RpdmVUbyA/IGFzc2V0LmFjdGl2ZVRvLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSA6ICcnO1xyXG5cdFx0cGFyc2VkWydkZXRhaWwnXVsncmVjeWNsZV9wcmljZSddID0gTnVtYmVyKGFzc2V0LnJlY3ljbGVQcmljZSkgfHwgMDtcclxuXHRcdHBhcnNlZFsnZGV0YWlsJ11bJ3RhZ3MnXSA9IEFycmF5LmlzQXJyYXkoYXNzZXQudGFncykgPyBhc3NldC50YWdzIDogW107XHJcblxyXG5cdFx0Y29uc3QgdG9tbEJvZHkgPSB0aGlzLnN0cmluZ2lmeVRvbWwocGFyc2VkKTtcclxuXHRcdGNvbnN0IGNvbW1lbnRCbG9jayA9IGNvbW1lbnRMaW5lcy5sZW5ndGggPiAwID8gY29tbWVudExpbmVzLmpvaW4oJ1xcbicpICsgJ1xcblxcbicgOiAnJztcclxuXHRcdHJldHVybiBjb21tZW50QmxvY2sgKyB0b21sQm9keTtcclxuXHR9XHJcblxyXG5cdC8vIFx1NUMwNiBKUyBcdTVCRjlcdThDNjFcdTdBMzNcdTVCOUFcdTU3MzBcdTVFOEZcdTUyMTdcdTUzMTZcdTRFM0EgVE9NTCBcdTY1ODdcdTY3MkNcdUZGMDhcdTY1MkZcdTYzMDFcdTU5MUFcdTVDNDJcdTgyODJcdTU0MERcdUZGMDlcclxuXHRwcml2YXRlIHN0cmluZ2lmeVRvbWwob2JqOiBhbnkpOiBzdHJpbmcge1xyXG5cdFx0Ly8gXHU2MkM2XHU1MjA2XHU0RTNBXHU5ODc2XHU1QzQyXHU2ODA3XHU5MUNGL1x1NjU3MFx1N0VDNCBcdTRFMEUgXHU1RDRDXHU1OTU3XHU1QkY5XHU4QzYxXHJcblx0XHRjb25zdCBpc1BsYWluT2JqZWN0ID0gKHY6IGFueSkgPT4gdiAmJiB0eXBlb2YgdiA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodik7XHJcblx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqIHx8IHt9KTtcclxuXHRcdGNvbnN0IHNjYWxhcktleXMgPSBrZXlzLmZpbHRlcihrID0+ICFpc1BsYWluT2JqZWN0KG9ialtrXSkpO1xyXG5cdFx0Y29uc3Qgb2JqZWN0S2V5cyA9IGtleXMuZmlsdGVyKGsgPT4gaXNQbGFpbk9iamVjdChvYmpba10pKTtcclxuXHJcblx0XHRjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcclxuXHRcdC8vIFx1NEYxOFx1NTE0OFx1OEY5M1x1NTFGQSBuYW1lXHJcblx0XHRpZiAoc2NhbGFyS2V5cy5pbmNsdWRlcygnbmFtZScpKSB7XHJcblx0XHRcdGxpbmVzLnB1c2godGhpcy5yZW5kZXJUb21sS2V5VmFsdWUoJ25hbWUnLCBvYmpbJ25hbWUnXSkpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gXHU1MTc2XHU0RUQ2XHU5ODc2XHU1QzQyXHU2ODA3XHU5MUNGXHU2MzA5XHU1QjU3XHU2QkNEXHU1RThGXHJcblx0XHRzY2FsYXJLZXlzXHJcblx0XHRcdC5maWx0ZXIoayA9PiBrICE9PSAnbmFtZScpXHJcblx0XHRcdC5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpXHJcblx0XHRcdC5mb3JFYWNoKGsgPT4gbGluZXMucHVzaCh0aGlzLnJlbmRlclRvbWxLZXlWYWx1ZShrLCBvYmpba10pKSk7XHJcblxyXG5cdFx0Ly8gXHU4MjgyXHU4RjkzXHU1MUZBXHU5ODdBXHU1RThGXHVGRjFBc3R5bGUsIGRldGFpbCBcdTRGMThcdTUxNDhcdUZGMENcdTUxNzZcdTVCODNcdTYzMDlcdTVCNTdcdTZCQ0RcdTVFOEZcclxuXHRcdGNvbnN0IHNlY3Rpb25PcmRlciA9IFsnc3R5bGUnLCAnZGV0YWlsJ107XHJcblx0XHRjb25zdCBvcmRlcmVkT2JqZWN0S2V5cyA9IFtcclxuXHRcdFx0Li4uc2VjdGlvbk9yZGVyLmZpbHRlcihrID0+IG9iamVjdEtleXMuaW5jbHVkZXMoaykpLFxyXG5cdFx0XHQuLi5vYmplY3RLZXlzLmZpbHRlcihrID0+ICFzZWN0aW9uT3JkZXIuaW5jbHVkZXMoaykpLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSlcclxuXHRcdF07XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrIG9mIG9yZGVyZWRPYmplY3RLZXlzKSB7XHJcblx0XHRcdGxpbmVzLnB1c2goJycpO1xyXG5cdFx0XHR0aGlzLnJlbmRlclRvbWxTZWN0aW9uKGxpbmVzLCBba10sIG9ialtrXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGxpbmVzLmpvaW4oJ1xcbicpLnJlcGxhY2UoL1xcbnszLH0vZywgJ1xcblxcbicpLnRyaW0oKSArICdcXG4nO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJUb21sU2VjdGlvbihvdXQ6IHN0cmluZ1tdLCBwYXRoOiBzdHJpbmdbXSwgdmFsdWU6IGFueSk6IHZvaWQge1xyXG5cdFx0b3V0LnB1c2goYFske3BhdGguam9pbignLicpfV1gKTtcclxuXHRcdGNvbnN0IGlzUGxhaW5PYmplY3QgPSAodjogYW55KSA9PiB2ICYmIHR5cGVvZiB2ID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh2KTtcclxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSB8fCB7fSk7XHJcblx0XHRjb25zdCBzY2FsYXJLZXlzID0ga2V5cy5maWx0ZXIoayA9PiAhaXNQbGFpbk9iamVjdCh2YWx1ZVtrXSkpO1xyXG5cdFx0Y29uc3Qgb2JqZWN0S2V5cyA9IGtleXMuZmlsdGVyKGsgPT4gaXNQbGFpbk9iamVjdCh2YWx1ZVtrXSkpO1xyXG5cdFx0Ly8gXHU1MTQ4XHU4RjkzXHU1MUZBXHU2ODA3XHU5MUNGXHU5NTJFXHVGRjA4XHU2MzA5XHU1QjU3XHU2QkNEXHU1RThGXHVGRjA5XHJcblx0XHRzY2FsYXJLZXlzLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSkuZm9yRWFjaChrID0+IHtcclxuXHRcdFx0b3V0LnB1c2godGhpcy5yZW5kZXJUb21sS2V5VmFsdWUoaywgdmFsdWVba10pKTtcclxuXHRcdH0pO1xyXG5cdFx0Ly8gXHU1RDRDXHU1OTU3XHU1QkY5XHU4QzYxXHU0RjVDXHU0RTNBXHU1QjUwXHU4MjgyIFthLmJdXHJcblx0XHRjb25zdCBvcmRlcmVkT2JqZWN0S2V5cyA9IG9iamVjdEtleXMuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKTtcclxuXHRcdGZvciAoY29uc3QgayBvZiBvcmRlcmVkT2JqZWN0S2V5cykge1xyXG5cdFx0XHRvdXQucHVzaCgnJyk7XHJcblx0XHRcdHRoaXMucmVuZGVyVG9tbFNlY3Rpb24ob3V0LCBbLi4ucGF0aCwga10sIHZhbHVlW2tdKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVuZGVyVG9tbEtleVZhbHVlKGtleTogc3RyaW5nLCB2YWw6IGFueSk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gYCR7a2V5fSA9ICR7dGhpcy50b21sVmFsdWUodmFsKX1gO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB0b21sVmFsdWUodmFsOiBhbnkpOiBzdHJpbmcge1xyXG5cdFx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuICdcIlwiJztcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcclxuXHRcdFx0cmV0dXJuIGBbJHt2YWwubWFwKHYgPT4gdGhpcy50b21sVmFsdWUodikpLmpvaW4oJywgJyl9XWA7XHJcblx0XHR9XHJcblx0XHRzd2l0Y2ggKHR5cGVvZiB2YWwpIHtcclxuXHRcdFx0Y2FzZSAnbnVtYmVyJzpcclxuXHRcdFx0XHRyZXR1cm4gTnVtYmVyLmlzRmluaXRlKHZhbCkgPyBTdHJpbmcodmFsKSA6ICcwJztcclxuXHRcdFx0Y2FzZSAnYm9vbGVhbic6XHJcblx0XHRcdFx0cmV0dXJuIHZhbCA/ICd0cnVlJyA6ICdmYWxzZSc7XHJcblx0XHRcdGNhc2UgJ3N0cmluZyc6XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIGBcIiR7U3RyaW5nKHZhbCkucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKS5yZXBsYWNlKC9cXFwiL2csICdcXFxcXCInKX1cImA7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuICAgICAgICAvLyBcdTVDMDZcdTg4RjhcdTc2ODQgW1suLi5dXSBcdTYyMTYgW1suLi58YWxpYXNdXSBcdTUzMDVcdTg4RjlcdTRFM0FcdTUzRUZcdTg4QUIgVE9NTCBcdTg5RTNcdTY3OTBcdTc2ODRcdTVCNTdcdTdCMjZcdTRFMzJcclxuICAgICAgICBwcml2YXRlIHF1b3RlV2lraWxpbmtzRm9yVG9tbChjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZSgvXFxbXFxbW15cXF1dK1xcXVxcXS9nLCAobWF0Y2g6IHN0cmluZywgb2Zmc2V0OiBudW1iZXIsIGZ1bGw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmUgPSBvZmZzZXQgPiAwID8gZnVsbFtvZmZzZXQgLSAxXSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZnRlciA9IG9mZnNldCArIG1hdGNoLmxlbmd0aCA8IGZ1bGwubGVuZ3RoID8gZnVsbFtvZmZzZXQgKyBtYXRjaC5sZW5ndGhdIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoYmVmb3JlID09PSAnXCInICYmIGFmdGVyID09PSAnXCInKSB8fCAoYmVmb3JlID09PSAnXFwnJyAmJiBhZnRlciA9PT0gJ1xcJycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoOyAvLyBhbHJlYWR5IHF1b3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXCIke21hdGNofVwiYDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHU1QzA2IFwiW1suLi5dXVwiIFx1NjIxNiAnW1suLi5dXScgXHU1RjYyXHU1RjBGXHU4RkQ4XHU1MzlGXHU0RTNBXHU4OEY4XHU3Njg0XHU1M0NDXHU5NEZFXHJcbiAgICAgICAgcHJpdmF0ZSBkZXF1b3RlV2lraWxpbmtzKGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudC5yZXBsYWNlKC8oW1wiJ10pXFxbXFxbW15cXF1dK1xcXVxcXVxcMS9nLCAobWF0Y2g6IHN0cmluZykgPT4gbWF0Y2guc2xpY2UoMSwgLTEpKTtcclxuICAgICAgICB9XHJcbn1cclxuIiwgIi8vIEFzc2V0XHU1QjlFXHU0RjUzXHU3QzdCXHJcbmV4cG9ydCBjbGFzcyBBc3NldCB7XHJcblx0aWQ6IHN0cmluZztcclxuXHRuYW1lOiBzdHJpbmc7XHJcblx0aWNvbjogc3RyaW5nO1xyXG5cdHByaWNlOiBudW1iZXI7XHJcblx0YWN0aXZlRnJvbTogRGF0ZTtcclxuXHRhY3RpdmVUbz86IERhdGU7XHJcblx0cmVjeWNsZVByaWNlOiBudW1iZXI7XHJcblx0dGFnczogc3RyaW5nW107XHJcblx0aGlkZGVuOiBib29sZWFuO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihpZE9yUmF3RGF0YTogc3RyaW5nIHwgYW55LCB0b21sRGF0YT86IGFueSkge1xyXG5cdFx0aWYgKHR5cGVvZiBpZE9yUmF3RGF0YSA9PT0gJ3N0cmluZycgJiYgdG9tbERhdGEpIHtcclxuXHRcdFx0Ly8gVE9NTCBcdTZBMjFcdTVGMEZcdUZGMDhcdTRGMThcdTUxNDhcdThCRkJcdTUzRDYgW2Nvc3RzZXRdIFx1NTQ3RFx1NTQwRFx1N0E3QVx1OTVGNFx1RkYwQ1x1NTE3Q1x1NUJCOVx1NjVFN1x1N0VEM1x1Njc4NFx1RkYwOVxyXG5cdFx0XHR0aGlzLmlkID0gaWRPclJhd0RhdGE7XHJcblx0XHRcdGNvbnN0IHNyYyA9IHRvbWxEYXRhLmNvc3RzZXQgPyB0b21sRGF0YS5jb3N0c2V0IDogdG9tbERhdGE7XHJcblx0XHRcdHRoaXMubmFtZSA9IHNyYy5uYW1lIHx8ICcnO1xyXG5cdFx0XHQvLyBzdHlsZS5pY29uIFx1NTE3Q1x1NUJCOVx1NEUyNFx1NzlDRFx1Njc2NVx1NkU5MFxyXG5cdFx0XHR0aGlzLmljb24gPSBzcmMuc3R5bGU/Lmljb24gPz8gdG9tbERhdGEuc3R5bGU/Lmljb24gPz8gJ1x1RDgzRFx1RENFNic7XHJcblx0XHRcdGNvbnN0IGRldGFpbCA9IHNyYy5kZXRhaWwgPz8gdG9tbERhdGEuZGV0YWlsID8/IHt9O1xyXG5cdFx0XHR0aGlzLnByaWNlID0gTnVtYmVyKGRldGFpbC5wcmljZSkgfHwgMDtcclxuXHRcdFx0dGhpcy5hY3RpdmVGcm9tID0gdGhpcy5wYXJzZURhdGUoZGV0YWlsLmFjdGl2ZV9mcm9tKSB8fCBuZXcgRGF0ZSgpO1xyXG5cdFx0XHR0aGlzLmFjdGl2ZVRvID0gdGhpcy5wYXJzZURhdGUoZGV0YWlsLmFjdGl2ZV90bykgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHR0aGlzLnJlY3ljbGVQcmljZSA9IE51bWJlcihkZXRhaWwucmVjeWNsZV9wcmljZSkgfHwgMDtcclxuXHRcdFx0dGhpcy50YWdzID0gQXJyYXkuaXNBcnJheShkZXRhaWwudGFncykgPyBkZXRhaWwudGFncyA6IChkZXRhaWwudGFncyB8fCAnJykuc3BsaXQoJywnKS5tYXAoKGw6IHN0cmluZykgPT4gbC50cmltKCkpLmZpbHRlcigodGFnOiBzdHJpbmcpID0+IHRhZyk7XHJcblx0XHRcdHRoaXMuaGlkZGVuID0gISEoZGV0YWlsLmhpZGRlbiA/PyBzcmMuaGlkZGVuKTtcclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIGlkT3JSYXdEYXRhID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHQvLyBcdTYyNDFcdTVFNzNcdTVCRjlcdThDNjFcdTZBMjFcdTVGMEZcclxuXHRcdFx0dGhpcy5pZCA9IGlkT3JSYXdEYXRhLmlkIHx8ICcnO1xyXG5cdFx0XHR0aGlzLm5hbWUgPSBpZE9yUmF3RGF0YS5uYW1lIHx8ICcnO1xyXG5cdFx0XHR0aGlzLmljb24gPSBpZE9yUmF3RGF0YS5pY29uIHx8ICdcdUQ4M0RcdURDRTYnO1xyXG5cdFx0XHR0aGlzLnByaWNlID0gTnVtYmVyKGlkT3JSYXdEYXRhLnByaWNlKSB8fCAwO1xyXG5cdFx0XHR0aGlzLmFjdGl2ZUZyb20gPSB0aGlzLnBhcnNlRGF0ZShpZE9yUmF3RGF0YS5hY3RpdmVfZnJvbSB8fCBpZE9yUmF3RGF0YS5hY3RpdmVGcm9tKSB8fCBuZXcgRGF0ZSgpO1xyXG5cdFx0XHR0aGlzLmFjdGl2ZVRvID0gdGhpcy5wYXJzZURhdGUoaWRPclJhd0RhdGEuYWN0aXZlX3RvIHx8IGlkT3JSYXdEYXRhLmFjdGl2ZVRvKSB8fCB1bmRlZmluZWQ7XHJcblx0XHRcdHRoaXMucmVjeWNsZVByaWNlID0gTnVtYmVyKGlkT3JSYXdEYXRhLnJlY3ljbGVfcHJpY2UpIHx8IDA7XHJcblx0XHRcdHRoaXMudGFncyA9IEFycmF5LmlzQXJyYXkoaWRPclJhd0RhdGEudGFncykgPyBpZE9yUmF3RGF0YS50YWdzIDogKGlkT3JSYXdEYXRhLnRhZ3MgfHwgJycpLnNwbGl0KCcsJykubWFwKChsOiBzdHJpbmcpID0+IGwudHJpbSgpKS5maWx0ZXIoKHRhZzogc3RyaW5nKSA9PiB0YWcpO1xyXG5cdFx0XHR0aGlzLmhpZGRlbiA9ICEhaWRPclJhd0RhdGEuaGlkZGVuO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFzc2V0IGRhdGEnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcGFyc2VEYXRlKGRhdGVTdHI6IHN0cmluZyk6IERhdGUgfCB1bmRlZmluZWQge1xyXG5cdFx0aWYgKCFkYXRlU3RyKSByZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0Y29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpO1xyXG5cdFx0cmV0dXJuIGlzTmFOKGRhdGUuZ2V0VGltZSgpKSA/IHVuZGVmaW5lZCA6IGRhdGU7XHJcblx0fVxyXG5cclxuXHRnZXROYW1lKCkgeyByZXR1cm4gdGhpcy5uYW1lOyB9XHJcblx0Z2V0UHJpY2UoKSB7IHJldHVybiB0aGlzLnByaWNlOyB9XHJcblx0XHJcblx0Z2V0RGFpbHlDb3N0KG5vdzogRGF0ZSA9IG5ldyBEYXRlKCkpOiBudW1iZXIge1xyXG5cdFx0Y29uc3QgZnJvbSA9IHRoaXMuYWN0aXZlRnJvbTtcclxuXHRcdC8vIFx1OEJBMVx1N0I5N1x1NTIzMFx1OEZCRVx1NjVFNVx1NjcxRlx1RkYxQVx1ODJFNVx1NUI1OFx1NTcyOCBhY3RpdmVUb1x1RkYwQ1x1NTIxOVx1NEUwRSBub3cgXHU1M0Q2XHU4RjgzXHU2NUU5XHU4MDA1XHVGRjFCXHU1NDI2XHU1MjE5XHU1M0Q2IG5vd1xyXG5cdFx0Y29uc3QgZW5kID0gdGhpcy5hY3RpdmVUbyAmJiB0aGlzLmFjdGl2ZVRvLmdldFRpbWUoKSA8IG5vdy5nZXRUaW1lKCkgPyB0aGlzLmFjdGl2ZVRvIDogbm93O1xyXG5cdFx0Y29uc3QgZGF5cyA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IoKGVuZC5nZXRUaW1lKCkgLSBmcm9tLmdldFRpbWUoKSkgLyA4NjQwMDAwMCkpO1xyXG5cdFx0cmV0dXJuICh0aGlzLnByaWNlIC0gdGhpcy5yZWN5Y2xlUHJpY2UpIC8gZGF5cztcclxuXHR9XHJcblx0XHJcblx0Z2V0VXNhZ2VEYXlzKG5vdzogRGF0ZSA9IG5ldyBEYXRlKCkpOiBudW1iZXIge1xyXG5cdFx0Y29uc3QgZnJvbSA9IHRoaXMuYWN0aXZlRnJvbTtcclxuXHRcdGNvbnN0IGVuZCA9IHRoaXMuYWN0aXZlVG8gJiYgdGhpcy5hY3RpdmVUby5nZXRUaW1lKCkgPCBub3cuZ2V0VGltZSgpID8gdGhpcy5hY3RpdmVUbyA6IG5vdztcclxuXHRcdHJldHVybiBNYXRoLm1heCgxLCBNYXRoLmZsb29yKChlbmQuZ2V0VGltZSgpIC0gZnJvbS5nZXRUaW1lKCkpIC8gODY0MDAwMDApKTtcclxuXHR9XHJcblx0XHJcblx0aXNBY3RpdmUoZGF0ZTogRGF0ZSA9IG5ldyBEYXRlKCkpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmFjdGl2ZUZyb20gPD0gZGF0ZSAmJiAoIXRoaXMuYWN0aXZlVG8gfHwgZGF0ZSA8IHRoaXMuYWN0aXZlVG8pO1xyXG5cdH1cclxuXHJcblx0dG9Ub21sU3RyaW5nKCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBmb3JtYXREYXRlID0gKGRhdGU6IERhdGUgfCB1bmRlZmluZWQpOiBzdHJpbmcgPT4ge1xyXG5cdFx0XHRpZiAoIWRhdGUpIHJldHVybiAnJztcclxuXHRcdFx0cmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gYG5hbWUgPSBcIiR7dGhpcy5uYW1lfVwiXHJcblxyXG5bc3R5bGVdXHJcbmljb24gPSBcIiR7dGhpcy5pY29ufVwiXHJcblxyXG5bZGV0YWlsXVxyXG5wcmljZSA9ICR7dGhpcy5wcmljZX1cclxuYWN0aXZlX2Zyb20gPSBcIiR7Zm9ybWF0RGF0ZSh0aGlzLmFjdGl2ZUZyb20pfVwiXHJcbmFjdGl2ZV90byA9IFwiJHtmb3JtYXREYXRlKHRoaXMuYWN0aXZlVG8pfVwiXHJcbnJlY3ljbGVfcHJpY2UgPSAke3RoaXMucmVjeWNsZVByaWNlfVxyXG50YWdzID0gWyR7dGhpcy50YWdzLm1hcCh0YWcgPT4gYFwiJHt0YWd9XCJgKS5qb2luKCcsICcpfV1cclxuYDtcclxuXHR9XHJcblxyXG5cdC8vIFx1NEVDNVx1OEY5M1x1NTFGQSBjb3N0c2V0IFx1NTQ3RFx1NTQwRFx1N0E3QVx1OTVGNFx1NzY4NCBUT01MIFx1NzI0N1x1NkJCNVx1RkYwOFx1NzUyOFx1NEU4RVx1NUI4OVx1NTE2OFx1NTQwOFx1NUU3Nlx1RkYwOVxyXG5cdHRvQ29zdHNldFRvbWxTZWN0aW9ucygpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgZm9ybWF0RGF0ZSA9IChkYXRlOiBEYXRlIHwgdW5kZWZpbmVkKTogc3RyaW5nID0+IHtcclxuXHRcdFx0aWYgKCFkYXRlKSByZXR1cm4gJyc7XHJcblx0XHRcdHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcclxuXHRcdH07XHJcblx0XHRjb25zdCB0YWdzU3RyID0gdGhpcy50YWdzLm1hcCh0YWcgPT4gYFwiJHt0YWd9XCJgKS5qb2luKCcsICcpO1xyXG5cdFx0cmV0dXJuIGBbY29zdHNldF1cclxubmFtZSA9IFwiJHt0aGlzLm5hbWV9XCJcclxuaGlkZGVuID0gJHt0aGlzLmhpZGRlbiA/ICd0cnVlJyA6ICdmYWxzZSd9XHJcblxyXG5bY29zdHNldC5zdHlsZV1cclxuaWNvbiA9IFwiJHt0aGlzLmljb259XCJcclxuXHJcbltjb3N0c2V0LmRldGFpbF1cclxucHJpY2UgPSAke3RoaXMucHJpY2V9XHJcbmFjdGl2ZV9mcm9tID0gXCIke2Zvcm1hdERhdGUodGhpcy5hY3RpdmVGcm9tKX1cIlxyXG5hY3RpdmVfdG8gPSBcIiR7Zm9ybWF0RGF0ZSh0aGlzLmFjdGl2ZVRvKX1cIlxyXG5yZWN5Y2xlX3ByaWNlID0gJHt0aGlzLnJlY3ljbGVQcmljZX1cclxudGFncyA9IFske3RhZ3NTdHJ9XVxyXG5gO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IENvbmZpcm1Nb2RhbCB9IGZyb20gJy4vQ29uZmlybU1vZGFsJztcclxuaW1wb3J0IHsgQXNzZXRSZXBvc2l0b3J5IH0gZnJvbSAnLi4vLi4vcmVwb3NpdG9yaWVzL0Fzc2V0UmVwb3NpdG9yeSc7XHJcbmltcG9ydCB7IEFzc2V0IH0gZnJvbSAnLi4vLi4vbW9kZWxzL0Fzc2V0JztcclxuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2kxOG4nO1xyXG5cclxuLy8gXHU4RDQ0XHU0RUE3XHU4ODY4XHU1MzU1XHU1RjM5XHU3QTk3XHVGRjA4XHU1OTBEXHU3NTI4XHU2NUU1XHU2NzFGL1x1NjgwN1x1N0I3RVx1NUYzOVx1N0E5N1x1OThDRVx1NjgzQ1x1RkYwOVxyXG5leHBvcnQgY2xhc3MgQXNzZXRGb3JtTW9kYWwge1xyXG5cdHByaXZhdGUgYXBwOiBBcHA7XHJcblx0cHJpdmF0ZSBhc3NldFJlcG9zaXRvcnk6IEFzc2V0UmVwb3NpdG9yeTtcclxuXHRwcml2YXRlIGFzc2V0PzogQXNzZXQ7XHJcblx0cHJpdmF0ZSBtYXNrRWw/OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIG1vZGFsRWw/OiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgb25TYXZlZD86ICgpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBhc3NldFJlcG9zaXRvcnk6IEFzc2V0UmVwb3NpdG9yeSwgYXNzZXQ/OiBBc3NldCwgb25TYXZlZD86ICgpID0+IHZvaWQpIHtcclxuXHRcdHRoaXMuYXBwID0gYXBwO1xyXG5cdFx0dGhpcy5hc3NldFJlcG9zaXRvcnkgPSBhc3NldFJlcG9zaXRvcnk7XHJcblx0XHR0aGlzLmFzc2V0ID0gYXNzZXQ7XHJcbiAgICAgICAgdGhpcy5vblNhdmVkID0gb25TYXZlZDtcclxuXHR9XHJcblxyXG5cdG9wZW4oKSB7XHJcblx0XHQvLyBcdTkwNkVcdTdGNjlcclxuXHRcdHRoaXMubWFza0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHR0aGlzLm1hc2tFbC5jbGFzc05hbWUgPSAnZGF0ZS1waWNrZXItbWFzayc7XHJcblxyXG5cdFx0Ly8gXHU1RjM5XHU3QTk3XHU1QkI5XHU1NjY4XHVGRjA4XHU1OTBEXHU3NTI4XHU2NUU1XHU2NzFGXHU5MDA5XHU2MkU5XHU1NjY4XHU2ODM3XHU1RjBGXHU1RTc2XHU1MkEwXHU4MUVBXHU1QjlBXHU0RTQ5XHU2ODA3XHU4QkM2XHVGRjA5XHJcblx0XHR0aGlzLm1vZGFsRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHRoaXMubW9kYWxFbC5jbGFzc05hbWUgPSAnZGF0ZS1waWNrZXItbW9kYWwgYXNzZXQtZm9ybS1tb2RhbCc7XHJcblx0XHQvLyBcdTZDRThcdTUxNjVcdTRFMDBcdTZCMjFcdTYwMjdcdTc2ODRcdTZBMkFcdTU0MTFcdTg4NjhcdTUzNTVcdTY4MzdcdTVGMEZcdUZGMENcdTk2NERcdTRGNEVcdTY1NzRcdTRGNTNcdTlBRDhcdTVFQTZcclxuXHRcdHRoaXMuaW5qZWN0QXNzZXRGb3JtU3R5bGVzKCk7XHJcblxyXG5cdFx0Y29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0Y29udGVudC5jbGFzc05hbWUgPSAnZGF0ZS1waWNrZXItY29udGVudCc7XHJcblx0XHQoY29udGVudC5zdHlsZSBhcyBhbnkpLmdhcCA9ICcwcHgnO1xyXG5cclxuXHRcdC8vIFx1NTNCQlx1NjM4OVx1NjgwN1x1OTg5OFx1NjYzRVx1NzkzQVxyXG5cclxuXHRcdC8vIFx1ODg2OFx1NTM1NVxyXG5cdFx0Y29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuXHRcdGZvcm0uY2xhc3NOYW1lID0gJ2Fzc2V0LWZvcm0gYXNzZXQtZm9ybS0taG9yaXpvbnRhbCc7XHJcblx0XHRmb3JtLnN0eWxlLmRpc3BsYXkgPSAnZ3JpZCc7XHJcblx0XHQoZm9ybS5zdHlsZSBhcyBhbnkpLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSAnMWZyJztcclxuXHRcdGZvcm0uc3R5bGUucm93R2FwID0gJzBweCc7XHJcblx0XHQoZm9ybS5zdHlsZSBhcyBhbnkpLmdhcCA9ICcwcHgnO1xyXG5cclxuXHRcdC8vIFx1MjAxNFx1MjAxNCBcdTg4NjhcdTUzNTVcdTY4MjFcdTlBOENcdTVERTVcdTUxNzcgXHUyMDE0XHUyMDE0XHJcblx0XHRjb25zdCBlbnN1cmVFcnJvckVsID0gKGdyb3VwOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50ID0+IHtcclxuXHRcdFx0bGV0IGVyciA9IGdyb3VwLnF1ZXJ5U2VsZWN0b3IoJy5maWVsZC1lcnJvcicpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHRcdFx0aWYgKCFlcnIpIHtcclxuXHRcdFx0XHRjb25zdCBmaWVsZCA9IGdyb3VwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWZpZWxkJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xyXG5cdFx0XHRcdGVyciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdGVyci5jbGFzc05hbWUgPSAnZmllbGQtZXJyb3InO1xyXG5cdFx0XHRcdGlmIChmaWVsZCkgZmllbGQuYXBwZW5kQ2hpbGQoZXJyKTtcclxuXHRcdFx0XHRlbHNlIGdyb3VwLmFwcGVuZENoaWxkKGVycik7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGVycjtcclxuXHRcdH07XHJcblx0XHRjb25zdCBzZXRFcnJvciA9IChncm91cDogSFRNTEVsZW1lbnQsIG1lc3NhZ2U6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRncm91cC5jbGFzc0xpc3QuYWRkKCdoYXMtZXJyb3InKTtcclxuXHRcdFx0Y29uc3QgaW5wdXQgPSBncm91cC5xdWVyeVNlbGVjdG9yKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHRcdFx0aWYgKGlucHV0KSAoaW5wdXQgYXMgYW55KS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XHJcblx0XHRcdGVuc3VyZUVycm9yRWwoZ3JvdXApLnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBjbGVhckVycm9yID0gKGdyb3VwOiBIVE1MRWxlbWVudCkgPT4ge1xyXG5cdFx0XHRncm91cC5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtZXJyb3InKTtcclxuXHRcdFx0Y29uc3QgaW5wdXQgPSBncm91cC5xdWVyeVNlbGVjdG9yKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHRcdFx0aWYgKGlucHV0KSAoaW5wdXQgYXMgYW55KS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICdmYWxzZScpO1xyXG5cdFx0XHRjb25zdCBlcnIgPSBncm91cC5xdWVyeVNlbGVjdG9yKCcuZmllbGQtZXJyb3InKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XHJcblx0XHRcdGlmIChlcnIpIGVyci5yZW1vdmUoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gXHU1NDBEXHU3OUYwXHJcblx0XHRjb25zdCBuYW1lR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdG5hbWVHcm91cC5jbGFzc05hbWUgPSAnZm9ybS1ncm91cCc7XHJcblx0XHR7XHJcblx0XHRcdGNvbnN0IGxibCA9IHRoaXMuY3JlYXRlTGFiZWwodCgnZm9ybS5uYW1lJykpO1xyXG5cdFx0XHRsYmwuY2xhc3NMaXN0LmFkZCgnbGFiZWwtcmVxdWlyZWQnKTtcclxuXHRcdFx0bmFtZUdyb3VwLmFwcGVuZENoaWxkKGxibCk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG5cdFx0bmFtZUlucHV0LnR5cGUgPSAndGV4dCc7XHJcblx0XHRuYW1lSW5wdXQucGxhY2Vob2xkZXIgPSB0KCdmb3JtLmFzc2V0TmFtZS5wbGFjZWhvbGRlcicpO1xyXG5cdFx0aWYgKHRoaXMuYXNzZXQpIG5hbWVJbnB1dC52YWx1ZSA9IHRoaXMuYXNzZXQubmFtZTtcclxuXHRcdHtcclxuXHRcdFx0Y29uc3QgZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0ZmllbGQuY2xhc3NOYW1lID0gJ2Zvcm0tZmllbGQnO1xyXG5cdFx0XHRmaWVsZC5hcHBlbmRDaGlsZChuYW1lSW5wdXQpO1xyXG5cdFx0XHRuYW1lR3JvdXAuYXBwZW5kQ2hpbGQoZmllbGQpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5hcHBseVJvd0xheW91dChuYW1lR3JvdXApO1xyXG5cdFx0Zm9ybS5hcHBlbmRDaGlsZChuYW1lR3JvdXApO1xyXG5cdFx0Y29uc3QgdmFsaWRhdGVOYW1lID0gKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB2ID0gKG5hbWVJbnB1dC52YWx1ZSB8fCAnJykudHJpbSgpO1xyXG5cdFx0XHRpZiAoIXYpIHsgc2V0RXJyb3IobmFtZUdyb3VwLCB0KCdmb3JtLmVycm9yLm5hbWVSZXF1aXJlZCcpKTsgcmV0dXJuIGZhbHNlOyB9XHJcblx0XHRcdGNsZWFyRXJyb3IobmFtZUdyb3VwKTsgcmV0dXJuIHRydWU7XHJcblx0XHR9O1xyXG5cdFx0bmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdmFsaWRhdGVOYW1lKTtcclxuXHRcdG5hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdmFsaWRhdGVOYW1lKTtcclxuXHJcblx0XHQvLyBcdTU2RkVcdTY4MDdcclxuXHRcdGNvbnN0IGljb25Hcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0aWNvbkdyb3VwLmNsYXNzTmFtZSA9ICdmb3JtLWdyb3VwJztcclxuXHRcdGljb25Hcm91cC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxhYmVsKHQoJ2Zvcm0uaWNvbicpKSk7XHJcblx0XHRjb25zdCBpY29uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG5cdFx0aWNvbklucHV0LnR5cGUgPSAndGV4dCc7XHJcblx0XHRpY29uSW5wdXQucGxhY2Vob2xkZXIgPSAnXHVEODNEXHVERTBBJyArIHQoJ2Zvcm0uaWNvbi5wbGFjZWhvbGRlcicpO1xyXG5cdFx0aWYgKHRoaXMuYXNzZXQpIGljb25JbnB1dC52YWx1ZSA9IHRoaXMuYXNzZXQuaWNvbjsgZWxzZSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3QgcGx1Z2luID0gKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucz8ucGx1Z2lucz8uWydsYWMtY29zdHNldCddO1xyXG5cdFx0XHRcdGNvbnN0IGZhbGxiYWNrID0gJ1x1RDgzRFx1RENFNic7XHJcblx0XHRcdFx0aWNvbklucHV0LnZhbHVlID0gKHBsdWdpbiAmJiBwbHVnaW4uc2V0dGluZ3MgJiYgcGx1Z2luLnNldHRpbmdzLmRlZmF1bHRJY29uKSA/IHBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0SWNvbiA6IGZhbGxiYWNrO1xyXG5cdFx0XHR9IGNhdGNoIChfKSB7XHJcblx0XHRcdFx0aWNvbklucHV0LnZhbHVlID0gJ1x1RDgzRFx1RENFNic7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGNvbnN0IGVuZm9yY2VTaW5nbGVFbW9qaSA9ICgpID0+IHtcclxuXHRcdFx0Y29uc3QgZmlyc3QgPSB0aGlzLmdldEZpcnN0RW1vamlHcmFwaGVtZShpY29uSW5wdXQudmFsdWUgfHwgJycpO1xyXG5cdFx0XHRpY29uSW5wdXQudmFsdWUgPSBmaXJzdCB8fCAnJztcclxuXHRcdH07XHJcblx0XHRpY29uSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBlbmZvcmNlU2luZ2xlRW1vamkpO1xyXG5cdFx0aWNvbklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgKGUpID0+IHsgc2V0VGltZW91dChlbmZvcmNlU2luZ2xlRW1vamksIDApOyB9KTtcclxuXHRcdHtcclxuXHRcdFx0Y29uc3QgZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0ZmllbGQuY2xhc3NOYW1lID0gJ2Zvcm0tZmllbGQnO1xyXG5cdFx0XHRmaWVsZC5hcHBlbmRDaGlsZChpY29uSW5wdXQpO1xyXG5cdFx0XHRpY29uR3JvdXAuYXBwZW5kQ2hpbGQoZmllbGQpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5hcHBseVJvd0xheW91dChpY29uR3JvdXApO1xyXG5cdFx0Zm9ybS5hcHBlbmRDaGlsZChpY29uR3JvdXApO1xyXG5cclxuXHRcdC8vIFx1NEVGN1x1NjgzQ1xyXG5cdFx0Y29uc3QgcHJpY2VHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0cHJpY2VHcm91cC5jbGFzc05hbWUgPSAnZm9ybS1ncm91cCc7XHJcblx0XHR7XHJcblx0XHRcdGNvbnN0IGxibCA9IHRoaXMuY3JlYXRlTGFiZWwodCgnZm9ybS5wcmljZScpKTtcclxuXHRcdFx0bGJsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsLXJlcXVpcmVkJyk7XHJcblx0XHRcdHByaWNlR3JvdXAuYXBwZW5kQ2hpbGQobGJsKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IHByaWNlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0XHRwcmljZUlucHV0LnR5cGUgPSAnbnVtYmVyJztcclxuXHRcdHByaWNlSW5wdXQucGxhY2Vob2xkZXIgPSB0KCdmb3JtLnByaWNlLnBsYWNlaG9sZGVyJyk7XHJcblx0XHRwcmljZUlucHV0LnN0ZXAgPSAnMC4wMSc7XHJcblx0XHRpZiAodGhpcy5hc3NldCkgcHJpY2VJbnB1dC52YWx1ZSA9IHRoaXMuYXNzZXQucHJpY2UudG9TdHJpbmcoKTtcclxuXHRcdC8vIFx1NEUwRSBjb3N0c2V0YXBwIFx1NUJGOVx1OUY1MFx1RkYxQVx1OEY5M1x1NTE2NVx1NEUwRVx1NTkzMVx1NzEyNlx1NjVGNlx1NTFDMFx1NTMxNlx1NEUzQVx1NTQwOFx1NkNENVx1NjU3MFx1NUI1N1x1NjgzQ1x1NUYwRlxyXG5cdFx0Y29uc3Qgc2FuaXRpemVOdW1lcmljID0gKGVsOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XHJcblx0XHRcdGVsLnZhbHVlID0gdGhpcy5zYW5pdGl6ZU51bWVyaWNTdHJpbmcoZWwudmFsdWUgfHwgJycpO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IGxpbWl0VHdvRGVjaW1hbHMgPSAoZWw6IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcclxuXHRcdFx0ZWwudmFsdWUgPSB0aGlzLmNsYW1wVHdvRGVjaW1hbHNTdHJpbmcoZWwudmFsdWUgfHwgJycpO1xyXG5cdFx0fTtcclxuXHRcdHByaWNlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBzYW5pdGl6ZU51bWVyaWMocHJpY2VJbnB1dCkpO1xyXG5cdFx0cHJpY2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4geyBzYW5pdGl6ZU51bWVyaWMocHJpY2VJbnB1dCk7IGxpbWl0VHdvRGVjaW1hbHMocHJpY2VJbnB1dCk7IH0pO1xyXG5cdFx0e1xyXG5cdFx0XHRjb25zdCBmaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRmaWVsZC5jbGFzc05hbWUgPSAnZm9ybS1maWVsZCc7XHJcblx0XHRcdGZpZWxkLmFwcGVuZENoaWxkKHByaWNlSW5wdXQpO1xyXG5cdFx0XHRwcmljZUdyb3VwLmFwcGVuZENoaWxkKGZpZWxkKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuYXBwbHlSb3dMYXlvdXQocHJpY2VHcm91cCk7XHJcblx0XHRmb3JtLmFwcGVuZENoaWxkKHByaWNlR3JvdXApO1xyXG5cdFx0Y29uc3QgdmFsaWRhdGVQcmljZSA9ICgpID0+IHtcclxuXHRcdFx0Y29uc3Qgc3RyID0gKHByaWNlSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcclxuXHRcdFx0Y29uc3QgbnVtID0gdGhpcy5wYXJzZU1vbmV5KHN0cik7XHJcblx0XHRcdGlmIChudW0gPT09IG51bGwpIHsgc2V0RXJyb3IocHJpY2VHcm91cCwgdCgnZm9ybS5lcnJvci5wcmljZUludmFsaWQnKSk7IHJldHVybiBmYWxzZTsgfVxyXG5cdFx0XHRjbGVhckVycm9yKHByaWNlR3JvdXApOyByZXR1cm4gdHJ1ZTtcclxuXHRcdH07XHJcblx0XHRwcmljZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdmFsaWRhdGVQcmljZSk7XHJcblx0XHRwcmljZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB2YWxpZGF0ZVByaWNlKTtcclxuXHJcblx0XHQvLyBcdTVGMDBcdTU5Q0JcdTY1RTVcdTY3MUZcclxuXHRcdGNvbnN0IGZyb21Hcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0ZnJvbUdyb3VwLmNsYXNzTmFtZSA9ICdmb3JtLWdyb3VwJztcclxuXHRcdHtcclxuXHRcdFx0Y29uc3QgbGJsID0gdGhpcy5jcmVhdGVMYWJlbCh0KCdmb3JtLnB1cmNoYXNlT24nKSk7XHJcblx0XHRcdGxibC5jbGFzc0xpc3QuYWRkKCdsYWJlbC1yZXF1aXJlZCcpO1xyXG5cdFx0XHRmcm9tR3JvdXAuYXBwZW5kQ2hpbGQobGJsKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGZyb21JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdGZyb21JbnB1dC50eXBlID0gJ3RleHQnO1xyXG5cdFx0ZnJvbUlucHV0LnJlYWRPbmx5ID0gdHJ1ZTtcclxuXHRcdGZyb21JbnB1dC5wbGFjZWhvbGRlciA9IHQoJ2Zvcm0ucHVyY2hhc2VEYXRlJyk7XHJcblx0XHRmcm9tSW5wdXQudmFsdWUgPSB0aGlzLmFzc2V0ID8gdGhpcy5mb3JtYXREYXRlTG9jYWwodGhpcy5hc3NldC5hY3RpdmVGcm9tKSA6ICcnO1xyXG5cdFx0ZnJvbUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLm9wZW5EYXRlUGlja2VyKGZyb21JbnB1dC52YWx1ZSA/IG5ldyBEYXRlKGZyb21JbnB1dC52YWx1ZSkgOiAodGhpcy5hc3NldD8uYWN0aXZlRnJvbSB8fCBuZXcgRGF0ZSgpKSwgKHBpY2tlZCkgPT4ge1xyXG5cdFx0XHRcdGZyb21JbnB1dC52YWx1ZSA9IHRoaXMuZm9ybWF0RGF0ZUxvY2FsKHBpY2tlZCk7XHJcblx0XHRcdFx0Y2xlYXJFcnJvcihmcm9tR3JvdXApO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0e1xyXG5cdFx0XHRjb25zdCBmaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRmaWVsZC5jbGFzc05hbWUgPSAnZm9ybS1maWVsZCc7XHJcblx0XHRcdGZpZWxkLmFwcGVuZENoaWxkKGZyb21JbnB1dCk7XHJcblx0XHRcdGZyb21Hcm91cC5hcHBlbmRDaGlsZChmaWVsZCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmFwcGx5Um93TGF5b3V0KGZyb21Hcm91cCk7XHJcblx0XHRmb3JtLmFwcGVuZENoaWxkKGZyb21Hcm91cCk7XHJcblx0XHRjb25zdCB2YWxpZGF0ZUZyb20gPSAoKSA9PiB7XHJcblx0XHRcdGlmICghZnJvbUlucHV0LnZhbHVlKSB7IHNldEVycm9yKGZyb21Hcm91cCwgdCgnZm9ybS5lcnJvci5mcm9tUmVxdWlyZWQnKSk7IHJldHVybiBmYWxzZTsgfVxyXG5cdFx0XHRjbGVhckVycm9yKGZyb21Hcm91cCk7IHJldHVybiB0cnVlO1xyXG5cdFx0fTtcclxuXHRcdGZyb21JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdmFsaWRhdGVGcm9tKTtcclxuXHJcblx0XHQvLyBcdTdFRDNcdTY3NUZcdTY1RTVcdTY3MUZcclxuXHRcdGNvbnN0IHRvR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHRvR3JvdXAuY2xhc3NOYW1lID0gJ2Zvcm0tZ3JvdXAnO1xyXG5cdFx0dG9Hcm91cC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxhYmVsKHQoJ2Zvcm0uZW5kRGF0ZScpKSk7XHJcblx0XHRjb25zdCB0b0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0dG9JbnB1dC50eXBlID0gJ3RleHQnO1xyXG5cdFx0dG9JbnB1dC5yZWFkT25seSA9IHRydWU7XHJcblx0XHR0b0lucHV0LnBsYWNlaG9sZGVyID0gdCgnZm9ybS5lbmREYXRlUGxhY2Vob2xkZXInKTtcclxuXHRcdHRvSW5wdXQudmFsdWUgPSAodGhpcy5hc3NldCAmJiB0aGlzLmFzc2V0LmFjdGl2ZVRvKSA/IHRoaXMuZm9ybWF0RGF0ZUxvY2FsKHRoaXMuYXNzZXQuYWN0aXZlVG8pIDogJyc7XHJcblx0XHRsZXQgY2xlYXJCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgdW5kZWZpbmVkO1xyXG5cdFx0Y29uc3QgdXBkYXRlVG9DbGVhciA9ICgpID0+IHsgaWYgKGNsZWFyQnRuKSBjbGVhckJ0bi5zdHlsZS5kaXNwbGF5ID0gdG9JbnB1dC52YWx1ZSA/ICdpbmxpbmUtZmxleCcgOiAnbm9uZSc7IH07XHJcblx0XHR0b0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLm9wZW5EYXRlUGlja2VyKHRvSW5wdXQudmFsdWUgPyBuZXcgRGF0ZSh0b0lucHV0LnZhbHVlKSA6ICh0aGlzLmFzc2V0Py5hY3RpdmVUbyB8fCBuZXcgRGF0ZSgpKSwgKHBpY2tlZCkgPT4ge1xyXG5cdFx0XHRcdHRvSW5wdXQudmFsdWUgPSB0aGlzLmZvcm1hdERhdGVMb2NhbChwaWNrZWQpO1xyXG5cdFx0XHRcdHVwZGF0ZVRvQ2xlYXIoKTtcclxuXHRcdFx0XHQvLyBcdTY4MjFcdTlBOENcdTUzM0FcdTk1RjRcclxuXHRcdFx0XHRpZiAoZnJvbUlucHV0LnZhbHVlKSB7XHJcblx0XHRcdFx0XHRjb25zdCBmZCA9IG5ldyBEYXRlKGZyb21JbnB1dC52YWx1ZSk7XHJcblx0XHRcdFx0XHRjb25zdCB0ZCA9IG5ldyBEYXRlKHRvSW5wdXQudmFsdWUpO1xyXG5cdFx0XHRcdFx0aWYgKHRkLmdldFRpbWUoKSA8IGZkLmdldFRpbWUoKSkgc2V0RXJyb3IodG9Hcm91cCwgdCgnZm9ybS5lcnJvci50b0JlZm9yZUZyb20nKSk7IGVsc2UgY2xlYXJFcnJvcih0b0dyb3VwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHR7XHJcblx0XHRcdGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdGZpZWxkLmNsYXNzTmFtZSA9ICdmb3JtLWZpZWxkJztcclxuXHRcdFx0Y29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHR3cmFwLmNsYXNzTmFtZSA9ICdpbnB1dC13aXRoLWNsZWFyJztcclxuXHRcdFx0d3JhcC5hcHBlbmRDaGlsZCh0b0lucHV0KTtcclxuXHRcdFx0Y2xlYXJCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdFx0Y2xlYXJCdG4udHlwZSA9ICdidXR0b24nO1xyXG5cdFx0XHRjbGVhckJ0bi5jbGFzc05hbWUgPSAnaW5wdXQtY2xlYXInO1xyXG5cdFx0XHRjbGVhckJ0bi50ZXh0Q29udGVudCA9ICdcdTAwRDcnO1xyXG5cdFx0XHRjbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpOyBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdHRvSW5wdXQudmFsdWUgPSAnJztcclxuXHRcdFx0XHR1cGRhdGVUb0NsZWFyKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR3cmFwLmFwcGVuZENoaWxkKGNsZWFyQnRuKTtcclxuXHRcdFx0ZmllbGQuYXBwZW5kQ2hpbGQod3JhcCk7XHJcblx0XHRcdHRvR3JvdXAuYXBwZW5kQ2hpbGQoZmllbGQpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5hcHBseVJvd0xheW91dCh0b0dyb3VwKTtcclxuXHRcdGZvcm0uYXBwZW5kQ2hpbGQodG9Hcm91cCk7XHJcblx0XHQvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTZFMDVcdTk2NjRcdTYzMDlcdTk0QUVcdTUzRUZcdTg5QzFcdTYwMjdcclxuXHRcdHVwZGF0ZVRvQ2xlYXIoKTtcclxuXHJcblx0XHQvLyBcdTU2REVcdTY1MzZcdTRFRjdcdTY4M0NcclxuXHRcdGNvbnN0IHJlY3ljbGVHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0cmVjeWNsZUdyb3VwLmNsYXNzTmFtZSA9ICdmb3JtLWdyb3VwJztcclxuXHRcdHJlY3ljbGVHcm91cC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxhYmVsKHQoJ2Zvcm0ucmVjeWNsZVByaWNlJykpKTtcclxuXHRcdGNvbnN0IHJlY3ljbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdHJlY3ljbGVJbnB1dC50eXBlID0gJ251bWJlcic7XHJcblx0XHRyZWN5Y2xlSW5wdXQucGxhY2Vob2xkZXIgPSB0KCdmb3JtLnJlY3ljbGUucGxhY2Vob2xkZXInKTtcclxuXHRcdHJlY3ljbGVJbnB1dC5zdGVwID0gJzAuMDEnO1xyXG5cdFx0aWYgKHRoaXMuYXNzZXQpIHJlY3ljbGVJbnB1dC52YWx1ZSA9IHRoaXMuYXNzZXQucmVjeWNsZVByaWNlLnRvU3RyaW5nKCk7XHJcblx0XHRyZWN5Y2xlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBzYW5pdGl6ZU51bWVyaWMocmVjeWNsZUlucHV0KSk7XHJcblx0XHRyZWN5Y2xlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHsgc2FuaXRpemVOdW1lcmljKHJlY3ljbGVJbnB1dCk7IGxpbWl0VHdvRGVjaW1hbHMocmVjeWNsZUlucHV0KTsgfSk7XHJcblx0XHR7XHJcblx0XHRcdGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdGZpZWxkLmNsYXNzTmFtZSA9ICdmb3JtLWZpZWxkJztcclxuXHRcdFx0ZmllbGQuYXBwZW5kQ2hpbGQocmVjeWNsZUlucHV0KTtcclxuXHRcdFx0cmVjeWNsZUdyb3VwLmFwcGVuZENoaWxkKGZpZWxkKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuYXBwbHlSb3dMYXlvdXQocmVjeWNsZUdyb3VwKTtcclxuXHRcdGZvcm0uYXBwZW5kQ2hpbGQocmVjeWNsZUdyb3VwKTtcclxuXHJcblxyXG5cdFx0Ly8gXHU2ODA3XHU3QjdFXHVGRjA4Y2hpcHMgKyBcdTU2REVcdThGNjZcdTc4NkVcdThCQTRcdUZGMDlcclxuXHRcdGNvbnN0IHRhZ3NHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0dGFnc0dyb3VwLmNsYXNzTmFtZSA9ICdmb3JtLWdyb3VwJztcclxuXHRcdHRhZ3NHcm91cC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxhYmVsKHQoJ2Zvcm0udGFncycpKSk7XHJcblx0XHRsZXQgY3VycmVudFRhZ3M6IHN0cmluZ1tdID0gdGhpcy5hc3NldCA/IFsuLi4odGhpcy5hc3NldC50YWdzIHx8IFtdKV0gOiBbXTtcclxuXHRcdGNvbnN0IHRhZ3NXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHR0YWdzV3JhcHBlci5jbGFzc05hbWUgPSAndGFncy1pbnB1dCc7XHJcblx0XHRjb25zdCB0YWdzSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0XHR0YWdzSW5wdXQudHlwZSA9ICd0ZXh0JztcclxuXHRcdHRhZ3NJbnB1dC5wbGFjZWhvbGRlciA9IHQoJ2Zvcm0udGFncy5wbGFjZWhvbGRlcicpO1xyXG5cdFx0dGFnc1dyYXBwZXIuYXBwZW5kQ2hpbGQodGFnc0lucHV0KTtcclxuXHRcdHtcclxuXHRcdFx0Y29uc3QgZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0ZmllbGQuY2xhc3NOYW1lID0gJ2Zvcm0tZmllbGQnO1xyXG5cdFx0XHRmaWVsZC5hcHBlbmRDaGlsZCh0YWdzV3JhcHBlcik7XHJcblx0XHRcdHRhZ3NHcm91cC5hcHBlbmRDaGlsZChmaWVsZCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmFwcGx5Um93TGF5b3V0KHRhZ3NHcm91cCk7XHJcblx0XHRmb3JtLmFwcGVuZENoaWxkKHRhZ3NHcm91cCk7XHJcblxyXG5cdFx0Y29uc3Qgbm9ybWFsaXplID0gKHRzdHI6IHN0cmluZykgPT4gdHN0ci50cmltKCk7XHJcblx0XHRjb25zdCBhZGRUYWcgPSAocmF3OiBzdHJpbmcpID0+IHtcclxuXHRcdFx0Y29uc3QgcGllY2VzID0gcmF3LnNwbGl0KC9bXHVGRjBDLFxcc10rLykubWFwKG5vcm1hbGl6ZSkuZmlsdGVyKEJvb2xlYW4pO1xyXG5cdFx0XHRwaWVjZXMuZm9yRWFjaChwID0+IHsgaWYgKCFjdXJyZW50VGFncy5pbmNsdWRlcyhwKSkgY3VycmVudFRhZ3MucHVzaChwKTsgfSk7XHJcblx0XHRcdHN5bmNDaGlwcygpO1xyXG5cdFx0XHR0YWdzSW5wdXQudmFsdWUgPSAnJztcclxuXHRcdH07XHJcblx0XHRjb25zdCByZW1vdmVUYWcgPSAodmFsdWU6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRjdXJyZW50VGFncyA9IGN1cnJlbnRUYWdzLmZpbHRlcih0ZyA9PiB0ZyAhPT0gdmFsdWUpO1xyXG5cdFx0XHRzeW5jQ2hpcHMoKTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBzeW5jQ2hpcHMgPSAoKSA9PiB7XHJcblx0XHRcdEFycmF5LmZyb20odGFnc1dyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnLnRhZy1jaGlwJykpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xyXG5cdFx0XHRjdXJyZW50VGFncy5mb3JFYWNoKHRhZyA9PiB7XHJcblx0XHRcdFx0Y29uc3QgY2hpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRcdFx0XHRjaGlwLmNsYXNzTmFtZSA9ICd0YWctY2hpcCc7XHJcblx0XHRcdFx0Y2hpcC50ZXh0Q29udGVudCA9IHRhZztcclxuXHRcdFx0XHRjb25zdCBybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG5cdFx0XHRcdHJtLnR5cGUgPSAnYnV0dG9uJztcclxuXHRcdFx0XHRybS5jbGFzc05hbWUgPSAncmVtb3ZlJztcclxuXHRcdFx0XHRybS50ZXh0Q29udGVudCA9ICdcdTAwRDcnO1xyXG5cdFx0XHRcdHJtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVtb3ZlVGFnKHRhZykpO1xyXG5cdFx0XHRcdGNoaXAuYXBwZW5kQ2hpbGQocm0pO1xyXG5cdFx0XHRcdHRhZ3NXcmFwcGVyLmluc2VydEJlZm9yZShjaGlwLCB0YWdzSW5wdXQpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gXHU1MjFEXHU1OUNCXHU2RTMyXHU2N0QzXHU1REYyXHU1QjU4XHU1NzI4XHU2ODA3XHU3QjdFXHJcblx0XHRzeW5jQ2hpcHMoKTtcclxuXHJcblx0XHQvLyBcdThGOTNcdTUxNjVcdTRFQTRcdTRFOTJcdUZGMUFFbnRlciBcdTYyMTZcdTkwMTdcdTUzRjdcdTYzRDBcdTRFQTRcdUZGMUJCYWNrc3BhY2UgXHU1MjIwXHU5NjY0XHU2NzAwXHU1NDBFXHU0RTAwXHU0RTJBXHJcblx0XHR0YWdzSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcblx0XHRcdGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJywnIHx8IGUua2V5ID09PSAnXHVGRjBDJykge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRpZiAodGFnc0lucHV0LnZhbHVlLnRyaW0oKSkgYWRkVGFnKHRhZ3NJbnB1dC52YWx1ZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGUua2V5ID09PSAnQmFja3NwYWNlJyAmJiAhdGFnc0lucHV0LnZhbHVlICYmIGN1cnJlbnRUYWdzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0cmVtb3ZlVGFnKGN1cnJlbnRUYWdzW2N1cnJlbnRUYWdzLmxlbmd0aCAtIDFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR0YWdzSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHRcdFx0aWYgKHRhZ3NJbnB1dC52YWx1ZS50cmltKCkpIGFkZFRhZyh0YWdzSW5wdXQudmFsdWUpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gXHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFXHJcblx0XHRjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRhY3Rpb25zLmNsYXNzTmFtZSA9ICdmb3JtLWFjdGlvbnMnO1xyXG5cdFx0Y29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRjYW5jZWxCdG4udHlwZSA9ICdidXR0b24nO1xyXG5cdFx0Y2FuY2VsQnRuLnRleHRDb250ZW50ID0gdCgnZm9ybS5hY3Rpb24uY2FuY2VsJyk7XHJcblx0XHRjYW5jZWxCdG4uY2xhc3NOYW1lID0gJ2Zvcm0tYnRuIGZvcm0tYnRuLXNlY29uZGFyeSc7XHJcblx0XHRjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdGRlbGV0ZUJ0bi50eXBlID0gJ2J1dHRvbic7XHJcblx0XHRkZWxldGVCdG4udGV4dENvbnRlbnQgPSB0KCdmb3JtLmFjdGlvbi5kZWxldGUnKTtcclxuXHRcdGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZm9ybS1idG4gZm9ybS1idG4tZGFuZ2VyJztcclxuXHRcdGNvbnN0IHNhdmVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdHNhdmVCdG4udHlwZSA9ICdzdWJtaXQnO1xyXG5cdFx0c2F2ZUJ0bi50ZXh0Q29udGVudCA9IHQoJ2Zvcm0uYWN0aW9uLnNhdmUnKTtcclxuXHRcdHNhdmVCdG4uY2xhc3NOYW1lID0gJ2Zvcm0tYnRuIGZvcm0tYnRuLXByaW1hcnknO1xyXG5cdFx0YWN0aW9ucy5hcHBlbmRDaGlsZChjYW5jZWxCdG4pO1xyXG5cdFx0aWYgKHRoaXMuYXNzZXQpIGFjdGlvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTtcclxuXHRcdGFjdGlvbnMuYXBwZW5kQ2hpbGQoc2F2ZUJ0bik7XHJcblx0XHRmb3JtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xyXG5cclxuXHRcdGNvbnRlbnQuYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblx0XHR0aGlzLm1vZGFsRWwuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcblx0XHR0aGlzLm1hc2tFbC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsRWwpO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm1hc2tFbCk7XHJcblxyXG5cdFx0Ly8gXHU0RThCXHU0RUY2XHJcblx0XHRjb25zdCBjbG9zZSA9ICgpID0+IHRoaXMuY2xvc2UoKTtcclxuXHRcdHRoaXMubWFza0VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsgaWYgKGUudGFyZ2V0ID09PSB0aGlzLm1hc2tFbCkgY2xvc2UoKTsgfSk7XHJcblx0XHRjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSk7XHJcblx0XHRpZiAodGhpcy5hc3NldCkge1xyXG5cdFx0XHRkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCF0aGlzLmFzc2V0KSByZXR1cm47XHJcblx0XHRcdFx0Y29uc3Qgb2sgPSBhd2FpdCBuZXcgQ29uZmlybU1vZGFsKHQoJ3ZpZXcuY29uZmlybURlbGV0ZUFzc2V0JywgeyBuYW1lOiB0aGlzLmFzc2V0Lm5hbWUgfSksIHQoJ2NvbW1vbi5kZWxldGUnKSwgdCgnY29tbW9uLmNhbmNlbCcpLCB0cnVlKS5vcGVuKCk7XHJcblx0XHRcdFx0aWYgKCFvaykgcmV0dXJuO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuYXNzZXRSZXBvc2l0b3J5LmRlbGV0ZUFzc2V0KHRoaXMuYXNzZXQuaWQpO1xyXG5cdFx0XHRcdGlmICh0aGlzLm9uU2F2ZWQpIHRoaXMub25TYXZlZCgpO1xyXG5cdFx0XHRcdGNsb3NlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZSkgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdC8vIFx1NkUwNVx1NzQwNlx1OEZDN1x1NUY4MFx1OTUxOVx1OEJFRlxyXG5cdFx0XHRjbGVhckVycm9yKG5hbWVHcm91cCk7IGNsZWFyRXJyb3IocHJpY2VHcm91cCk7IGNsZWFyRXJyb3IoZnJvbUdyb3VwKTsgY2xlYXJFcnJvcih0b0dyb3VwKTsgY2xlYXJFcnJvcihyZWN5Y2xlR3JvdXApO1xyXG5cdFx0XHQvLyBcdTU3RkFcdTc4NDBcdTVGQzVcdTU4NkJcdTRFMEVcdTY4M0NcdTVGMEZcdTY4MjFcdTlBOENcclxuXHRcdFx0Y29uc3QgbmFtZVZhbCA9IChuYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcclxuXHRcdFx0Y29uc3QgcHJpY2VTdHIgPSAocHJpY2VJbnB1dC52YWx1ZSB8fCAnJykudHJpbSgpO1xyXG5cdFx0XHRjb25zdCBwcmljZU51bSA9IHRoaXMucGFyc2VNb25leShwcmljZVN0cik7XHJcblx0XHRcdGxldCB2YWxpZCA9IHRydWU7XHJcblx0XHRcdGlmICghbmFtZVZhbCkgeyBzZXRFcnJvcihuYW1lR3JvdXAsIHQoJ2Zvcm0uZXJyb3IubmFtZVJlcXVpcmVkJykpOyB2YWxpZCA9IGZhbHNlOyB9XHJcblx0XHRcdGlmIChwcmljZU51bSA9PT0gbnVsbCkgeyBzZXRFcnJvcihwcmljZUdyb3VwLCB0KCdmb3JtLmVycm9yLnByaWNlSW52YWxpZCcpKTsgdmFsaWQgPSBmYWxzZTsgfVxyXG5cdFx0XHRpZiAoIWZyb21JbnB1dC52YWx1ZSkgeyBzZXRFcnJvcihmcm9tR3JvdXAsIHQoJ2Zvcm0uZXJyb3IuZnJvbVJlcXVpcmVkJykpOyB2YWxpZCA9IGZhbHNlOyB9XHJcblx0XHRcdGlmICghdmFsaWQpIHtcclxuXHRcdFx0XHRjb25zdCBmaXJzdEVyciA9IFtuYW1lR3JvdXAsIHByaWNlR3JvdXAsIGZyb21Hcm91cF0uZmluZChnID0+IGcuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYXMtZXJyb3InKSkgYXMgSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XHJcblx0XHRcdFx0aWYgKGZpcnN0RXJyKSB7XHJcblx0XHRcdFx0XHQoZmlyc3RFcnIucXVlcnlTZWxlY3RvcignaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCk/LmZvY3VzKCk7XHJcblx0XHRcdFx0XHRmaXJzdEVyci5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInIH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3QgZnJvbURhdGUgPSBuZXcgRGF0ZShmcm9tSW5wdXQudmFsdWUpO1xyXG5cdFx0XHRjb25zdCBwcmljZVZhbHVlID0gcHJpY2VOdW0gYXMgbnVtYmVyO1xyXG5cdFx0XHRsZXQgdG9EYXRlOiBEYXRlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRpZiAodG9JbnB1dC52YWx1ZSkge1xyXG5cdFx0XHRcdGNvbnN0IGQgPSBuZXcgRGF0ZSh0b0lucHV0LnZhbHVlKTtcclxuXHRcdFx0XHRpZiAoZC5nZXRUaW1lKCkgPCBmcm9tRGF0ZS5nZXRUaW1lKCkpIHsgc2V0RXJyb3IodG9Hcm91cCwgdCgnZm9ybS5lcnJvci50b0JlZm9yZUZyb20nKSk7ICh0b0dyb3VwLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGwpPy5mb2N1cygpOyByZXR1cm47IH1cclxuXHRcdFx0XHR0b0RhdGUgPSBkO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IHJlY3ljbGVTdHIgPSAocmVjeWNsZUlucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XHJcblx0XHRcdGNvbnN0IHJlY3ljbGVOdW0gPSByZWN5Y2xlU3RyID8gdGhpcy5wYXJzZU1vbmV5KHJlY3ljbGVTdHIpIDogMDtcclxuXHRcdFx0aWYgKHJlY3ljbGVTdHIgJiYgcmVjeWNsZU51bSA9PT0gbnVsbCkgeyBzZXRFcnJvcihyZWN5Y2xlR3JvdXAsIHQoJ2Zvcm0uZXJyb3IucmVjeWNsZUludmFsaWQnKSk7IHJldHVybjsgfVxyXG5cdFx0XHRpZiAoKHJlY3ljbGVOdW0gfHwgMCkgPiBwcmljZVZhbHVlKSB7IHNldEVycm9yKHJlY3ljbGVHcm91cCwgdCgnZm9ybS5lcnJvci5yZWN5Y2xlR3RQcmljZScpKTsgcmV0dXJuOyB9XHJcblxyXG5cdFx0XHRjb25zdCBhc3NldERhdGEgPSB7XHJcblx0XHRcdFx0aWQ6IHRoaXMuYXNzZXQ/LmlkIHx8IG5hbWVWYWwsXHJcblx0XHRcdFx0bmFtZTogbmFtZVZhbCxcclxuXHRcdFx0XHRpY29uOiBpY29uSW5wdXQudmFsdWUgfHwgJ1x1RDgzRFx1RENFNicsXHJcblx0XHRcdFx0cHJpY2U6IHByaWNlVmFsdWUsXHJcblx0XHRcdFx0YWN0aXZlRnJvbTogZnJvbURhdGUsXHJcblx0XHRcdFx0YWN0aXZlVG86IHRvRGF0ZSxcclxuXHRcdFx0XHRyZWN5Y2xlUHJpY2U6IHJlY3ljbGVOdW0gfHwgMCxcclxuXHRcdFx0XHR0YWdzOiBjdXJyZW50VGFnc1xyXG5cdFx0XHR9O1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IGFzc2V0ID0gbmV3IEFzc2V0KGFzc2V0RGF0YSk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5hc3NldFJlcG9zaXRvcnkuc2F2ZUFzc2V0KGFzc2V0KTtcclxuXHRcdFx0XHRpZiAodGhpcy5vblNhdmVkKSB0aGlzLm9uU2F2ZWQoKTtcclxuXHRcdFx0XHRjbG9zZSgpO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcblx0XHRcdFx0bmV3IE5vdGljZSh0KCdub3RpY2Uuc2F2ZUZhaWxlZCcsIHsgbXNnOiBlcnJvci5tZXNzYWdlIH0pKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGluamVjdEFzc2V0Rm9ybVN0eWxlcygpIHtcclxuXHRcdGNvbnN0IFNUWUxFX0lEID0gJ2Fzc2V0LWZvcm0taW5saW5lLXN0eWxlcyc7XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU1RZTEVfSUQpKSByZXR1cm47XHJcblx0XHRjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcblx0XHRzdHlsZS5pZCA9IFNUWUxFX0lEO1xyXG5cdFx0c3R5bGUudGV4dENvbnRlbnQgPSBgXHJcblx0XHRcdC8qIFx1NTIzMFx1NjcxRlx1OEY5M1x1NTE2NVx1NkUwNVx1OTY2NFx1NjMwOVx1OTRBRSAqL1xyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuaW5wdXQtd2l0aC1jbGVhciB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfVxyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuaW5wdXQtd2l0aC1jbGVhciAuaW5wdXQtY2xlYXIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiA2cHg7IHRvcDogNTAlOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7IHdpZHRoOiAxOHB4OyBoZWlnaHQ6IDE4cHg7IGJvcmRlci1yYWRpdXM6IDUwJTsgZGlzcGxheTogbm9uZTsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGZvbnQtc2l6ZTogMTRweDsgbGluZS1oZWlnaHQ6IDE4cHg7IH1cclxuXHRcdFx0LyogXHU1RjM5XHU3QTk3XHU1QkI5XHU1NjY4XHU2NkY0XHU3RDI3XHU1MUQxICovXHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIHsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IH1cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmRhdGUtcGlja2VyLWNvbnRlbnQgeyBwYWRkaW5nOiAxNnB4IDIwcHg7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGdhcDogMCAhaW1wb3J0YW50OyB9XHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5kYXRlLXBpY2tlci10aXRsZSB7IGZvbnQtc2l6ZTogMTRweDsgbWFyZ2luLWJvdHRvbTogNnB4OyB9XHJcblxyXG5cdFx0XHQvKiBcdTZBMkFcdTU0MTFcdTg4NjhcdTUzNTVcdTVFMDNcdTVDNDBcdUZGMENcdTUzOEJcdTdGMjlcdTU3ODJcdTc2RjRcdTdBN0FcdTc2N0QgKi9cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmFzc2V0LWZvcm0uYXNzZXQtZm9ybS0taG9yaXpvbnRhbCB7IGZvbnQtc2l6ZTogMTUuNXB4OyBkaXNwbGF5OiBncmlkICFpbXBvcnRhbnQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyByb3ctZ2FwOiA4cHggIWltcG9ydGFudDsgY29sdW1uLWdhcDogMCAhaW1wb3J0YW50OyBnYXA6IDhweCAhaW1wb3J0YW50OyB9XHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5hc3NldC1mb3JtLmFzc2V0LWZvcm0tLWhvcml6b250YWwgLmZvcm0tZ3JvdXAgeyBkaXNwbGF5OiBncmlkICFpbXBvcnRhbnQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogNjRweCAxZnI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGNvbHVtbi1nYXA6IDhweDsgcm93LWdhcDogMDsgbWFyZ2luOiAwICFpbXBvcnRhbnQ7IHBhZGRpbmc6IDAgIWltcG9ydGFudDsgfVxyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuYXNzZXQtZm9ybS5hc3NldC1mb3JtLS1ob3Jpem9udGFsIGxhYmVsIHsgbWluLXdpZHRoOiA2NHB4OyBtYXJnaW46IDA7IHRleHQtYWxpZ246IHJpZ2h0OyBqdXN0aWZ5LXNlbGY6IGVuZDsgfVxyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuYXNzZXQtZm9ybS5hc3NldC1mb3JtLS1ob3Jpem9udGFsIC5mb3JtLWZpZWxkIHsgd2lkdGg6IDEwMCU7IG1hcmdpbjogMCAhaW1wb3J0YW50OyBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7IH1cclxuXHRcdFx0LyogXHU1MzhCXHU3RjI5XHU4RjkzXHU1MTY1XHU2M0E3XHU0RUY2XHU5QUQ4XHU1RUE2XHU0RTBFXHU1MTg1XHU4RkI5XHU4REREICovXHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5hc3NldC1mb3JtLmFzc2V0LWZvcm0tLWhvcml6b250YWwgaW5wdXRbdHlwZT1cInRleHRcIl0sXHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5hc3NldC1mb3JtLmFzc2V0LWZvcm0tLWhvcml6b250YWwgaW5wdXRbdHlwZT1cIm51bWJlclwiXSB7IGhlaWdodDogMzJweDsgcGFkZGluZzogNHB4IDEwcHg7IGZvbnQtc2l6ZTogMTUuNXB4OyBsaW5lLWhlaWdodDogMS40NTsgfVxyXG5cdFx0XHQvKiBcdTY4MDdcdTdCN0VcdThGOTNcdTUxNjVcdTRFMEUgY2hpcCBcdTY2RjRcdTdEMjdcdTUxRDEgKi9cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmFzc2V0LWZvcm0uYXNzZXQtZm9ybS0taG9yaXpvbnRhbCAudGFncy1pbnB1dCB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtd3JhcDogd3JhcDsgZ2FwOiA0cHg7IH1cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmFzc2V0LWZvcm0uYXNzZXQtZm9ybS0taG9yaXpvbnRhbCAudGFnLWNoaXAgeyBmb250LXNpemU6IDEycHg7IGhlaWdodDogMThweDsgbGluZS1oZWlnaHQ6IDE4cHg7IHBhZGRpbmc6IDAgNnB4OyBib3JkZXItcmFkaXVzOiA0cHg7IH1cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmFzc2V0LWZvcm0uYXNzZXQtZm9ybS0taG9yaXpvbnRhbCAudGFnLWNoaXAgLnJlbW92ZSB7IHdpZHRoOiAxNnB4OyBoZWlnaHQ6IDE2cHg7IGxpbmUtaGVpZ2h0OiAxNnB4OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi1sZWZ0OiA0cHg7IH1cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmFzc2V0LWZvcm0uYXNzZXQtZm9ybS0taG9yaXpvbnRhbCAudGFncy1pbnB1dCBpbnB1dCB7IGZsZXg6IDE7IG1pbi13aWR0aDogMTIwcHg7IGhlaWdodDogMjhweDsgcGFkZGluZzogNHB4IDEwcHg7IGZvbnQtc2l6ZTogMTQuNXB4OyB9XHJcblxyXG5cdFx0XHQvKiBcdTVGQzVcdTU4NkJcdTRFMEVcdTk1MTlcdThCRUZcdTY4MzdcdTVGMEYgKi9cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmxhYmVsLXJlcXVpcmVkOjphZnRlciB7IGNvbnRlbnQ6ICcgKic7IGNvbG9yOiAjZmY0ZDRmOyBtYXJnaW4tbGVmdDogMnB4OyB9XHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5mb3JtLWdyb3VwLmhhcy1lcnJvciBpbnB1dFt0eXBlPVwidGV4dFwiXSxcclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmZvcm0tZ3JvdXAuaGFzLWVycm9yIGlucHV0W3R5cGU9XCJudW1iZXJcIl0geyBib3JkZXItY29sb3I6ICNmZjRkNGYgIWltcG9ydGFudDsgYm94LXNoYWRvdzogMCAwIDAgMXB4ICNmZjRkNGYgaW5zZXQ7IH1cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmZpZWxkLWVycm9yIHsgbWFyZ2luLXRvcDogNHB4OyBjb2xvcjogI2ZmODU4NzsgZm9udC1zaXplOiAxMnB4OyBsaW5lLWhlaWdodDogMS4zOyB9XHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5maWVsZC1lcnJvcjplbXB0eSB7IGRpc3BsYXk6IG5vbmU7IG1hcmdpbi10b3A6IDA7IH1cclxuXHJcblx0XHRcdC8qIFx1NjRDRFx1NEY1Q1x1NjMwOVx1OTRBRVx1NTMzQVx1NjZGNFx1N0QyN1x1NTFEMSAqL1xyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuZm9ybS1hY3Rpb25zIHsgbWFyZ2luLXRvcDogMTJweDsgZ2FwOiAxNnB4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgfVxyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuZm9ybS1idG4geyBoZWlnaHQ6IDM0cHg7IHBhZGRpbmc6IDAgMTRweDsgZm9udC1zaXplOiAxNHB4OyB9XHJcblx0XHRgO1xyXG5cdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFwcGx5Um93TGF5b3V0KGdyb3VwOiBIVE1MRWxlbWVudCkge1xyXG5cdFx0Z3JvdXAuc3R5bGUuZGlzcGxheSA9ICdncmlkJztcclxuXHRcdChncm91cC5zdHlsZSBhcyBhbnkpLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSAnNzJweCAxZnInO1xyXG5cdFx0Z3JvdXAuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xyXG5cdFx0Z3JvdXAuc3R5bGUuY29sdW1uR2FwID0gJzhweCc7XHJcblx0XHRncm91cC5zdHlsZS5yb3dHYXAgPSAnMHB4JztcclxuXHRcdGdyb3VwLnN0eWxlLm1hcmdpbiA9ICcwJztcclxuXHRcdGNvbnN0IGxhYmVsID0gZ3JvdXAucXVlcnlTZWxlY3RvcignbGFiZWwnKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XHJcblx0XHRpZiAobGFiZWwpIHtcclxuXHRcdFx0bGFiZWwuc3R5bGUubWluV2lkdGggPSAnNzJweCc7XHJcblx0XHRcdGxhYmVsLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuXHRcdFx0bGFiZWwuc3R5bGUubWFyZ2luID0gJzAnO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgZmllbGQgPSBncm91cC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1maWVsZCcpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHRcdGlmIChmaWVsZCkge1xyXG5cdFx0XHRmaWVsZC5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNsb3NlKCkge1xyXG5cdFx0aWYgKHRoaXMubWFza0VsICYmIHRoaXMubWFza0VsLnBhcmVudEVsZW1lbnQpIHtcclxuXHRcdFx0dGhpcy5tYXNrRWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLm1hc2tFbCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLm1hc2tFbCA9IHVuZGVmaW5lZDtcclxuXHRcdHRoaXMubW9kYWxFbCA9IHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZm9ybWF0RGF0ZUxvY2FsKGRhdGU6IERhdGUpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgZCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xyXG5cdFx0cmV0dXJuIGQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xyXG5cdH1cclxuXHJcblx0Ly8gXHUyMDE0XHUyMDE0IFx1OTFEMVx1OTg5RFx1NUI1N1x1N0IyNlx1NEUzMlx1NTkwNFx1NzQwNlx1RkYwOFx1NjIxMFx1NzE5Rlx1OTAzQlx1OEY5MVx1RkYwOVx1MjAxNFx1MjAxNFxyXG5cdHByaXZhdGUgc2FuaXRpemVOdW1lcmljU3RyaW5nKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0bGV0IHYgPSAodmFsdWUgfHwgJycpLnJlcGxhY2UoL1teXFxkLl0vZywgJycpOyAvLyBcdTRFQzVcdTY1NzBcdTVCNTdcdTU0OENcdTcwQjlcclxuXHRcdHYgPSB2LnJlcGxhY2UoL15cXC4vLCAnJyk7IC8vIFx1NTNCQlx1OTY2NFx1NUYwMFx1NTkzNFx1NzY4NFx1NzBCOVxyXG5cdFx0diA9IHYucmVwbGFjZSgvXFwuKD89LipcXC4pL2csICcnKTsgLy8gXHU1M0VBXHU0RkREXHU3NTU5XHU0RTAwXHU0RTJBXHU3MEI5XHJcblx0XHRyZXR1cm4gdjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY2xhbXBUd29EZWNpbWFsc1N0cmluZyh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IG0gPSAodmFsdWUgfHwgJycpLm1hdGNoKC9eKFxcZCspKD86XFwuKFxcZCopKT8kLyk7XHJcblx0XHRpZiAoIW0pIHJldHVybiAnJztcclxuXHRcdGNvbnN0IGludFBhcnQgPSBtWzFdO1xyXG5cdFx0Y29uc3QgZGVjUGFydCA9IChtWzJdIHx8ICcnKS5zbGljZSgwLCAyKTtcclxuXHRcdHJldHVybiBkZWNQYXJ0ID8gYCR7aW50UGFydH0uJHtkZWNQYXJ0fWAgOiBpbnRQYXJ0O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwYXJzZU1vbmV5KHZhbHVlOiBzdHJpbmcpOiBudW1iZXIgfCBudWxsIHtcclxuXHRcdGNvbnN0IHNhbml0aXplZCA9IHRoaXMuc2FuaXRpemVOdW1lcmljU3RyaW5nKHZhbHVlKTtcclxuXHRcdGNvbnN0IGNsYW1wZWQgPSB0aGlzLmNsYW1wVHdvRGVjaW1hbHNTdHJpbmcoc2FuaXRpemVkKTtcclxuXHRcdGlmIChjbGFtcGVkID09PSAnJykgcmV0dXJuIG51bGw7XHJcblx0XHRjb25zdCBudW0gPSBOdW1iZXIoY2xhbXBlZCk7XHJcblx0XHRyZXR1cm4gTnVtYmVyLmlzRmluaXRlKG51bSkgJiYgbnVtID49IDAgPyBudW0gOiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gXHU0RTBFIGNvc3RzZXRhcHAgXHU1QkY5XHU5RjUwXHVGRjFBXHU3NTI4IHN1cnJvZ2F0ZSBwYWlyIFx1NTMzOVx1OTE0RFx1ODNCN1x1NTNENlx1N0IyQ1x1NEUwMFx1NEUyQSBlbW9qaVxyXG5cdHByaXZhdGUgZ2V0Rmlyc3RFbW9qaUdyYXBoZW1lKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgZW1vamlSZWdleCA9IC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdLzsgLy8gY29zdHNldGFwcCBcdTU0MENcdTZCM0VcdTVCOUVcdTczQjBcclxuXHRcdGNvbnN0IG0gPSAoaW5wdXQgfHwgJycpLm1hdGNoKGVtb2ppUmVnZXgpO1xyXG5cdFx0cmV0dXJuIG0gPyBtWzBdIDogJyc7XHJcblx0fVxyXG5cclxuXHQvLyBcdTVGMzlcdTUxRkFcdTY1RTVcdTY3MUZcdTkwMDlcdTYyRTlcdTU2NjhcdUZGMDhcdTU5MERcdTc1MjhcdTY1RTVcdTY3MUYvXHU2ODA3XHU3QjdFXHU1RjM5XHU3QTk3XHU5OENFXHU2ODNDXHVGRjA5XHJcblx0cHJpdmF0ZSBvcGVuRGF0ZVBpY2tlcihjdXJyZW50RGF0ZTogRGF0ZSwgb25Db25maXJtOiAocGlja2VkOiBEYXRlKSA9PiB2b2lkKSB7XHJcblx0XHQvLyBcdTUyMUJcdTVFRkFcdTkwNkVcdTdGNjlcdTVDNDJcclxuXHRcdGNvbnN0IG1hc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdG1hc2suY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLW1hc2snO1xyXG5cclxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjVFNVx1NjcxRlx1OTAwOVx1NjJFOVx1NTY2OFx1NUYzOVx1N0E5N1xyXG5cdFx0Y29uc3QgcGlja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRwaWNrZXIuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLW1vZGFsJztcclxuXHJcblx0XHQvLyBcdTUyMUJcdTVFRkFcdTY1RTVcdTY3MUZcdTkwMDlcdTYyRTlcdTU2NjhcdTUxODVcdTVCQjlcclxuXHRcdGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdGNvbnRlbnQuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWNvbnRlbnQnO1xyXG5cclxuXHRcdC8vIFx1NjgwN1x1OTg5OFxyXG5cdFx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHRpdGxlLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci10aXRsZSc7XHJcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9IHQoJ2RhdGUucGljaycpO1xyXG5cclxuXHRcdC8vIFx1NEUwOVx1NTIxN1x1NkVEQVx1OEY2RVxyXG5cdFx0Y29uc3Qgd2hlZWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHdoZWVsQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdkYXRlLXdoZWVsLWNvbnRhaW5lcic7XHJcblxyXG5cdFx0Y29uc3QgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG5cdFx0Y29uc3QgY3VycmVudE1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKSArIDE7XHJcblx0XHRjb25zdCBjdXJyZW50RGF5ID0gY3VycmVudERhdGUuZ2V0RGF0ZSgpO1xyXG5cclxuXHRcdGNvbnN0IHllYXJDb2x1bW4gPSB0aGlzLmNyZWF0ZVdoZWVsQ29sdW1uKHQoJ2RhdGUueWVhcicpLCB0aGlzLmdlbmVyYXRlWWVhcnMoY3VycmVudFllYXIpLCBjdXJyZW50WWVhciwgKHllYXIpID0+IHtcclxuXHRcdFx0dGhpcy51cGRhdGVEYXlzQ29sdW1uKGRheUNvbHVtbiwgeWVhciwgbW9udGhDb2x1bW4uc2VsZWN0ZWRWYWx1ZSk7XHJcblx0XHR9LCBmYWxzZSk7XHJcblx0XHRjb25zdCBtb250aENvbHVtbiA9IHRoaXMuY3JlYXRlV2hlZWxDb2x1bW4odCgnZGF0ZS5tb250aCcpLCB0aGlzLmdlbmVyYXRlTW9udGhzKCksIGN1cnJlbnRNb250aCwgKG1vbnRoKSA9PiB7XHJcblx0XHRcdHRoaXMudXBkYXRlRGF5c0NvbHVtbihkYXlDb2x1bW4sIHllYXJDb2x1bW4uc2VsZWN0ZWRWYWx1ZSwgbW9udGgpO1xyXG5cdFx0fSwgdHJ1ZSk7XHJcblx0XHRjb25zdCBkYXlDb2x1bW4gPSB0aGlzLmNyZWF0ZVdoZWVsQ29sdW1uKHQoJ2RhdGUuZGF5JyksIHRoaXMuZ2VuZXJhdGVEYXlzKGN1cnJlbnRZZWFyLCBjdXJyZW50TW9udGgpLCBjdXJyZW50RGF5LCB1bmRlZmluZWQsIHRydWUpO1xyXG5cclxuXHRcdHdoZWVsQ29udGFpbmVyLmFwcGVuZENoaWxkKHllYXJDb2x1bW4uZWxlbWVudCk7XHJcblx0XHR3aGVlbENvbnRhaW5lci5hcHBlbmRDaGlsZChtb250aENvbHVtbi5lbGVtZW50KTtcclxuXHRcdHdoZWVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGRheUNvbHVtbi5lbGVtZW50KTtcclxuXHJcblx0XHQvLyBcdTYzMDlcdTk0QUVcclxuXHRcdGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdGFjdGlvbnMuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWFjdGlvbnMnO1xyXG5cdFx0Y29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRjYW5jZWxCdG4uY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWJ0biBkYXRlLXBpY2tlci1idG4tY2FuY2VsJztcclxuXHRcdGNhbmNlbEJ0bi50ZXh0Q29udGVudCA9IHQoJ2NvbW1vbi5jYW5jZWwnKTtcclxuXHRcdGNvbnN0IGNvbmZpcm1CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdGNvbmZpcm1CdG4uY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWJ0biBkYXRlLXBpY2tlci1idG4tY29uZmlybSc7XHJcblx0XHRjb25maXJtQnRuLnRleHRDb250ZW50ID0gdCgnY29tbW9uLmNvbmZpcm0nKTtcclxuXHJcblx0XHRhY3Rpb25zLmFwcGVuZENoaWxkKGNhbmNlbEJ0bik7XHJcblx0XHRhY3Rpb25zLmFwcGVuZENoaWxkKGNvbmZpcm1CdG4pO1xyXG5cdFx0Y29udGVudC5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblx0XHRjb250ZW50LmFwcGVuZENoaWxkKHdoZWVsQ29udGFpbmVyKTtcclxuXHRcdGNvbnRlbnQuYXBwZW5kQ2hpbGQoYWN0aW9ucyk7XHJcblx0XHRwaWNrZXIuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcblx0XHRtYXNrLmFwcGVuZENoaWxkKHBpY2tlcik7XHJcblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1hc2spO1xyXG5cclxuXHRcdGNvbnN0IGNsb3NlUGlja2VyID0gKCkgPT4geyBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1hc2spOyB9O1xyXG5cdFx0bWFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7IGlmIChlLnRhcmdldCA9PT0gbWFzaykgY2xvc2VQaWNrZXIoKTsgfSk7XHJcblx0XHRjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBpY2tlcik7XHJcblx0XHRjb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB5ZWFyID0geWVhckNvbHVtbi5zZWxlY3RlZFZhbHVlO1xyXG5cdFx0XHRjb25zdCBtb250aCA9IG1vbnRoQ29sdW1uLnNlbGVjdGVkVmFsdWU7XHJcblx0XHRcdGNvbnN0IGRheSA9IGRheUNvbHVtbi5zZWxlY3RlZFZhbHVlO1xyXG5cdFx0XHRjb25zdCBwaWNrZWQgPSBuZXcgRGF0ZShgJHt5ZWFyfS0ke21vbnRoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0tJHtkYXkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWApO1xyXG5cdFx0XHRvbkNvbmZpcm0ocGlja2VkKTtcclxuXHRcdFx0Y2xvc2VQaWNrZXIoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZW5lcmF0ZVllYXJzKGN1cnJlbnRZZWFyOiBudW1iZXIpOiBudW1iZXJbXSB7XHJcblx0XHRjb25zdCBtaW5ZZWFyID0gMTkwMDtcclxuXHRcdGNvbnN0IG5vd1llYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XHJcblx0XHRjb25zdCBtYXhZZWFyID0gbm93WWVhciArIDc7XHJcblx0XHRjb25zdCB5ZWFyczogbnVtYmVyW10gPSBbXTtcclxuXHRcdGZvciAobGV0IGkgPSBtaW5ZZWFyOyBpIDw9IG1heFllYXI7IGkrKykgeWVhcnMucHVzaChpKTtcclxuXHRcdHJldHVybiB5ZWFycztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2VuZXJhdGVNb250aHMoKTogbnVtYmVyW10ge1xyXG5cdFx0cmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IDEyIH0sIChfLCBpKSA9PiBpICsgMSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdlbmVyYXRlRGF5cyh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpOiBudW1iZXJbXSB7XHJcblx0XHRjb25zdCBkYXlzSW5Nb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAwKS5nZXREYXRlKCk7XHJcblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogZGF5c0luTW9udGggfSwgKF8sIGkpID0+IGkgKyAxKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlV2hlZWxDb2x1bW4oc3VmZml4OiBzdHJpbmcsIHZhbHVlczogbnVtYmVyW10sIHNlbGVjdGVkVmFsdWU6IG51bWJlciwgb25DaGFuZ2U/OiAodmFsdWU6IG51bWJlcikgPT4gdm9pZCwgaXNJbmZpbml0ZTogYm9vbGVhbiA9IGZhbHNlKTogeyBlbGVtZW50OiBIVE1MRWxlbWVudCwgc2VsZWN0ZWRWYWx1ZTogbnVtYmVyIH0ge1xyXG5cdFx0Y29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRjb2x1bW4uY2xhc3NOYW1lID0gJ2RhdGUtd2hlZWwtY29sdW1uJztcclxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0Y29udGFpbmVyLmNsYXNzTmFtZSA9ICdkYXRlLXdoZWVsLWl0ZW1zJztcclxuXHJcblx0XHRsZXQgc2VsZWN0ZWRJbmRleCA9IHZhbHVlcy5pbmRleE9mKHNlbGVjdGVkVmFsdWUpO1xyXG5cdFx0bGV0IGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHRcdGNvbnN0IGFwaSA9IHsgZWxlbWVudDogY29sdW1uLCBzZWxlY3RlZFZhbHVlOiBjdXJyZW50U2VsZWN0ZWRWYWx1ZSB9O1xyXG5cdFx0Y29uc3QgaXRlbUhlaWdodCA9IDQwO1xyXG5cclxuXHRcdGlmIChpc0luZmluaXRlKSB7XHJcblx0XHRcdGNvbnN0IHJlcGVhdENvdW50ID0gNTtcclxuXHRcdFx0Y29uc3QgdG90YWxJdGVtcyA9IHZhbHVlcy5sZW5ndGggKiByZXBlYXRDb3VudDtcclxuXHRcdFx0Y29uc3QgbWlkZGxlR3JvdXBJbmRleCA9IDI7XHJcblx0XHRcdGNvbnN0IGluaXRpYWxTY3JvbGxUb3AgPSBtaWRkbGVHcm91cEluZGV4ICogdmFsdWVzLmxlbmd0aCAqIGl0ZW1IZWlnaHQgKyBzZWxlY3RlZEluZGV4ICogaXRlbUhlaWdodDtcclxuXHRcdFx0Zm9yIChsZXQgcmVwZWF0ID0gMDsgcmVwZWF0IDwgcmVwZWF0Q291bnQ7IHJlcGVhdCsrKSB7XHJcblx0XHRcdFx0dmFsdWVzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnZGF0ZS13aGVlbC1pdGVtJztcclxuXHRcdFx0XHRcdGl0ZW0udGV4dENvbnRlbnQgPSBgJHt2YWx1ZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9JHtzdWZmaXh9YDtcclxuXHRcdFx0XHRcdGl0ZW0uZGF0YXNldC52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0XHRpdGVtLmRhdGFzZXQuaW5kZXggPSAocmVwZWF0ICogdmFsdWVzLmxlbmd0aCArIGluZGV4KS50b1N0cmluZygpO1xyXG5cdFx0XHRcdFx0aXRlbS5kYXRhc2V0LnJlYWxWYWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3RvdGFsSXRlbXMgKiBpdGVtSGVpZ2h0fXB4YDtcclxuXHRcdFx0Y29uc3QgaW5pdGlhbEl0ZW1JbmRleCA9IG1pZGRsZUdyb3VwSW5kZXggKiB2YWx1ZXMubGVuZ3RoICsgc2VsZWN0ZWRJbmRleDtcclxuXHRcdFx0Y29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS13aGVlbC1pdGVtJykpIGFzIEhUTUxFbGVtZW50W107XHJcblx0XHRcdGlmIChpdGVtc1tpbml0aWFsSXRlbUluZGV4XSkge1xyXG5cdFx0XHRcdGl0ZW1zLmZvckVhY2goKGVsLCBpZHgpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaWR4ID09PSBpbml0aWFsSXRlbUluZGV4KSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuXHRcdFx0XHRjb250YWluZXIuc2Nyb2xsVG9wID0gaW5pdGlhbFNjcm9sbFRvcDtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGxldCBpc1Njcm9sbGluZyA9IGZhbHNlO1xyXG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChpc1Njcm9sbGluZykgcmV0dXJuO1xyXG5cdFx0XHRcdGNvbnN0IHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudEluZGV4ID0gTWF0aC5yb3VuZChzY3JvbGxUb3AgLyBpdGVtSGVpZ2h0KTtcclxuXHRcdFx0XHRjb25zdCByZWFsSW5kZXggPSAoKGN1cnJlbnRJbmRleCAlIHZhbHVlcy5sZW5ndGgpICsgdmFsdWVzLmxlbmd0aCkgJSB2YWx1ZXMubGVuZ3RoO1xyXG5cdFx0XHRcdGNvbnN0IHJlYWxWYWx1ZSA9IHZhbHVlc1tyZWFsSW5kZXhdO1xyXG5cdFx0XHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS13aGVlbC1pdGVtJykuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGl0ZW1SZWFsSW5kZXggPSBpbmRleCAlIHZhbHVlcy5sZW5ndGg7XHJcblx0XHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaXRlbVJlYWxJbmRleCA9PT0gcmVhbEluZGV4KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRzZWxlY3RlZEluZGV4ID0gcmVhbEluZGV4O1xyXG5cdFx0XHRcdGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gcmVhbFZhbHVlO1xyXG5cdFx0XHRcdChhcGkgYXMgYW55KS5zZWxlY3RlZFZhbHVlID0gcmVhbFZhbHVlO1xyXG5cdFx0XHRcdGlmIChvbkNoYW5nZSkgb25DaGFuZ2UoY3VycmVudFNlbGVjdGVkVmFsdWUpO1xyXG5cdFx0XHRcdGNvbnN0IG1heFNjcm9sbFRvcCA9IChyZXBlYXRDb3VudCAtIDEpICogdmFsdWVzLmxlbmd0aCAqIGl0ZW1IZWlnaHQ7XHJcblx0XHRcdFx0aWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGxUb3ApIHtcclxuXHRcdFx0XHRcdGlzU2Nyb2xsaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGNvbnN0IG9mZnNldCA9IHNjcm9sbFRvcCAtIG1heFNjcm9sbFRvcDtcclxuXHRcdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSB2YWx1ZXMubGVuZ3RoICogaXRlbUhlaWdodCArIG9mZnNldDtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBpc1Njcm9sbGluZyA9IGZhbHNlOyB9LCA1MCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChzY3JvbGxUb3AgPD0gMCkge1xyXG5cdFx0XHRcdFx0aXNTY3JvbGxpbmcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0Y29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wO1xyXG5cdFx0XHRcdFx0Y29udGFpbmVyLnNjcm9sbFRvcCA9IChyZXBlYXRDb3VudCAtIDIpICogdmFsdWVzLmxlbmd0aCAqIGl0ZW1IZWlnaHQgKyBvZmZzZXQ7XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHsgaXNTY3JvbGxpbmcgPSBmYWxzZTsgfSwgNTApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBcdTUxNDFcdThCQjhcdTc2RjRcdTYzQTVcdTcwQjlcdTUxRkJcdTkwMDlcdTYyRTlcclxuXHRcdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRcdGNvbnN0IGl0ZW1FbCA9IHRhcmdldCAmJiB0YXJnZXQuY2xvc2VzdCA/ICh0YXJnZXQuY2xvc2VzdCgnLmRhdGUtd2hlZWwtaXRlbScpIGFzIEhUTUxFbGVtZW50IHwgbnVsbCkgOiBudWxsO1xyXG5cdFx0XHRcdGlmICghaXRlbUVsKSByZXR1cm47XHJcblx0XHRcdFx0Y29uc3QgY2xpY2tlZEluZGV4ID0gTnVtYmVyKGl0ZW1FbC5kYXRhc2V0LmluZGV4IHx8ICcwJyk7XHJcblx0XHRcdFx0Y29uc3QgcmVhbEluZGV4ID0gKChjbGlja2VkSW5kZXggJSB2YWx1ZXMubGVuZ3RoKSArIHZhbHVlcy5sZW5ndGgpICUgdmFsdWVzLmxlbmd0aDtcclxuXHRcdFx0XHRjb25zdCBtaWRkbGVJbmRleCA9IG1pZGRsZUdyb3VwSW5kZXggKiB2YWx1ZXMubGVuZ3RoICsgcmVhbEluZGV4O1xyXG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBtaWRkbGVJbmRleCAqIGl0ZW1IZWlnaHQ7XHJcblx0XHRcdFx0c2VsZWN0ZWRJbmRleCA9IHJlYWxJbmRleDtcclxuXHRcdFx0XHRjdXJyZW50U2VsZWN0ZWRWYWx1ZSA9IHZhbHVlc1tyZWFsSW5kZXhdO1xyXG5cdFx0XHRcdChhcGkgYXMgYW55KS5zZWxlY3RlZFZhbHVlID0gY3VycmVudFNlbGVjdGVkVmFsdWU7XHJcblx0XHRcdFx0aWYgKG9uQ2hhbmdlKSBvbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRWYWx1ZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFsdWVzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRpdGVtLmNsYXNzTmFtZSA9ICdkYXRlLXdoZWVsLWl0ZW0nO1xyXG5cdFx0XHRcdGl0ZW0udGV4dENvbnRlbnQgPSBgJHt2YWx1ZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9JHtzdWZmaXh9YDtcclxuXHRcdFx0XHRpdGVtLmRhdGFzZXQudmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xyXG5cdFx0XHRcdGl0ZW0uZGF0YXNldC5pbmRleCA9IGluZGV4LnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0aWYgKHZhbHVlID09PSBjdXJyZW50U2VsZWN0ZWRWYWx1ZSkgaXRlbS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG5cdFx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChpdGVtKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcclxuXHRcdFx0XHRjb25zdCBuZXdJbmRleCA9IE1hdGgucm91bmQoc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCk7XHJcblx0XHRcdFx0aWYgKG5ld0luZGV4ICE9PSBzZWxlY3RlZEluZGV4ICYmIG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCB2YWx1ZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnLCBpbmRleCA9PT0gbmV3SW5kZXgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRzZWxlY3RlZEluZGV4ID0gbmV3SW5kZXg7XHJcblx0XHRcdFx0XHRjdXJyZW50U2VsZWN0ZWRWYWx1ZSA9IHZhbHVlc1tuZXdJbmRleF07XHJcblx0XHRcdFx0XHQoYXBpIGFzIGFueSkuc2VsZWN0ZWRWYWx1ZSA9IGN1cnJlbnRTZWxlY3RlZFZhbHVlO1xyXG5cdFx0XHRcdFx0aWYgKG9uQ2hhbmdlKSBvbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRWYWx1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly8gXHU1MTQxXHU4QkI4XHU3NkY0XHU2M0E1XHU3MEI5XHU1MUZCXHU5MDA5XHU2MkU5XHJcblx0XHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRjb25zdCBpdGVtRWwgPSB0YXJnZXQgJiYgdGFyZ2V0LmNsb3Nlc3QgPyAodGFyZ2V0LmNsb3Nlc3QoJy5kYXRlLXdoZWVsLWl0ZW0nKSBhcyBIVE1MRWxlbWVudCB8IG51bGwpIDogbnVsbDtcclxuXHRcdFx0XHRpZiAoIWl0ZW1FbCkgcmV0dXJuO1xyXG5cdFx0XHRcdGNvbnN0IGlkeCA9IE51bWJlcihpdGVtRWwuZGF0YXNldC5pbmRleCB8fCAnMCcpO1xyXG5cdFx0XHRcdC8vIFx1N0FDQlx1NTM3M1x1NjZGNFx1NjVCMFx1OTAwOVx1NEUyRFx1NjgzN1x1NUYwRlxyXG5cdFx0XHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS13aGVlbC1pdGVtJykuZm9yRWFjaCgoZWwsIGkpID0+IHtcclxuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaSA9PT0gaWR4KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRjb250YWluZXIuc2Nyb2xsVG9wID0gaWR4ICogaXRlbUhlaWdodDtcclxuXHRcdFx0XHRzZWxlY3RlZEluZGV4ID0gaWR4O1xyXG5cdFx0XHRcdGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gdmFsdWVzW2lkeF07XHJcblx0XHRcdFx0KGFwaSBhcyBhbnkpLnNlbGVjdGVkVmFsdWUgPSBjdXJyZW50U2VsZWN0ZWRWYWx1ZTtcclxuXHRcdFx0XHRpZiAob25DaGFuZ2UpIG9uQ2hhbmdlKGN1cnJlbnRTZWxlY3RlZFZhbHVlKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBjb250YWluZXIuc2Nyb2xsVG9wID0gc2VsZWN0ZWRJbmRleCAqIGl0ZW1IZWlnaHQ7IH0sIDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbHVtbi5hcHBlbmRDaGlsZChjb250YWluZXIpO1xyXG5cdFx0cmV0dXJuIGFwaSBhcyBhbnk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZURheXNDb2x1bW4oZGF5Q29sdW1uOiB7IGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzZWxlY3RlZFZhbHVlOiBudW1iZXIgfSwgeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKTogdm9pZCB7XHJcblx0XHRjb25zdCBjb250YWluZXIgPSBkYXlDb2x1bW4uZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZS13aGVlbC1pdGVtcycpIGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0Y29uc3QgY3VycmVudERheSA9IGRheUNvbHVtbi5zZWxlY3RlZFZhbHVlO1xyXG5cdFx0Y29uc3QgbmV3RGF5cyA9IHRoaXMuZ2VuZXJhdGVEYXlzKHllYXIsIG1vbnRoKTtcclxuXHRcdC8vIFx1NUI4OVx1NTE2OFx1NkUwNVx1N0E3QVx1NUJCOVx1NTY2OFx1RkYwQ1x1OTA3Rlx1NTE0RFx1NEY3Rlx1NzUyOCBpbm5lckhUTUxcclxuXHRcdHdoaWxlIChjb250YWluZXIuZmlyc3RDaGlsZCkgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5maXJzdENoaWxkKTtcclxuXHRcdGNvbnN0IHJlcGVhdENvdW50ID0gNTtcclxuXHRcdGNvbnN0IGl0ZW1IZWlnaHQgPSA0MDtcclxuXHRcdGNvbnN0IG1pZGRsZUdyb3VwSW5kZXggPSAyO1xyXG5cdFx0Y29uc3QgbWF4RGF5ID0gTWF0aC5tYXgoLi4ubmV3RGF5cyk7XHJcblx0XHRjb25zdCBzZWxlY3RlZERheSA9IE1hdGgubWluKGN1cnJlbnREYXksIG1heERheSk7XHJcblx0XHRjb25zdCBzZWxlY3RlZEluZGV4ID0gbmV3RGF5cy5pbmRleE9mKHNlbGVjdGVkRGF5KTtcclxuXHRcdGZvciAobGV0IHJlcGVhdCA9IDA7IHJlcGVhdCA8IHJlcGVhdENvdW50OyByZXBlYXQrKykge1xyXG5cdFx0XHRuZXdEYXlzLmZvckVhY2goKGRheSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnZGF0ZS13aGVlbC1pdGVtJztcclxuXHRcdFx0XHRpdGVtLnRleHRDb250ZW50ID0gYCR7ZGF5LnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0ke3QoJ2RhdGUuZGF5Jyl9YDtcclxuXHRcdFx0XHRpdGVtLmRhdGFzZXQudmFsdWUgPSBkYXkudG9TdHJpbmcoKTtcclxuXHRcdFx0XHRpdGVtLmRhdGFzZXQuaW5kZXggPSAocmVwZWF0ICogbmV3RGF5cy5sZW5ndGggKyBpbmRleCkudG9TdHJpbmcoKTtcclxuXHRcdFx0XHRpdGVtLmRhdGFzZXQucmVhbFZhbHVlID0gZGF5LnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtuZXdEYXlzLmxlbmd0aCAqIHJlcGVhdENvdW50ICogaXRlbUhlaWdodH1weGA7XHJcblx0XHRjb25zdCBpbml0aWFsSXRlbUluZGV4RGF5ID0gbWlkZGxlR3JvdXBJbmRleCAqIG5ld0RheXMubGVuZ3RoICsgc2VsZWN0ZWRJbmRleDtcclxuXHRcdGNvbnN0IGRheUl0ZW1zID0gQXJyYXkuZnJvbShjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpKSBhcyBIVE1MRWxlbWVudFtdO1xyXG5cdFx0aWYgKGRheUl0ZW1zW2luaXRpYWxJdGVtSW5kZXhEYXldKSB7XHJcblx0XHRcdGRheUl0ZW1zLmZvckVhY2goKGVsLCBpZHgpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaWR4ID09PSBpbml0aWFsSXRlbUluZGV4RGF5KSk7XHJcblx0XHR9XHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4geyBjb250YWluZXIuc2Nyb2xsVG9wID0gbWlkZGxlR3JvdXBJbmRleCAqIG5ld0RheXMubGVuZ3RoICogaXRlbUhlaWdodCArIHNlbGVjdGVkSW5kZXggKiBpdGVtSGVpZ2h0OyB9KTtcclxuXHRcdGxldCBpc1Njcm9sbGluZyA9IGZhbHNlO1xyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcclxuXHRcdFx0aWYgKGlzU2Nyb2xsaW5nKSByZXR1cm47XHJcblx0XHRcdGNvbnN0IHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IE1hdGgucm91bmQoc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCk7XHJcblx0XHRcdGNvbnN0IHJlYWxJbmRleCA9IGN1cnJlbnRJbmRleCAlIG5ld0RheXMubGVuZ3RoO1xyXG5cdFx0XHRjb25zdCByZWFsVmFsdWUgPSBuZXdEYXlzW3JlYWxJbmRleF07XHJcblx0XHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS13aGVlbC1pdGVtJykuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBpdGVtUmVhbEluZGV4ID0gaW5kZXggJSBuZXdEYXlzLmxlbmd0aDtcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaXRlbVJlYWxJbmRleCA9PT0gcmVhbEluZGV4KTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdChkYXlDb2x1bW4gYXMgYW55KS5zZWxlY3RlZFZhbHVlID0gcmVhbFZhbHVlO1xyXG5cdFx0XHRjb25zdCBtYXhTY3JvbGxUb3AgPSAocmVwZWF0Q291bnQgLSAxKSAqIG5ld0RheXMubGVuZ3RoICogaXRlbUhlaWdodDtcclxuXHRcdFx0aWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGxUb3ApIHtcclxuXHRcdFx0XHRpc1Njcm9sbGluZyA9IHRydWU7XHJcblx0XHRcdFx0Y29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wIC0gbWF4U2Nyb2xsVG9wO1xyXG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBuZXdEYXlzLmxlbmd0aCAqIGl0ZW1IZWlnaHQgKyBvZmZzZXQ7XHJcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7IGlzU2Nyb2xsaW5nID0gZmFsc2U7IH0sIDUwKTtcclxuXHRcdFx0fSBlbHNlIGlmIChzY3JvbGxUb3AgPD0gMCkge1xyXG5cdFx0XHRcdGlzU2Nyb2xsaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHRjb25zdCBvZmZzZXQgPSBzY3JvbGxUb3A7XHJcblx0XHRcdFx0Y29udGFpbmVyLnNjcm9sbFRvcCA9IChyZXBlYXRDb3VudCAtIDIpICogbmV3RGF5cy5sZW5ndGggKiBpdGVtSGVpZ2h0ICsgb2Zmc2V0O1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBpc1Njcm9sbGluZyA9IGZhbHNlOyB9LCA1MCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1NTE0MVx1OEJCOFx1NzZGNFx1NjNBNVx1NzBCOVx1NTFGQlx1OTAwOVx1NjJFOVx1NjdEMFx1NEUwMFx1NTkyOVxyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XHJcblx0XHRcdGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0Y29uc3QgaXRlbUVsID0gdGFyZ2V0ICYmIHRhcmdldC5jbG9zZXN0ID8gKHRhcmdldC5jbG9zZXN0KCcuZGF0ZS13aGVlbC1pdGVtJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsKSA6IG51bGw7XHJcblx0XHRcdGlmICghaXRlbUVsKSByZXR1cm47XHJcblx0XHRcdGNvbnN0IGNsaWNrZWRJbmRleCA9IE51bWJlcihpdGVtRWwuZGF0YXNldC5pbmRleCB8fCAnMCcpO1xyXG5cdFx0XHRjb25zdCByZWFsSW5kZXggPSBjbGlja2VkSW5kZXggJSBuZXdEYXlzLmxlbmd0aDtcclxuXHRcdFx0Y29uc3QgbWlkZGxlSW5kZXggPSBtaWRkbGVHcm91cEluZGV4ICogbmV3RGF5cy5sZW5ndGggKyByZWFsSW5kZXg7XHJcblx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBtaWRkbGVJbmRleCAqIGl0ZW1IZWlnaHQ7XHJcblx0XHRcdChkYXlDb2x1bW4gYXMgYW55KS5zZWxlY3RlZFZhbHVlID0gbmV3RGF5c1tyZWFsSW5kZXhdO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdHByaXZhdGUgY3JlYXRlTGFiZWwodGV4dDogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xyXG5cdFx0Y29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG5cdFx0ZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG5cdFx0cmV0dXJuIGVsO1xyXG5cdH1cclxufVxyXG4iLCAiZXhwb3J0IGNsYXNzIENvbmZpcm1Nb2RhbCB7XHJcbiAgICBwcml2YXRlIG1hc2tFbD86IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBtb2RhbEVsPzogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgcHJpdmF0ZSBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGNvbmZpcm1UZXh0OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGNhbmNlbFRleHQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgZGFuZ2VyOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgY29uZmlybVRleHQ6IHN0cmluZyA9ICdcdTc4NkVcdTVCOUEnLCBjYW5jZWxUZXh0OiBzdHJpbmcgPSAnXHU1M0Q2XHU2RDg4JywgZGFuZ2VyOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gICAgICAgIHRoaXMuY29uZmlybVRleHQgPSBjb25maXJtVGV4dDtcclxuICAgICAgICB0aGlzLmNhbmNlbFRleHQgPSBjYW5jZWxUZXh0O1xyXG4gICAgICAgIHRoaXMuZGFuZ2VyID0gZGFuZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5qZWN0U3R5bGVzT25jZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXNrRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgdGhpcy5tYXNrRWwuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLW1hc2snO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tb2RhbEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kYWxFbC5jbGFzc05hbWUgPSAnZGF0ZS1waWNrZXItbW9kYWwnO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBjb250ZW50LmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci1jb250ZW50JztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci10aXRsZSc7XHJcbiAgICAgICAgICAgIC8vIFx1NjgwN1x1OTg5OFx1OTY4Rlx1OEJFRFx1OEEwMFxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB0IH0gPSByZXF1aXJlKCcuLi8uLi9pMThuJyk7XHJcbiAgICAgICAgICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IHQoJ2NvbmZpcm0udGl0bGUnKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoXykge1xyXG4gICAgICAgICAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSAnXHU3ODZFXHU4QkE0XHU2NENEXHU0RjVDJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgbXNnRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgbXNnRWwuY2xhc3NOYW1lID0gJ2NvbmZpcm0tbWVzc2FnZSc7XHJcbiAgICAgICAgICAgIG1zZ0VsLnRleHRDb250ZW50ID0gdGhpcy5tZXNzYWdlO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBhY3Rpb25zLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci1hY3Rpb25zJztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBjYW5jZWxCdG4uY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWJ0biBkYXRlLXBpY2tlci1idG4tY2FuY2VsJztcclxuICAgICAgICAgICAgY2FuY2VsQnRuLnRleHRDb250ZW50ID0gdGhpcy5jYW5jZWxUZXh0O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29uZmlybUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBjb25maXJtQnRuLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci1idG4gZGF0ZS1waWNrZXItYnRuLWNvbmZpcm0nO1xyXG4gICAgICAgICAgICBjb25maXJtQnRuLnRleHRDb250ZW50ID0gdGhpcy5jb25maXJtVGV4dDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGFuZ2VyKSBjb25maXJtQnRuLmNsYXNzTGlzdC5hZGQoJ2RhbmdlcicpO1xyXG5cclxuICAgICAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChjYW5jZWxCdG4pO1xyXG4gICAgICAgICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGNvbmZpcm1CdG4pO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChtc2dFbCk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoYWN0aW9ucyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kYWxFbC5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYXNrRWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbEVsKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm1hc2tFbCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjbG9zZSA9IChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hc2tFbCAmJiB0aGlzLm1hc2tFbC5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXNrRWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLm1hc2tFbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tFbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kYWxFbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWFza0VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsgaWYgKGUudGFyZ2V0ID09PSB0aGlzLm1hc2tFbCkgY2xvc2UoZmFsc2UpOyB9KTtcclxuICAgICAgICAgICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2xvc2UoZmFsc2UpKTtcclxuICAgICAgICAgICAgY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlKHRydWUpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluamVjdFN0eWxlc09uY2UoKSB7XHJcbiAgICAgICAgY29uc3QgU1RZTEVfSUQgPSAnbGFjLWNvbmZpcm0tbW9kYWwtc3R5bGVzJztcclxuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU1RZTEVfSUQpKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG4gICAgICAgIHN0eWxlLmlkID0gU1RZTEVfSUQ7XHJcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXHJcbiAgICAgICAgICAgIC5kYXRlLXBpY2tlci1tb2RhbCAuY29uZmlybS1tZXNzYWdlIHsgY29sb3I6ICNGNUY2RkE7IGxpbmUtaGVpZ2h0OiAxLjY7IHBhZGRpbmc6IDhweCAwIDE2cHg7IH1cclxuICAgICAgICAgICAgLmRhdGUtcGlja2VyLW1vZGFsIC5kYXRlLXBpY2tlci1idG4uZGFuZ2VyIHsgYmFja2dyb3VuZDogIzdhMWUxZTsgY29sb3I6ICNmZmY7IH1cclxuICAgICAgICAgICAgLmRhdGUtcGlja2VyLW1vZGFsIC5kYXRlLXBpY2tlci1idG4uZGFuZ2VyOmhvdmVyIHsgYmFja2dyb3VuZDogIzk5MjUyNTsgfVxyXG4gICAgICAgIGA7XHJcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iLCAiaW1wb3J0IHsgQXNzZXRGb3JtTW9kYWwgfSBmcm9tICcuL21vZGFscy9Bc3NldEZvcm1Nb2RhbCc7XG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgQ29uZmlybU1vZGFsIH0gZnJvbSAnLi9tb2RhbHMvQ29uZmlybU1vZGFsJztcbmltcG9ydCB7IEFzc2V0UmVwb3NpdG9yeSB9IGZyb20gJy4uL3JlcG9zaXRvcmllcy9Bc3NldFJlcG9zaXRvcnknO1xuaW1wb3J0IHsgQXNzZXQgfSBmcm9tICcuLi9tb2RlbHMvQXNzZXQnO1xuaW1wb3J0IHsgVG9wU3VtbWFyeSwgVG9wU3VtbWFyeVByb3BzIH0gZnJvbSAnLi9Ub3BTdW1tYXJ5JztcbmltcG9ydCB7IExpbmVDaGFydCwgTGluZUNoYXJ0UHJvcHMgfSBmcm9tICcuL0xpbmVDaGFydCc7XG5pbXBvcnQgeyBUYWdQYW5lbCwgVGFnUGFuZWxQcm9wcyB9IGZyb20gJy4vVGFnUGFuZWwnO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uL2kxOG4nO1xuXG4vLyBcdThENDRcdTRFQTdcdTdCQTFcdTc0MDZcdTU2NjhcdTg5QzZcdTU2RkVcbmV4cG9ydCBjbGFzcyBBc3NldE1hbmFnZXJWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuXHRwcml2YXRlIGFzc2V0UmVwb3NpdG9yeTogQXNzZXRSZXBvc2l0b3J5O1xuXHRwcml2YXRlIGFzc2V0czogQXNzZXRbXSA9IFtdO1xuXHRwcml2YXRlIGZpbGVQYXRoPzogc3RyaW5nO1xuXHRwcml2YXRlIHRvcFN1bW1hcnlDb21wb25lbnQ/OiBUb3BTdW1tYXJ5O1xuXHRwcml2YXRlIHRhZ1BhbmVsQ29tcG9uZW50PzogVGFnUGFuZWw7XG5cdHByaXZhdGUgc2VsZWN0ZWREYXRlPzogRGF0ZTsgLy8gXHU1RjUzXHU1MjREXHU5MDA5XHU2MkU5XHU3Njg0XHU2NUU1XHU2NzFGXG5cdHByaXZhdGUgc2VsZWN0ZWRUYWdzOiBzdHJpbmdbXSA9IFtdOyAvLyBcdTVGNTNcdTUyNERcdTkwMDlcdTYyRTlcdTc2ODRcdTY4MDdcdTdCN0Vcblx0cHJpdmF0ZSBhY3Rpb25CYXJFbD86IEhUTUxFbGVtZW50OyAvLyBcdTk4NzZcdTkwRThcdTdFREZcdThCQTFcdTRFMEJcdTY1QjlcdTc2ODRcdTYzMDlcdTk0QUVcdTUzNjFcdTcyNDdcblx0cHJpdmF0ZSBzZWFyY2hRdWVyeTogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBzb3J0TW9kZTogJ25vbmUnIHwgJ2RhaWx5RGVzYycgfCAncHJpY2VEZXNjJyB8ICdkYXRlRGVzYycgPSAnbm9uZSc7XG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgYXNzZXRSZXBvc2l0b3J5OiBBc3NldFJlcG9zaXRvcnksIGZpbGVQYXRoPzogc3RyaW5nKSB7XG5cdFx0c3VwZXIobGVhZik7XG5cdFx0dGhpcy5hc3NldFJlcG9zaXRvcnkgPSBhc3NldFJlcG9zaXRvcnk7XG5cdFx0dGhpcy5maWxlUGF0aCA9IGZpbGVQYXRoO1xuXHRcdHRoaXMuc2VsZWN0ZWREYXRlID0gbmV3IERhdGUoKTsgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU0RTNBXHU1RjUzXHU1MjREXHU2NUU1XHU2NzFGXG5cdH1cblxuXHRnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiAnbGFjLWNvc3RzZXQtdmlldyc7XG5cdH1cblxuXHRnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiAnTGFDLkNvc3RTZXQnO1xuXHR9XG5cblx0Z2V0SWNvbigpOiBzdHJpbmcge1xuXHRcdHJldHVybiAncGFja2FnZSc7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdGNvbnRhaW5lckVsLmFkZENsYXNzKCdwYWdlLXJvb3QnKTtcblxuXHRcdC8vIFx1Nzg2RVx1NEZERFx1N0E4NFx1NUJCRFx1NUVBNlx1NEUwQlx1NjgwN1x1OTg5OFx1NjgwRlx1NzY4NFx1ODNEQ1x1NTM1NS9cdThGRDRcdTU2REVcdTYzMDlcdTk0QUVcdTRFMERcdTg4QUJcdTRFM0JcdTk4OThcdTk2OTBcdTg1Q0Zcblx0XHR0aGlzLmluamVjdEhlYWRlckZpeFN0eWxlcygpO1xuXG5cdFx0Ly8gXHU1MjFEXHU1OUNCXHU1MzE2XHU5RUQ4XHU4QkE0XHU2MzkyXHU1RThGXHU4MUVBXHU4QkJFXHU3RjZFXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBsdWdpbiA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnM/LnBsdWdpbnM/LlsnbGFjLWNvc3RzZXQnXTtcblx0XHRcdGlmIChwbHVnaW4gJiYgcGx1Z2luLnNldHRpbmdzICYmIHBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0U29ydCkge1xuXHRcdFx0XHR0aGlzLnNvcnRNb2RlID0gcGx1Z2luLnNldHRpbmdzLmRlZmF1bHRTb3J0O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKF8pIHt9XG5cblx0XHQvLyBcdTU5ODJcdTY3OUNcdTRGMjBcdTUxNjVcdTRFODZcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdUZGMENcdTc2RjRcdTYzQTVcdTRGN0ZcdTc1MjhcdThCRTVcdTY1ODdcdTRFRjZcbiAgICAgICAgaWYgKHRoaXMuZmlsZVBhdGgpIHtcblx0XHRcdHRoaXMudXNlRmlsZSh0aGlzLmZpbGVQYXRoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBcdTgyRTVcdTY3MkFcdTRGMjBcdTUxNjVcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdUZGMUFcdTRFMERcdTg5ODFcdTVGMzlcdTUxRkFcdTY1ODdcdTRFRjZcdTUyMTdcdTg4NjhcdUZGMENcdTY2M0VcdTc5M0FcdThGN0JcdTkxQ0ZcdTYzRDBcdTc5M0Fcblx0XHRjb25zdCBoaW50ID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCk7XG5cdFx0aGludC5zdHlsZS5wYWRkaW5nID0gJzE2cHgnO1xuXHRcdGhpbnQuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xuXHRcdGhpbnQudGV4dENvbnRlbnQgPSB0KCd2aWV3LmhpbnQub3BlbkZyb21NZW51Jyk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0YXN5bmMgb25DbG9zZSgpIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0Ly8gXHU2RTA1XHU3NDA2XHU1MkE4XHU2MDAxXHU2Q0U4XHU1MTY1XHU3Njg0XHU2ODM3XHU1RjBGXHU0RTBFXHU1RjM5XHU3QTk3XG5cdFx0dHJ5IHsgdGhpcy5jbG9zZUV4aXN0aW5nU29ydE1lbnUoKTsgfSBjYXRjaCAoXykge31cblx0XHRbJ2xhYy1jb3N0c2V0LWFjdGlvbmJhci1zdHlsZXMnLCAnbGFjLWNvc3RzZXQtaGVhZGVyLXN0eWxlcyddLmZvckVhY2goKGlkKSA9PiB7XG5cdFx0XHRjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcblx0XHRcdGlmIChlbCAmJiBlbC5wYXJlbnRFbGVtZW50KSBlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsKTtcblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgdXNlRmlsZShmaWxlUGF0aDogc3RyaW5nKSB7XG5cdFx0Ly8gXHU5MUNEXHU2NUIwXHU1MjFEXHU1OUNCXHU1MzE2QXNzZXRSZXBvc2l0b3J5XG5cdFx0Y29uc3QgcGx1Z2luID0gKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zWydsYWMtY29zdHNldCddO1xuXHRcdGlmIChwbHVnaW4pIHtcblx0XHRcdHBsdWdpbi5hc3NldFJlcG9zaXRvcnkgPSBuZXcgQXNzZXRSZXBvc2l0b3J5KHRoaXMuYXBwLCBmaWxlUGF0aCk7XG5cdFx0XHR0aGlzLmFzc2V0UmVwb3NpdG9yeSA9IHBsdWdpbi5hc3NldFJlcG9zaXRvcnk7XG5cdFx0XHRcblx0XHRcdHRoaXMubG9hZEFzc2V0cygpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgbG9hZEFzc2V0cygpIHtcblx0XHR0aGlzLmFzc2V0cyA9IGF3YWl0IHRoaXMuYXNzZXRSZXBvc2l0b3J5LmxvYWRBbGwoKTtcblx0XHR0aGlzLnJlbmRlckFzc2V0cygpO1xuXHR9XG5cblx0cHJpdmF0ZSBzaG93RmlsZVNlbGVjdG9yKCkge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IHQoJ3ZpZXcuc2VsZWN0Um9vdC50aXRsZScpIH0pO1xuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0KCd2aWV3LnNlbGVjdFJvb3QuZGVzYycpIH0pO1xuXG5cdFx0Y29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cdFx0Y29uc3QgZmlsZUxpc3QgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoJ2ZpbGUtbGlzdCcpO1xuXHRcdFxuXHRcdGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG5cdFx0XHRjb25zdCBmaWxlSXRlbSA9IGZpbGVMaXN0LmNyZWF0ZURpdignZmlsZS1pdGVtJyk7XG5cdFx0XHRmaWxlSXRlbS5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBmaWxlLnBhdGggfSk7XG5cdFx0XHRmaWxlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcblx0XHRcdFx0Ly8gXHU5MUNEXHU2NUIwXHU1MjFEXHU1OUNCXHU1MzE2QXNzZXRSZXBvc2l0b3J5XG5cdFx0XHRcdGNvbnN0IHBsdWdpbiA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2luc1snbGFjLWNvc3RzZXQnXTtcblx0XHRcdFx0aWYgKHBsdWdpbikge1xuXHRcdFx0XHRcdHBsdWdpbi5hc3NldFJlcG9zaXRvcnkgPSBuZXcgQXNzZXRSZXBvc2l0b3J5KHRoaXMuYXBwLCBmaWxlLnBhdGgpO1xuXHRcdFx0XHRcdHRoaXMuYXNzZXRSZXBvc2l0b3J5ID0gcGx1Z2luLmFzc2V0UmVwb3NpdG9yeTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHR0aGlzLmxvYWRBc3NldHMoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIHJlbmRlckFzc2V0cygpIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdFxuXHRcdC8vIFx1NkUwNVx1N0E3QVx1NUJCOVx1NTY2OFx1RkYwQ1x1OTA3Rlx1NTE0RFx1OTFDRFx1NTkwRFx1OEZGRFx1NTJBMCBUb3BTdW1tYXJ5IFx1NEUwRVx1NTIxN1x1ODg2OFxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0Y29udGFpbmVyRWwuYWRkQ2xhc3MoJ3BhZ2Utcm9vdCcpO1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1OTg3Nlx1OTBFOFx1N0VERlx1OEJBMVx1NTMzQVx1NTdERlxuXHRcdHRoaXMucmVuZGVyVG9wU3VtbWFyeShjb250YWluZXJFbCk7XG5cdFx0Ly8gXHU5ODc2XHU5MEU4XHU3RURGXHU4QkExXHU0RTBCXHU2NUI5XHU3Njg0XHU2NENEXHU0RjVDXHU2NzYxXG5cdFx0dGhpcy5yZW5kZXJBY3Rpb25CYXIoY29udGFpbmVyRWwpO1xuXHRcdFxuXHRcdGNvbnN0IGFzc2V0c0NvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignYXNzZXRzLWNvbnRhaW5lcicpO1xuXHRcdHRoaXMucmVuZGVyQXNzZXRDYXJkcyhhc3NldHNDb250YWluZXIpO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJBc3NldENhcmRzKGFzc2V0c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcblx0XHRhc3NldHNDb250YWluZXIuZW1wdHkoKTtcblx0XHRpZiAodGhpcy5hc3NldHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRhc3NldHNDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IHQoJ3ZpZXcuZW1wdHknKSB9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgY2FsY0RhdGUgPSB0aGlzLnNlbGVjdGVkRGF0ZSB8fCBuZXcgRGF0ZSgpO1xuXHRcdGxldCB2aXNpYmxlQXNzZXRzID0gdGhpcy5hc3NldHMuZmlsdGVyKGEgPT4gYS5hY3RpdmVGcm9tIDw9IGNhbGNEYXRlKTtcblx0XHRpZiAodGhpcy5zZWxlY3RlZFRhZ3MubGVuZ3RoID4gMCkge1xuXHRcdFx0dmlzaWJsZUFzc2V0cyA9IHZpc2libGVBc3NldHMuZmlsdGVyKGEgPT4gYS50YWdzPy5zb21lKHQgPT4gdGhpcy5zZWxlY3RlZFRhZ3MuaW5jbHVkZXModCkpKTtcblx0XHR9XG5cdFx0Ly8gXHU2NDFDXHU3RDIyXHU4RkM3XHU2RUU0XHVGRjFBXHU1NDBEXHU3OUYwXHU2MjE2XHU2ODA3XHU3QjdFXHU1MzA1XHU1NDJCXG5cdFx0aWYgKHRoaXMuc2VhcmNoUXVlcnkgJiYgdGhpcy5zZWFyY2hRdWVyeS50cmltKCkpIHtcblx0XHRcdGNvbnN0IHEgPSB0aGlzLnNlYXJjaFF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0dmlzaWJsZUFzc2V0cyA9IHZpc2libGVBc3NldHMuZmlsdGVyKGEgPT4ge1xuXHRcdFx0XHRjb25zdCBuYW1lSGl0ID0gKGEubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKTtcblx0XHRcdFx0Y29uc3QgdGFnSGl0ID0gKGEudGFncyB8fCBbXSkuc29tZSh0ID0+ICh0IHx8ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpKTtcblx0XHRcdFx0cmV0dXJuIG5hbWVIaXQgfHwgdGFnSGl0O1xuXHRcdFx0fSk7XG5cdFx0fVxuICAgICAgICAvLyBcdTYzOTJcdTVFOEZcbiAgICAgICAgaWYgKHRoaXMuc29ydE1vZGUgIT09ICdub25lJykge1xuICAgICAgICAgICAgdmlzaWJsZUFzc2V0cyA9IFsuLi52aXNpYmxlQXNzZXRzXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc29ydE1vZGUgPT09ICdkYWlseURlc2MnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFDb3N0ID0gYS5nZXREYWlseUNvc3QoY2FsY0RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiQ29zdCA9IGIuZ2V0RGFpbHlDb3N0KGNhbGNEYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJDb3N0IC0gYUNvc3Q7IC8vIFx1NjVFNVx1NTc0N1x1NjIxMFx1NjcyQ1x1OTY0RFx1NUU4RlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3J0TW9kZSA9PT0gJ3ByaWNlRGVzYycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcihiLnByaWNlIHx8IDApIC0gTnVtYmVyKGEucHJpY2UgfHwgMCk7IC8vIFx1NEVGN1x1NjgzQ1x1OTY0RFx1NUU4RlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3J0TW9kZSA9PT0gJ2RhdGVEZXNjJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdCA9IGEuYWN0aXZlRnJvbT8uZ2V0VGltZT8uKCkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnQgPSBiLmFjdGl2ZUZyb20/LmdldFRpbWU/LigpIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBidCAtIGF0OyAvLyBcdThEMkRcdTUxNjVcdTY1RTVcdTY3MUZcdUZGMDhhY3RpdmVGcm9tXHVGRjA5XHU5NjREXHU1RThGXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblx0XHR2aXNpYmxlQXNzZXRzLmZvckVhY2goYXNzZXQgPT4ge1xuXHRcdFx0Y29uc3QgaXNFeHBpcmVkID0gISEoYXNzZXQuYWN0aXZlVG8gJiYgYXNzZXQuYWN0aXZlVG8gPD0gY2FsY0RhdGUpO1xuXHRcdFx0Y29uc3QgZW5kVGV4dCA9IGlzRXhwaXJlZCA/IGFzc2V0LmFjdGl2ZVRvIS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gOiB0KCd2aWV3LnRvTm93Jyk7XG5cdFx0XHRjb25zdCBhc3NldEVsID0gYXNzZXRzQ29udGFpbmVyLmNyZWF0ZURpdignYXNzZXQtY2FyZCcpO1xuXHRcdFx0aWYgKGlzRXhwaXJlZCkgYXNzZXRFbC5hZGRDbGFzcygnYXNzZXQtY2FyZC0tZXhwaXJlZCcpO1xuXHRcdFx0aWYgKGFzc2V0LmhpZGRlbikgYXNzZXRFbC5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHQvLyBcdTY3ODRcdTVFRkFcdTVCODlcdTUxNjhcdTc2ODQgRE9NIFx1N0VEM1x1Njc4NFx1RkYwQ1x1OTA3Rlx1NTE0RCBpbm5lckhUTUxcblx0XHRcdGNvbnN0IGluZm9FbCA9IGFzc2V0RWwuY3JlYXRlRGl2KCdhc3NldC1pbmZvJyk7XG5cdFx0XHRjb25zdCB0aXRsZUVsID0gaW5mb0VsLmNyZWF0ZURpdignYXNzZXQtdGl0bGUnKTtcblx0XHRcdHRpdGxlRWwudGV4dENvbnRlbnQgPSBgJHthc3NldC5pY29ufSAke2Fzc2V0Lm5hbWV9YDtcblx0XHRcdGNvbnN0IGRhdGVFbCA9IGluZm9FbC5jcmVhdGVEaXYoJ2Fzc2V0LWRhdGUnKTtcblx0XHRcdGRhdGVFbC50ZXh0Q29udGVudCA9IGAke3QoJ3ZpZXcudXNlZERheXMnLCB7IGRheXM6IGFzc2V0LmdldFVzYWdlRGF5cyhjYWxjRGF0ZSkgfSl9ICgke2Fzc2V0LmFjdGl2ZUZyb20udG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfSB+ICR7YXNzZXQuYWN0aXZlVG8gPyBlbmRUZXh0IDogdCgndmlldy50b05vdycpfSlgO1xuXHRcdFx0Y29uc3QgbGFiZWxzU2Nyb2xsRWwgPSBpbmZvRWwuY3JlYXRlRGl2KCdhc3NldC1sYWJlbHMtc2Nyb2xsJyk7XG5cdFx0XHQoYXNzZXQudGFncyB8fCBbXSkuZm9yRWFjaCh0YWcgPT4ge1xuXHRcdFx0XHRjb25zdCB0YWdFbCA9IGxhYmVsc1Njcm9sbEVsLmNyZWF0ZVNwYW4oJ3RhZycpO1xuXHRcdFx0XHR0YWdFbC50ZXh0Q29udGVudCA9IHRhZztcblx0XHRcdH0pO1xuXHRcdFx0Y29uc3QgY29zdHNFbCA9IGFzc2V0RWwuY3JlYXRlRGl2KCdhc3NldC1jb3N0cycpO1xuXHRcdFx0Y29uc3QgY29zdHNMaW5lID0gY29zdHNFbC5jcmVhdGVEaXYoJ2Fzc2V0LWNvc3RzLWxpbmUnKTtcblx0XHRcdGNvbnN0IHByaWNlTWV0YSA9IGNvc3RzTGluZS5jcmVhdGVEaXYoJ2Fzc2V0LXByaWNlJyk7XG5cdFx0XHRwcmljZU1ldGEudGV4dENvbnRlbnQgPSBgJHt0KCd2aWV3LmRhaWx5Jyl9XFx1MDBBMGA7XG5cdFx0XHRjb25zdCBkYWlseUNvc3QgPSBjb3N0c0xpbmUuY3JlYXRlRGl2KCdhc3NldC1kYWlseWNvc3QnKTtcblx0XHRcdGRhaWx5Q29zdC50ZXh0Q29udGVudCA9IHRoaXMuZ2V0Q3VycmVuY3lTeW1ib2woKSArIGAke2Fzc2V0LmdldERhaWx5Q29zdChjYWxjRGF0ZSkudG9GaXhlZCgyKX1gO1xuXHRcdFx0Y29uc3QgcHJpY2VMaW5lID0gY29zdHNFbC5jcmVhdGVEaXYoJ2Fzc2V0LXByaWNlJyk7XG5cdFx0XHRwcmljZUxpbmUudGV4dENvbnRlbnQgPSBgJHt0KCd2aWV3LnByaWNlJyl9ICR7dGhpcy5nZXRDdXJyZW5jeVN5bWJvbCgpfSR7YXNzZXQucHJpY2V9YDtcblx0XHRcdGNvbnN0IHJlY3ljbGVMaW5lID0gY29zdHNFbC5jcmVhdGVEaXYoJ2Fzc2V0LXByaWNlJyk7XG5cdFx0XHRyZWN5Y2xlTGluZS50ZXh0Q29udGVudCA9IGAke3QoJ3ZpZXcucmVjeWNsZVByaWNlJyl9ICR7dGhpcy5nZXRDdXJyZW5jeVN5bWJvbCgpfSR7YXNzZXQucmVjeWNsZVByaWNlfWA7XG5cdFx0XHRsZXQgZGlkTG9uZ1ByZXNzID0gZmFsc2U7XG5cdFx0XHRhc3NldEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdFx0aWYgKGRpZExvbmdQcmVzcykge1xuXHRcdFx0XHRcdGRpZExvbmdQcmVzcyA9IGZhbHNlO1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRuZXcgQXNzZXRGb3JtTW9kYWwodGhpcy5hcHAsIHRoaXMuYXNzZXRSZXBvc2l0b3J5LCBhc3NldCwgKCkgPT4gdGhpcy5sb2FkQXNzZXRzKCkpLm9wZW4oKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBcdTk1N0ZcdTYzMDlcdTk2OTBcdTg1Q0YvXHU2MDYyXHU1OTBEXHU2NjNFXHU3OTNBXHVGRjBDXHU0RUM1XHU1MTg1XHU1QjU4XHU1MjA3XHU2MzYyXHVGRjFCXHU0RUM1XHU1MjM3XHU2NUIwXHU5ODc2XHU5MEU4XHU2NTcwXHU1QjU3XHVGRjBDXHU0RTBEXHU1MjM3XHU2NUIwXHU1NkZFXHU4ODY4XG5cdFx0XHRsZXQgcHJlc3NUaW1lcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRjb25zdCBzdGFydFByZXNzID0gKGV2PzogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcblx0XHRcdFx0Ly8gXHU0RUM1XHU1NENEXHU1RTk0XHU5RjIwXHU2ODA3XHU1REU2XHU5NTJFXG5cdFx0XHRcdGlmIChldiAmJiAnYnV0dG9uJyBpbiBldiAmJiB0eXBlb2YgZXYuYnV0dG9uID09PSAnbnVtYmVyJyAmJiBldi5idXR0b24gIT09IDApIHJldHVybjtcblx0XHRcdFx0aWYgKHByZXNzVGltZXIpIHdpbmRvdy5jbGVhclRpbWVvdXQocHJlc3NUaW1lcik7XG5cdFx0XHRcdHByZXNzVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0ZGlkTG9uZ1ByZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHRhc3NldC5oaWRkZW4gPSAhYXNzZXQuaGlkZGVuO1xuXHRcdFx0XHRcdGFzc2V0RWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgYXNzZXQuaGlkZGVuKTtcblx0XHRcdFx0XHR0aGlzLnJlZnJlc2hUb3BOdW1iZXJzT25seSgpO1xuXHRcdFx0XHR9LCA1MDApO1xuXHRcdFx0fTtcblx0XHRcdGNvbnN0IGNhbmNlbFByZXNzID0gKCkgPT4geyBpZiAocHJlc3NUaW1lcikgeyB3aW5kb3cuY2xlYXJUaW1lb3V0KHByZXNzVGltZXIpOyBwcmVzc1RpbWVyID0gbnVsbDsgfSB9O1xuXHRcdFx0YXNzZXRFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydFByZXNzKTtcblx0XHRcdGFzc2V0RWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHN0YXJ0UHJlc3MsIHsgcGFzc2l2ZTogdHJ1ZSB9IGFzIGFueSk7XG5cdFx0XHRhc3NldEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBjYW5jZWxQcmVzcyk7XG5cdFx0XHRhc3NldEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBjYW5jZWxQcmVzcyk7XG5cdFx0XHRhc3NldEVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgY2FuY2VsUHJlc3MpO1xuXHRcdFx0YXNzZXRFbC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGFzeW5jIChlKSA9PiB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0Y29uc3Qgb2sgPSBhd2FpdCBuZXcgQ29uZmlybU1vZGFsKHQoJ3ZpZXcuY29uZmlybURlbGV0ZUFzc2V0JywgeyBuYW1lOiBhc3NldC5uYW1lIH0pLCB0KCdjb21tb24uZGVsZXRlJyksIHQoJ2NvbW1vbi5jYW5jZWwnKSwgdHJ1ZSkub3BlbigpO1xuXHRcdFx0XHRpZiAoIW9rKSByZXR1cm47XG5cdFx0XHRcdGF3YWl0IHRoaXMuYXNzZXRSZXBvc2l0b3J5LmRlbGV0ZUFzc2V0KGFzc2V0LmlkKTtcblx0XHRcdFx0dGhpcy5sb2FkQXNzZXRzKCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIFx1NEVDNVx1NTIzN1x1NjVCMFx1OTg3Nlx1OTBFOFx1NjU3MFx1NUI1NyAoXHU2MzkyXHU5NjY0IGhpZGRlbiBcdThENDRcdTRFQTcpXHVGRjBDXHU0RTBEXHU1MjM3XHU2NUIwXHU1NkZFXHU4ODY4XHUzMDAxXHU0RTBEXHU5MUNEXHU1RUZBXHU1MjE3XHU4ODY4XG5cdHByaXZhdGUgcmVmcmVzaFRvcE51bWJlcnNPbmx5KCkge1xuXHRcdGlmICghdGhpcy50b3BTdW1tYXJ5Q29tcG9uZW50KSByZXR1cm47XG5cdFx0Y29uc3QgY2FsY0RhdGUgPSB0aGlzLnNlbGVjdGVkRGF0ZSB8fCBuZXcgRGF0ZSgpO1xuXHRcdGNvbnN0IGFjdGl2ZUFzc2V0cyA9IHRoaXMuYXNzZXRzLmZpbHRlcihhID0+IGEuaXNBY3RpdmUoY2FsY0RhdGUpICYmICFhLmhpZGRlbik7XG5cdFx0Y29uc3QgZmlsdGVyZWRBY3RpdmVBc3NldHMgPSB0aGlzLmFwcGx5VGFnRmlsdGVyKGFjdGl2ZUFzc2V0cyk7XG5cdFx0Y29uc3QgdG90YWxDb3N0ID0gZmlsdGVyZWRBY3RpdmVBc3NldHMucmVkdWNlKChzdW0sIGEpID0+IHN1bSArIGEucHJpY2UsIDApO1xuXHRcdGNvbnN0IHRvdGFsUmVjeWNsZSA9IGZpbHRlcmVkQWN0aXZlQXNzZXRzLnJlZHVjZSgoc3VtLCBhKSA9PiBzdW0gKyBhLnJlY3ljbGVQcmljZSwgMCk7XG5cdFx0Y29uc3QgdG90YWxEYWlseUNvc3QgPSBmaWx0ZXJlZEFjdGl2ZUFzc2V0cy5yZWR1Y2UoKHN1bSwgYSkgPT4gc3VtICsgYS5nZXREYWlseUNvc3QoY2FsY0RhdGUpLCAwKTtcblx0XHR0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQudXBkYXRlTnVtYmVycyh0b3RhbERhaWx5Q29zdCwgdG90YWxDb3N0LCB0b3RhbFJlY3ljbGUpO1xuXHR9XG5cblx0Ly8gXHU5ODc2XHU5MEU4XHU3RURGXHU4QkExXHU0RTBCXHU2NUI5XHU3Njg0XHU2NENEXHU0RjVDXHU2NzYxXHVGRjA4XHU2NDFDXHU3RDIyIC8gXHU2MzkyXHU1RThGIC8gXHU2REZCXHU1MkEwXHVGRjA5XG5cdHByaXZhdGUgcmVuZGVyQWN0aW9uQmFyKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCkge1xuXHRcdHRoaXMuaW5qZWN0QWN0aW9uQmFyU3R5bGVzKCk7XG5cdFx0Y29uc3QgYmFyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdsYWMtYWN0aW9uYmFyLWNhcmQnKTtcblx0XHR0aGlzLmFjdGlvbkJhckVsID0gYmFyO1xuXG5cdFx0Ly8gXHU3QTg0XHU1QzRGXHU4RkQ0XHU1NkRFXHU2MzA5XHU5NEFFXHVGRjA4XHU5MDdGXHU1MTREXHU3Q0ZCXHU3RURGXHU2ODA3XHU5ODk4XHU2ODBGXHU5NjkwXHU4NUNGXHU2NUY2XHU2NUUwXHU1OTA0XHU4RkQ0XHU1NkRFXHVGRjA5XG5cdFx0Y29uc3QgYmFja0J0biA9IGJhci5jcmVhdGVEaXYoeyBjbHM6ICdsYWMtaWNvbi1idG4gYmFjaycsIGF0dHI6IHsgdGl0bGU6IHQoJ3ZpZXcuYmFjaycpIH0gfSk7XG5cdFx0YmFja0J0bi5hcHBlbmRDaGlsZCh0aGlzLnN2Z0JhY2soKSk7XG5cdFx0YmFja0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBcdTc2RjRcdTYzQTVcdTUxNzNcdTk1RURcdTVGNTNcdTUyNERcdTUzRjZcdTVCNTBcdUZGMDhcdTY4MDdcdTdCN0VcdUZGMDlcdUZGMENcdTdCNDlcdTY1NDhcdTIwMUNcdThGRDRcdTU2REUvXHU1MTczXHU5NUVEXHUyMDFEXG5cdFx0XHR0cnkgeyB0aGlzLmxlYWYuZGV0YWNoKCk7IH0gY2F0Y2ggKF8pIHt9XG5cdFx0fSk7XG5cblx0XHQvLyBcdTVERTZcdTRGQTdcdUZGMUFcdTY0MUNcdTdEMjJcdThGOTNcdTUxNjVcdUZGMDhcdTUxODVcdTVENENcdTU2RkVcdTY4MDdcdTYzMDlcdTk0QUVcdUZGMDlcblx0XHRjb25zdCBzZWFyY2hXcmFwID0gYmFyLmNyZWF0ZURpdignbGFjLWFjdGlvbmJhci1zZWFyY2gnKTtcblx0XHRjb25zdCBzZWFyY2hJY29uQnRuID0gc2VhcmNoV3JhcC5jcmVhdGVFbCgnYnV0dG9uJywgeyBjbHM6ICdsYWMtaWNvbi1idG4gc2VhcmNoLWljb24nLCBhdHRyOiB7IHR5cGU6ICdidXR0b24nLCAnYXJpYS1sYWJlbCc6IHQoJ3ZpZXcuc2VhcmNoLmFyaWEnKSB9IH0pO1xuXHRcdHNlYXJjaEljb25CdG4uYXBwZW5kQ2hpbGQodGhpcy5zdmdTZWFyY2goKSk7XG5cdFx0Y29uc3Qgc2VhcmNoSW5wdXQgPSBzZWFyY2hXcmFwLmNyZWF0ZUVsKCdpbnB1dCcsIHsgYXR0cjogeyB0eXBlOiAndGV4dCcsIHBsYWNlaG9sZGVyOiB0KCd2aWV3LnNlYXJjaC5wbGFjZWhvbGRlcicpIH0gfSkgYXMgSFRNTElucHV0RWxlbWVudDtcblx0XHRpZiAodGhpcy5zZWFyY2hRdWVyeSkgc2VhcmNoSW5wdXQudmFsdWUgPSB0aGlzLnNlYXJjaFF1ZXJ5O1xuXHRcdHNlYXJjaEljb25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWFyY2hJbnB1dC5mb2N1cygpKTtcblx0XHRzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcblx0XHRcdHRoaXMuc2VhcmNoUXVlcnkgPSBzZWFyY2hJbnB1dC52YWx1ZSB8fCAnJztcblx0XHRcdHRoaXMucmVmcmVzaEFzc2V0TGlzdE9ubHkoKTtcblx0XHR9KTtcblxuXHRcdC8vIFx1NTNGM1x1NEZBN1x1RkYxQVx1NjRDRFx1NEY1Q1x1NjMwOVx1OTRBRVx1NTMzQVx1RkYwOFx1NjM5Mlx1NUU4Rlx1MzAwMVx1NkRGQlx1NTJBMFx1RkYwOVxuXHRcdGNvbnN0IGFjdGlvbnMgPSBiYXIuY3JlYXRlRGl2KCdsYWMtYWN0aW9uYmFyLWFjdGlvbnMnKTtcblx0XHRjb25zdCBzb3J0QnRuID0gYWN0aW9ucy5jcmVhdGVEaXYoeyBjbHM6ICdsYWMtaWNvbi1idG4gc29ydCcsIGF0dHI6IHsgdGl0bGU6IHQoJ3ZpZXcuc29ydC50aXRsZScpIH0gfSk7XG5cdFx0c29ydEJ0bi5hcHBlbmRDaGlsZCh0aGlzLnN2Z1NvcnQoKSk7XG5cdFx0Y29uc3QgYXBwbHlTb3J0QnRuU3RhdGUgPSAoKSA9PiB7XG5cdFx0XHRzb3J0QnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHRoaXMuc29ydE1vZGUgIT09ICdub25lJyk7XG5cdFx0XHRzb3J0QnRuLnNldEF0dHIoJ2RhdGEtbW9kZScsIHRoaXMuc29ydE1vZGUpO1xuXHRcdFx0c29ydEJ0bi5zZXRBdHRyKCdhcmlhLXByZXNzZWQnLCBTdHJpbmcodGhpcy5zb3J0TW9kZSAhPT0gJ25vbmUnKSk7XG5cdFx0XHRjb25zdCB0aXRsZSA9IHRoaXMuc29ydE1vZGUgPT09ICdkYWlseURlc2MnID8gdCgndmlldy5zb3J0LnRpdGxlLmRhaWx5RGVzYycpXG5cdFx0XHRcdDogdGhpcy5zb3J0TW9kZSA9PT0gJ3ByaWNlRGVzYycgPyB0KCd2aWV3LnNvcnQudGl0bGUucHJpY2VEZXNjJylcblx0XHRcdFx0OiB0aGlzLnNvcnRNb2RlID09PSAnZGF0ZURlc2MnID8gdCgndmlldy5zb3J0LnRpdGxlLmRhdGVEZXNjJylcblx0XHRcdFx0OiB0KCd2aWV3LnNvcnQudGl0bGUnKTtcbiAgICAgICAgICAgIHNvcnRCdG4uc2V0QXR0cigndGl0bGUnLCB0aXRsZSk7XG5cdFx0fTtcblx0XHRhcHBseVNvcnRCdG5TdGF0ZSgpO1xuICAgICAgICBzb3J0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMub3BlblNvcnRNZW51KHNvcnRCdG4sIChtb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0TW9kZSA9IG1vZGU7XG4gICAgICAgICAgICAgICAgYXBwbHlTb3J0QnRuU3RhdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hBc3NldExpc3RPbmx5KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cblx0XHRjb25zdCBhZGRCdG4gPSBhY3Rpb25zLmNyZWF0ZURpdih7IGNsczogJ2xhYy1pY29uLWJ0biBhZGQnLCBhdHRyOiB7IHRpdGxlOiB0KCd2aWV3LmFkZCcpIH0gfSk7XG5cdFx0YWRkQnRuLmFwcGVuZENoaWxkKHRoaXMuc3ZnUGx1cygpKTtcblx0XHRhZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRuZXcgQXNzZXRGb3JtTW9kYWwodGhpcy5hcHAsIHRoaXMuYXNzZXRSZXBvc2l0b3J5LCB1bmRlZmluZWQsICgpID0+IHRoaXMubG9hZEFzc2V0cygpKS5vcGVuKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIHJlZnJlc2hBc3NldExpc3RPbmx5KCkge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29uc3QgbGlzdEVsID0gY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLmFzc2V0cy1jb250YWluZXInKTtcblx0XHRpZiAobGlzdEVsKSB7XG5cdFx0XHQobGlzdEVsIGFzIEhUTUxFbGVtZW50KS5yZW1vdmUoKTtcblx0XHRcdGNvbnN0IG5ld0xpc3QgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoJ2Fzc2V0cy1jb250YWluZXInKTtcblx0XHRcdHRoaXMucmVuZGVyQXNzZXRDYXJkcyhuZXdMaXN0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGluamVjdEFjdGlvbkJhclN0eWxlcygpIHtcblx0XHRjb25zdCBTVFlMRV9JRCA9ICdsYWMtY29zdHNldC1hY3Rpb25iYXItc3R5bGVzJztcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU1RZTEVfSUQpKSByZXR1cm47XG5cdFx0Y29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXHRcdHN0eWxlLmlkID0gU1RZTEVfSUQ7XG5cdFx0c3R5bGUudGV4dENvbnRlbnQgPSBgXG5cdFx0XHQvKiBcdTYzMDlcdTk0QUVcdTUzNjFcdTcyNDdcdUZGMUFcdTRFMEUgdG9wLXN1bW1hcnkgLyBhc3NldC1jYXJkIFx1NTQwQ1x1OThDRVx1NjgzQ1x1RkYwQ1x1NEVDNVx1OUFEOFx1NUVBNlx1NjZGNFx1NUMwRiAqL1xuXHRcdFx0LmxhYy1hY3Rpb25iYXItY2FyZCB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgZ2FwOiAxMHB4OyBwYWRkaW5nOiA2cHggMTBweDsgbWFyZ2luOiAwcHggMTRweCA4cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgYmFja2dyb3VuZDogIzIzMjYyRjsgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwwLDAsMC4xOCk7IH1cblx0XHRcdC5sYWMtYWN0aW9uYmFyLXNlYXJjaCB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgZmxleDogMTsgbWluLXdpZHRoOiAwOyB9XG5cdFx0XHQubGFjLWFjdGlvbmJhci1zZWFyY2ggaW5wdXQgeyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAzMHB4OyBwYWRkaW5nOiA0cHggOHB4IDRweCAzMHB4OyBib3JkZXItcmFkaXVzOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICMzQTNENDY7IGJhY2tncm91bmQ6ICMyQTJEMzY7IGNvbG9yOiAjRjVGNkZBOyBmb250LXNpemU6IDEzcHg7IGxpbmUtaGVpZ2h0OiAyMHB4OyB9XG5cdFx0XHQubGFjLWFjdGlvbmJhci1zZWFyY2ggaW5wdXQ6OnBsYWNlaG9sZGVyIHsgY29sb3I6ICNBMEEzQjE7IH1cblx0XHRcdC5sYWMtYWN0aW9uYmFyLXNlYXJjaCAuc2VhcmNoLWljb24geyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDhweDsgdG9wOiA1MCU7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsgd2lkdGg6IDE2cHg7IGhlaWdodDogMTZweDsgcGFkZGluZzogMDsgYm9yZGVyOiBub25lOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgY29sb3I6ICNDOUNCRDM7IH1cblx0XHRcdC5sYWMtYWN0aW9uYmFyLWFjdGlvbnMgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDhweDsgfVxuXHRcdFx0LmxhYy1pY29uLWJ0biB7IHdpZHRoOiAzMnB4OyBoZWlnaHQ6IDMycHg7IGRpc3BsYXk6IGlubGluZS1mbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXI6IG5vbmUgIWltcG9ydGFudDsgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50OyBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7IGNvbG9yOiAjQzlDQkQzOyBjdXJzb3I6IHBvaW50ZXI7IH1cblx0XHRcdC5sYWMtaWNvbi1idG4uYWRkIHsgY29sb3I6ICNmM2U3MDA7IH1cblx0XHRcdC5sYWMtaWNvbi1idG4uYmFjayB7IGRpc3BsYXk6IGlubGluZS1mbGV4OyBjb2xvcjogI0M5Q0JEMzsgfVxuXHRcdFx0LmxhYy1pY29uLWJ0bjpob3ZlciB7IGZpbHRlcjogYnJpZ2h0bmVzcygxLjA1KTsgfVxuXHRcdFx0LmxhYy1pY29uLWJ0biBzdmcgeyB3aWR0aDogMjBweDsgaGVpZ2h0OiAyMHB4OyBkaXNwbGF5OmJsb2NrOyB9XG5cdFx0XHQubGFjLWljb24tYnRuIHN2ZyAqIHsgc3Ryb2tlOiBjdXJyZW50Q29sb3IgIWltcG9ydGFudDsgZmlsbDogbm9uZSAhaW1wb3J0YW50OyBzdHJva2Utd2lkdGg6IDIgIWltcG9ydGFudDsgfVxuXHRcdFx0LmxhYy1pY29uLWJ0bi5hY3RpdmUgeyBiYWNrZ3JvdW5kOiAjMkYzMTM5OyB9XG5cdFx0XHQvKiBcdTk2OTBcdTg1Q0ZcdTYwMDFcdTY4MzdcdTVGMEZcdUZGMDhcdTVCRjlcdTlGNTAgY29zdHNldGFwcFx1RkYwOSAqL1xuXHRcdFx0LmFzc2V0LWNhcmQuaGlkZGVuIHsgb3BhY2l0eTogMC4zOyBmaWx0ZXI6IGdyYXlzY2FsZSgwLjUpOyB9XG4gICAgICAgICAgICAvKiBcdTYzOTJcdTVFOEZcdTgzRENcdTUzNTUgKi9cbiAgICAgICAgICAgIC5sYWMtc29ydC1tZW51IHsgcG9zaXRpb246IGZpeGVkOyBtaW4td2lkdGg6IDE2MHB4OyBiYWNrZ3JvdW5kOiAjMjMyNjJGOyBjb2xvcjogI0Y1RjZGQTsgYm9yZGVyLXJhZGl1czogMTBweDsgb3ZlcmZsb3c6IGhpZGRlbjsgYm94LXNoYWRvdzogMCA4cHggMThweCByZ2JhKDAsMCwwLDAuMzUpOyBib3JkZXI6IDFweCBzb2xpZCAjM0EzRDQ2OyB6LWluZGV4OiA5OTk5OyB9XG4gICAgICAgICAgICAubGFjLXNvcnQtbWVudSAubWVudS1pdGVtIHsgcGFkZGluZzogMTBweCAxNHB4OyBjdXJzb3I6IHBvaW50ZXI7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjMkUzMTNBOyB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDEyMG1zIGVhc2UsIGNvbG9yIDEyMG1zIGVhc2U7IH1cbiAgICAgICAgICAgIC5sYWMtc29ydC1tZW51IC5tZW51LWl0ZW06Zmlyc3QtY2hpbGQgeyBib3JkZXItdG9wOiBub25lOyB9XG4gICAgICAgICAgICAubGFjLXNvcnQtbWVudSAubWVudS1pdGVtOmhvdmVyIHsgYmFja2dyb3VuZDogcmdiYSgyNTUsIDIxNCwgMCwgMC4xMik7IGNvbG9yOiBpbmhlcml0OyB9XG4gICAgICAgICAgICAubGFjLXNvcnQtbWVudSAubWVudS1pdGVtLmFjdGl2ZSB7IGNvbG9yOiAjRkZENzAwOyB9XG5cblx0XHRcdC8qIFx1NUMwRlx1NEU4RSA3MjBweCBcdTY1RjZcdTdEMjdcdTUxRDFcdTVFMDNcdTVDNDAgKi9cblx0XHRcdEBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkge1xuXHRcdFx0XHQubGFjLWFjdGlvbmJhci1jYXJkIHsgZ2FwOiA4cHg7IH1cblx0XHRcdFx0LmxhYy1hY3Rpb25iYXItc2VhcmNoIGlucHV0IHsgcGFkZGluZy1sZWZ0OiAzMHB4OyB9XG5cdFx0XHR9XG5cdFx0YDtcblx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fVxuXG5cdHByaXZhdGUgaW5qZWN0SGVhZGVyRml4U3R5bGVzKCkge1xuXHRcdGNvbnN0IFNUWUxFX0lEID0gJ2xhYy1jb3N0c2V0LWhlYWRlci1zdHlsZXMnO1xuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChTVFlMRV9JRCkpIHJldHVybjtcblx0XHRjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cdFx0c3R5bGUuaWQgPSBTVFlMRV9JRDtcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9IGBcblx0XHRcdC8qIFx1NEVDNVx1NEY1Q1x1NzUyOFx1NEU4RVx1NjcyQ1x1ODlDNlx1NTZGRVx1RkYxQVx1NEZERFx1OEJDMVx1N0E4NFx1NUJCRFx1NjVGNlx1NEU1Rlx1NjYzRVx1NzkzQVx1NjgwN1x1OTg5OFx1NjgwRlx1ODNEQ1x1NTM1NS9cdThGRDRcdTU2REVcdTUzM0FcdTU3REYgKi9cblx0XHRcdC53b3Jrc3BhY2UtbGVhZltkYXRhLXR5cGU9XCJsYWMtY29zdHNldC12aWV3XCJdIC52aWV3LWhlYWRlciB7IGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDsgfVxuXHRcdFx0LndvcmtzcGFjZS1sZWFmW2RhdGEtdHlwZT1cImxhYy1jb3N0c2V0LXZpZXdcIl0gLnZpZXctaGVhZGVyIC52aWV3LWFjdGlvbnMgeyBkaXNwbGF5OiBpbmxpbmUtZmxleCAhaW1wb3J0YW50OyBnYXA6IDZweDsgfVxuXHRcdFx0LndvcmtzcGFjZS1sZWFmW2RhdGEtdHlwZT1cImxhYy1jb3N0c2V0LXZpZXdcIl0gLnZpZXctaGVhZGVyLXRpdGxlLWNvbnRhaW5lciB7IG1pbi13aWR0aDogMDsgfVxuXHRcdFx0LndvcmtzcGFjZS1sZWFmW2RhdGEtdHlwZT1cImxhYy1jb3N0c2V0LXZpZXdcIl0gLnZpZXctaGVhZGVyLXRpdGxlIHsgbWF4LXdpZHRoOiA2MCU7IG92ZXJmbG93OiBoaWRkZW47IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyB3aGl0ZS1zcGFjZTogbm93cmFwOyB9XG5cdFx0XHRAbWVkaWEgKG1heC13aWR0aDogNzIwcHgpIHtcblx0XHRcdFx0LndvcmtzcGFjZS1sZWFmW2RhdGEtdHlwZT1cImxhYy1jb3N0c2V0LXZpZXdcIl0gLnZpZXctaGVhZGVyLXRpdGxlIHsgbWF4LXdpZHRoOiA0NSU7IH1cblx0XHRcdH1cblx0XHRcdEBtZWRpYSAobWF4LXdpZHRoOiA1NjBweCkge1xuXHRcdFx0XHQud29ya3NwYWNlLWxlYWZbZGF0YS10eXBlPVwibGFjLWNvc3RzZXQtdmlld1wiXSAudmlldy1oZWFkZXItdGl0bGUgeyBtYXgtd2lkdGg6IDM1JTsgfVxuXHRcdFx0fVxuXHRcdGA7XG5cdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH1cblxuICAgIHByaXZhdGUgb3BlblNvcnRNZW51KGFuY2hvckVsOiBIVE1MRWxlbWVudCwgb25TZWxlY3Q6IChtb2RlOiAnbm9uZScgfCAnZGFpbHlEZXNjJyB8ICdwcmljZURlc2MnIHwgJ2RhdGVEZXNjJykgPT4gdm9pZCkge1xuICAgICAgICAvLyBcdTgyRTVcdTVERjJcdTVCNThcdTU3MjhcdTUxNDhcdTZFMDVcdTc0MDZcbiAgICAgICAgdGhpcy5jbG9zZUV4aXN0aW5nU29ydE1lbnUoKTtcblxuICAgICAgICBjb25zdCByZWN0ID0gYW5jaG9yRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbWVudS5jbGFzc05hbWUgPSAnbGFjLXNvcnQtbWVudSc7XG5cbiAgICAgICAgY29uc3QgYnVpbGRJdGVtID0gKGxhYmVsOiBzdHJpbmcsIHZhbHVlOiAnbm9uZScgfCAnZGFpbHlEZXNjJyB8ICdwcmljZURlc2MnIHwgJ2RhdGVEZXNjJykgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnbWVudS1pdGVtJyArICh0aGlzLnNvcnRNb2RlID09PSB2YWx1ZSA/ICcgYWN0aXZlJyA6ICcnKTtcbiAgICAgICAgICAgIGl0ZW0udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5zb3J0TW9kZSA9PT0gdmFsdWUgPyAnbm9uZScgOiB2YWx1ZTtcbiAgICAgICAgICAgICAgICBvblNlbGVjdChuZXh0IGFzIGFueSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUV4aXN0aW5nU29ydE1lbnUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH07XG5cblx0XHRtZW51LmFwcGVuZENoaWxkKGJ1aWxkSXRlbSh0KCd2aWV3LnNvcnQubWVudS5kYWlseURlc2MnKSwgJ2RhaWx5RGVzYycpKTtcblx0XHRtZW51LmFwcGVuZENoaWxkKGJ1aWxkSXRlbSh0KCd2aWV3LnNvcnQubWVudS5wcmljZURlc2MnKSwgJ3ByaWNlRGVzYycpKTtcblx0XHRtZW51LmFwcGVuZENoaWxkKGJ1aWxkSXRlbSh0KCd2aWV3LnNvcnQubWVudS5kYXRlRGVzYycpLCAnZGF0ZURlc2MnKSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtZW51KTtcbiAgICAgICAgLy8gXHU1QjlBXHU0RjREXHU1MjMwXHU2MzA5XHU5NEFFXHU0RTBCXHU2NUI5XG4gICAgICAgIGNvbnN0IHRvcCA9IHJlY3QuYm90dG9tICsgNjtcbiAgICAgICAgY29uc3QgbGVmdCA9IE1hdGgubWluKE1hdGgubWF4KDgsIHJlY3QubGVmdCksIHdpbmRvdy5pbm5lcldpZHRoIC0gMTgwKTtcbiAgICAgICAgbWVudS5zdHlsZS50b3AgPSBgJHt0b3B9cHhgO1xuICAgICAgICBtZW51LnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDtcblxuXHRcdGNvbnN0IG9uRG9jQ2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGlmICghbWVudS5jb250YWlucyhldi50YXJnZXQgYXMgTm9kZSkpIHRoaXMuY2xvc2VFeGlzdGluZ1NvcnRNZW51KCk7XG5cdFx0fTtcblx0XHRjb25zdCBvbkVzYyA9IChldjogS2V5Ym9hcmRFdmVudCkgPT4ge1xuXHRcdFx0aWYgKGV2LmtleSA9PT0gJ0VzY2FwZScpIHRoaXMuY2xvc2VFeGlzdGluZ1NvcnRNZW51KCk7XG5cdFx0fTtcblx0XHQvLyBcdTRGN0ZcdTc1MjggcmVnaXN0ZXJEb21FdmVudCBcdTRFRTVcdTRGQkZcdTU3MjhcdTg5QzZcdTU2RkVcdTUzNzhcdThGN0RcdTY1RjZcdTgxRUFcdTUyQThcdTZFMDVcdTc0MDZcblx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsICdtb3VzZWRvd24nLCBvbkRvY0NsaWNrIGFzIGFueSwgeyBvbmNlOiB0cnVlIH0gYXMgYW55KTtcblx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsICdrZXlkb3duJywgb25Fc2MgYXMgYW55LCB7IG9uY2U6IHRydWUgfSBhcyBhbnkpO1xuXHRcdChtZW51IGFzIGFueSkuX2NsZWFudXAgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gXHU4QkE5XHU4OUM2XHU1NkZFXHU1M0VGXHU4OEFCIHNldFZpZXdTdGF0ZSBcdTYwNjJcdTU5MERcdTRFMEVcdTVCRkNcdTgyMkFcdUZGMUFcdTRGRERcdTVCNTgvXHU1RTk0XHU3NTI4XHU3MkI2XHU2MDAxXG4gICAgZ2V0U3RhdGUoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHsgZmlsZVBhdGg6IHRoaXMuZmlsZVBhdGggfTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRTdGF0ZShzdGF0ZTogYW55LCByZXN1bHQ6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBuZXh0UGF0aCA9IHN0YXRlPy5maWxlUGF0aCBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChuZXh0UGF0aCAmJiBuZXh0UGF0aCAhPT0gdGhpcy5maWxlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5maWxlUGF0aCA9IG5leHRQYXRoO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy51c2VGaWxlKG5leHRQYXRoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBcdTgyRTVcdTY1RTBcdThERUZcdTVGODRcdUZGMENcdTZFMDVcdTdBN0FcdTVFNzZcdTYzRDBcdTc5M0FcbiAgICAgICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcbiAgICAgICAgY29udGFpbmVyRWwuYWRkQ2xhc3MoJ3BhZ2Utcm9vdCcpO1xuICAgICAgICBjb25zdCBoaW50ID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCk7XG4gICAgICAgIGhpbnQuc3R5bGUucGFkZGluZyA9ICcxNnB4JztcbiAgICAgICAgaGludC5zdHlsZS5vcGFjaXR5ID0gJzAuOCc7XG4gICAgICAgIGhpbnQudGV4dENvbnRlbnQgPSAnXHU0RUNFXHU2NTg3XHU0RUY2XHU3Njg0XHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1XHU0RTJEXHU5MDA5XHU2MkU5IFx1MjAxQ1x1NzUyOCBMYUMuQ29zdFNldCBcdTYyNTNcdTVGMDBcdTIwMURcdTMwMDInO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xvc2VFeGlzdGluZ1NvcnRNZW51KCkge1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYWMtc29ydC1tZW51JykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFudXAgPSAoZXhpc3RpbmcgYXMgYW55KS5fY2xlYW51cCBhcyAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoY2xlYW51cCkgY2xlYW51cCgpO1xuICAgICAgICAgICAgZXhpc3RpbmcucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cblx0cHJpdmF0ZSBzdmdTZWFyY2goKTogU1ZHU1ZHRWxlbWVudCB7XG5cdFx0Y29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcblx0XHRzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAyNCAyNCcpO1xuXHRcdHN2Zy5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpO1xuXHRcdGNvbnN0IGNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnY2lyY2xlJyk7XG5cdFx0Y2lyY2xlLnNldEF0dHJpYnV0ZSgnY3gnLCAnMTEnKTtcblx0XHRjaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsICcxMScpO1xuXHRcdGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ3InLCAnNycpO1xuXHRcdGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdjdXJyZW50Q29sb3InKTtcblx0XHRjaXJjbGUuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMicpO1xuXHRcdHN2Zy5hcHBlbmRDaGlsZChjaXJjbGUpO1xuXHRcdGNvbnN0IGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2xpbmUnKTtcblx0XHRsaW5lLnNldEF0dHJpYnV0ZSgneDEnLCAnMjAnKTtcblx0XHRsaW5lLnNldEF0dHJpYnV0ZSgneTEnLCAnMjAnKTtcblx0XHRsaW5lLnNldEF0dHJpYnV0ZSgneDInLCAnMTYuNjUnKTtcblx0XHRsaW5lLnNldEF0dHJpYnV0ZSgneTInLCAnMTYuNjUnKTtcblx0XHRsaW5lLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2N1cnJlbnRDb2xvcicpO1xuXHRcdGxpbmUuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMicpO1xuXHRcdGxpbmUuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWNhcCcsICdyb3VuZCcpO1xuXHRcdHN2Zy5hcHBlbmRDaGlsZChsaW5lKTtcblx0XHRyZXR1cm4gc3ZnIGFzIFNWR1NWR0VsZW1lbnQ7XG5cdH1cblxuXHRwcml2YXRlIHN2Z1BsdXMoKTogU1ZHU1ZHRWxlbWVudCB7XG5cdFx0Y29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcblx0XHRzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAyNCAyNCcpO1xuXHRcdHN2Zy5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpO1xuXHRcdGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcblx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZCcsICdNMTIgNXYxNE01IDEyaDE0Jyk7XG5cdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdjdXJyZW50Q29sb3InKTtcblx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzInKTtcblx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVjYXAnLCAncm91bmQnKTtcblx0XHRzdmcuYXBwZW5kQ2hpbGQocGF0aCk7XG5cdFx0cmV0dXJuIHN2ZyBhcyBTVkdTVkdFbGVtZW50O1xuXHR9XG5cblx0cHJpdmF0ZSBzdmdTb3J0KCk6IFNWR1NWR0VsZW1lbnQge1xuXHRcdGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG5cdFx0c3ZnLnNldEF0dHJpYnV0ZSgndmlld0JveCcsICcwIDAgMjQgMjQnKTtcblx0XHRzdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTtcblx0XHRjb25zdCBwMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuXHRcdHAxLnNldEF0dHJpYnV0ZSgnZCcsICdNOCA5bDQtNCA0IDQnKTtcblx0XHRwMS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdjdXJyZW50Q29sb3InKTtcblx0XHRwMS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcyJyk7XG5cdFx0cDEuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWNhcCcsICdyb3VuZCcpO1xuXHRcdHAxLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVqb2luJywgJ3JvdW5kJyk7XG5cdFx0c3ZnLmFwcGVuZENoaWxkKHAxKTtcblx0XHRjb25zdCBwMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuXHRcdHAyLnNldEF0dHJpYnV0ZSgnZCcsICdNMTYgMTVsLTQgNC00LTQnKTtcblx0XHRwMi5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdjdXJyZW50Q29sb3InKTtcblx0XHRwMi5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcyJyk7XG5cdFx0cDIuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWNhcCcsICdyb3VuZCcpO1xuXHRcdHAyLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVqb2luJywgJ3JvdW5kJyk7XG5cdFx0c3ZnLmFwcGVuZENoaWxkKHAyKTtcblx0XHRyZXR1cm4gc3ZnIGFzIFNWR1NWR0VsZW1lbnQ7XG5cdH1cblxuXHRwcml2YXRlIHN2Z0JhY2soKTogU1ZHU1ZHRWxlbWVudCB7XG5cdFx0Y29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcblx0XHRzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAyNCAyNCcpO1xuXHRcdHN2Zy5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpO1xuXHRcdGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcblx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZCcsICdNMTUgMThsLTYtNiA2LTYnKTtcblx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2N1cnJlbnRDb2xvcicpO1xuXHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMicpO1xuXHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWNhcCcsICdyb3VuZCcpO1xuXHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWpvaW4nLCAncm91bmQnKTtcblx0XHRzdmcuYXBwZW5kQ2hpbGQocGF0aCk7XG5cdFx0cmV0dXJuIHN2ZyBhcyBTVkdTVkdFbGVtZW50O1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJUb3BTdW1tYXJ5KGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCkge1xuXHRcdC8vIFx1OEJBMVx1N0I5N1x1N0VERlx1OEJBMVx1NjU3MFx1NjM2RVxuXHRcdGNvbnN0IGNhbGNEYXRlID0gdGhpcy5zZWxlY3RlZERhdGUgfHwgbmV3IERhdGUoKTtcblx0XHRjb25zdCBhY3RpdmVBc3NldHMgPSB0aGlzLmFzc2V0cy5maWx0ZXIoYXNzZXQgPT4gYXNzZXQuaXNBY3RpdmUoY2FsY0RhdGUpICYmICFhc3NldC5oaWRkZW4pO1xuXHRcdGNvbnN0IGZpbHRlcmVkQWN0aXZlQXNzZXRzID0gdGhpcy5hcHBseVRhZ0ZpbHRlcihhY3RpdmVBc3NldHMpO1xuXHRcdGNvbnN0IHRvdGFsQ29zdCA9IGZpbHRlcmVkQWN0aXZlQXNzZXRzLnJlZHVjZSgoc3VtLCBhc3NldCkgPT4gc3VtICsgYXNzZXQucHJpY2UsIDApO1xuXHRcdGNvbnN0IHRvdGFsUmVjeWNsZSA9IGZpbHRlcmVkQWN0aXZlQXNzZXRzLnJlZHVjZSgoc3VtLCBhc3NldCkgPT4gc3VtICsgYXNzZXQucmVjeWNsZVByaWNlLCAwKTtcblx0XHRjb25zdCB0b3RhbERhaWx5Q29zdCA9IGZpbHRlcmVkQWN0aXZlQXNzZXRzLnJlZHVjZSgoc3VtLCBhc3NldCkgPT4gc3VtICsgYXNzZXQuZ2V0RGFpbHlDb3N0KGNhbGNEYXRlKSwgMCk7XG5cdFx0XG5cdFx0Ly8gXHU4M0I3XHU1M0Q2XHU2MjQwXHU2NzA5XHU2ODA3XHU3QjdFXHVGRjA4XHU0RUNFXHU1MTY4XHU5MEU4XHU4RDQ0XHU0RUE3XHU2NTM2XHU5NkM2XHVGRjA5XHVGRjBDXHU1RTc2XHU4RkRCXHU4ODRDXHU1NkZBXHU1QjlBXHU5ODdBXHU1RThGXHU2MzkyXHU1RThGXHVGRjA4XHU0RTJEXHU2NTg3XHUzMDAxXHU1RkZEXHU3NTY1XHU1OTI3XHU1QzBGXHU1MTk5XHUzMDAxXHU2NTcwXHU1MDNDXHU5ODdBXHU1RThGXHVGRjA5XG5cdFx0Y29uc3QgYWxsVGFncyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXHRcdHRoaXMuYXNzZXRzLmZvckVhY2goYXNzZXQgPT4ge1xuXHRcdFx0KGFzc2V0LnRhZ3MgfHwgW10pLmZvckVhY2godGFnID0+IGFsbFRhZ3MuYWRkKHRhZykpO1xuXHRcdH0pO1xuXHRcdGNvbnN0IGNvbGxhdG9yID0gbmV3IEludGwuQ29sbGF0b3IoJ3poJywgeyBzZW5zaXRpdml0eTogJ2Jhc2UnLCBudW1lcmljOiB0cnVlIH0pO1xuXHRcdGNvbnN0IHRhZ3NBcnJheSA9IEFycmF5LmZyb20oYWxsVGFncykuc29ydCgoYSwgYikgPT4gY29sbGF0b3IuY29tcGFyZShhLCBiKSk7XG5cblx0XHQvLyBcdThCQTFcdTdCOTdcdTVFNzRcdTRFRkRcdTgzMDNcdTU2RjRcdUZGMUFcdTRFQ0VcdTY3MDBcdTY1RTlcdThENDRcdTRFQTdcdTVFNzRcdTRFRkRcdTUyMzBcdTY3MkFcdTY3NjU3XHU1RTc0XG5cdFx0Y29uc3QgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cdFx0Y29uc3QgbWF4WWVhciA9IGN1cnJlbnRZZWFyICsgNzsgLy8gXHU2NzJBXHU2NzY1N1x1NUU3NFxuXHRcdFxuXHRcdGxldCBtaW5ZZWFyID0gY3VycmVudFllYXI7IC8vIFx1OUVEOFx1OEJBNFx1NjcwMFx1NUMwRlx1NUU3NFx1NEVGRFx1NEUzQVx1NUY1M1x1NTI0RFx1NUU3NFx1NEVGRFxuXHRcdGlmICh0aGlzLmFzc2V0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHQvLyBcdTYyN0VcdTUyMzBcdTYyNDBcdTY3MDlcdThENDRcdTRFQTdcdTRFMkRcdTc2ODRcdTY3MDBcdTY1RTlcdTVFNzRcdTRFRkRcblx0XHRcdGNvbnN0IGVhcmxpZXN0WWVhciA9IE1hdGgubWluKC4uLnRoaXMuYXNzZXRzLm1hcChhc3NldCA9PiBhc3NldC5hY3RpdmVGcm9tLmdldEZ1bGxZZWFyKCkpKTtcblx0XHRcdG1pblllYXIgPSBlYXJsaWVzdFllYXI7XG5cdFx0fVxuXG5cdFx0Ly8gXHU4QkExXHU3Qjk3XHU1NkZFXHU4ODY4XHU2NTcwXHU2MzZFIC0gXHU0RjdGXHU3NTI4XHU0RTI0XHU2QjY1XHU2RTMyXHU2N0QzXHU3QjU2XHU3NTY1XHVGRjA4XHU1N0ZBXHU0RThFXHU3QjVCXHU5MDA5XHU1NDBFXHU3Njg0XHU4RDQ0XHU0RUE3XHVGRjA5XG5cdFx0Y29uc3QgdHJlbmRQb2ludHMgPSB0aGlzLmNhbGNUcmVuZFBvaW50cyhmaWx0ZXJlZEFjdGl2ZUFzc2V0cywgMzApO1xuXG5cdFx0Y29uc29sZS5sb2coJ1x1NkUzMlx1NjdEM1x1OTg3Nlx1OTBFOFx1N0VERlx1OEJBMVx1NTMzQVx1NTdERjonLCB7IFxuXHRcdFx0YWN0aXZlQXNzZXRzOiBhY3RpdmVBc3NldHMubGVuZ3RoLCBcblx0XHRcdHRvdGFsQ29zdCwgXG5cdFx0XHR0b3RhbFJlY3ljbGUsIFxuXHRcdFx0dG90YWxEYWlseUNvc3QsIFxuXHRcdFx0dGFnc0FycmF5LFxuXHRcdFx0eWVhclJhbmdlOiB7IG1pblllYXIsIG1heFllYXIgfVxuXHRcdH0pO1xuXG5cdFx0Ly8gXHU1MjFCXHU1RUZBVG9wU3VtbWFyeVx1N0VDNFx1NEVGNlxuXHRcdGNvbnN0IHRvcFN1bW1hcnlFbCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdigpO1xuXHRcdGNvbnN0IHRvcFN1bW1hcnlQcm9wczogVG9wU3VtbWFyeVByb3BzID0ge1xuXHRcdFx0dG90YWxEYWlseUNvc3QsXG5cdFx0XHR0b3RhbENvc3QsXG5cdFx0XHR0b3RhbFJlY3ljbGUsXG5cdFx0XHR0YWdzOiB0YWdzQXJyYXksXG5cdFx0XHRzZWxlY3RlZFRhZ3M6IHRoaXMuc2VsZWN0ZWRUYWdzLFxuXHRcdFx0b25UYWdDbGljazogKHRhZzogc3RyaW5nIHwgc3RyaW5nW10pID0+IHtcblx0XHRcdFx0Ly8gXHU2NTJGXHU2MzAxXHU1MzU1XHU0RTJBXHU2ODA3XHU3QjdFXHU1MjA3XHU2MzYyXHU2MjE2XHU2Mjc5XHU5MUNGXHU4QkJFXHU3RjZFXG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KHRhZykpIHtcblx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkVGFncyA9IFsuLi5uZXcgU2V0KHRhZyldO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICh0aGlzLnNlbGVjdGVkVGFncy5pbmNsdWRlcyh0YWcpKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkVGFncyA9IHRoaXMuc2VsZWN0ZWRUYWdzLmZpbHRlcih0ID0+IHQgIT09IHRhZyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRUYWdzID0gWy4uLnRoaXMuc2VsZWN0ZWRUYWdzLCB0YWddO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcdTk4NzVcdTk3NjJcdTRFRTVcdTUzQ0RcdTY2MjBcdTdCNUJcdTkwMDlcblx0XHRcdFx0dGhpcy5yZW5kZXJBc3NldHMoKTtcblx0XHRcdH0sXG5cdFx0XHR0cmVuZFBvaW50cyxcblx0XHRcdHNlbGVjdGVkRGF0ZTogdGhpcy5zZWxlY3RlZERhdGUsXG5cdFx0XHRvbkNoYXJ0U2VsZWN0OiAoeDogbnVtYmVyKSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdcdTU2RkVcdTg4NjhcdTkwMDlcdTYyRTk6JywgeCk7XG5cdFx0XHRcdC8vIFx1NTQwRVx1N0VFRFx1NTNFRlx1NEVFNVx1NkRGQlx1NTJBMFx1NTZGRVx1ODg2OFx1NEVBNFx1NEU5Mlx1NTI5Rlx1ODBGRFxuXHRcdFx0fSxcblx0XHRcdG9uQ2hhcnRXaWR0aDogKHc6IG51bWJlcikgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnXHU1NkZFXHU4ODY4XHU1QkJEXHU1RUE2OicsIHcpO1xuXHRcdFx0fSxcblx0XHRcdG9uRGF0ZVBpY2s6IChkYXRlU3RyOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ1x1NjVFNVx1NjcxRlx1OTAwOVx1NjJFOTonLCBkYXRlU3RyKTtcblx0XHRcdFx0Ly8gXHU1OTA0XHU3NDA2XHU2NUU1XHU2NzFGXHU5MDA5XHU2MkU5XHU5MDNCXHU4RjkxXHVGRjFBXHU0RUM1XHU2NkY0XHU2NUIwXHU3QUQ2XHU3RUJGXHU0RTBFXHU2NTcwXHU1QjU3XHVGRjBDXHU0RTBEXHU5MUNEXHU3Qjk3XHU2Mjk4XHU3RUJGXG5cdFx0XHRcdGNvbnN0IHNlbGVjdGVkRGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpO1xuXHRcdFx0XHR0aGlzLnNlbGVjdGVkRGF0ZSA9IHNlbGVjdGVkRGF0ZTsgLy8gXHU2NkY0XHU2NUIwXHU3MkI2XHU2MDAxXG5cdFx0XHRcdGlmICh0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQpIHtcblx0XHRcdFx0XHR0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQudXBkYXRlU2VsZWN0aW9uKG51bGwsIHNlbGVjdGVkRGF0ZSk7XG5cdFx0XHRcdFx0Ly8gXHU1NDBDXHU2QjY1XHU2NkY0XHU2NUIwXHU5ODc2XHU5MEU4XHU2NTcwXHU1QjU3XG5cdFx0XHRcdFx0Y29uc3QgY2FsY0RhdGUgPSBzZWxlY3RlZERhdGU7XG5cdFx0XHRcdFx0Y29uc3QgYWN0aXZlQXNzZXRzID0gdGhpcy5hc3NldHMuZmlsdGVyKGFzc2V0ID0+IGFzc2V0LmlzQWN0aXZlKGNhbGNEYXRlKSAmJiAhYXNzZXQuaGlkZGVuKTtcblx0XHRcdFx0XHRjb25zdCBmaWx0ZXJlZEFjdGl2ZUFzc2V0cyA9IHRoaXMuYXBwbHlUYWdGaWx0ZXIoYWN0aXZlQXNzZXRzKTtcblx0XHRcdFx0XHRjb25zdCB0b3RhbENvc3QgPSBmaWx0ZXJlZEFjdGl2ZUFzc2V0cy5yZWR1Y2UoKHN1bSwgYXNzZXQpID0+IHN1bSArIGFzc2V0LnByaWNlLCAwKTtcblx0XHRcdFx0XHRjb25zdCB0b3RhbFJlY3ljbGUgPSBmaWx0ZXJlZEFjdGl2ZUFzc2V0cy5yZWR1Y2UoKHN1bSwgYXNzZXQpID0+IHN1bSArIGFzc2V0LnJlY3ljbGVQcmljZSwgMCk7XG5cdFx0XHRcdFx0Y29uc3QgdG90YWxEYWlseUNvc3QgPSBmaWx0ZXJlZEFjdGl2ZUFzc2V0cy5yZWR1Y2UoKHN1bSwgYXNzZXQpID0+IHN1bSArIGFzc2V0LmdldERhaWx5Q29zdChjYWxjRGF0ZSksIDApO1xuXHRcdFx0XHRcdHRoaXMudG9wU3VtbWFyeUNvbXBvbmVudC51cGRhdGVOdW1iZXJzKHRvdGFsRGFpbHlDb3N0LCB0b3RhbENvc3QsIHRvdGFsUmVjeWNsZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gXHU0RUM1XHU1MjM3XHU2NUIwXHU1MjE3XHU4ODY4XG5cdFx0XHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0XHRcdGNvbnN0IGxpc3RFbCA9IGNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5hc3NldHMtY29udGFpbmVyJyk7XG5cdFx0XHRcdGlmIChsaXN0RWwpIHtcblx0XHRcdFx0XHQvLyBcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcdTY1NzRcdTRFMkFcdTg5QzZcdTU2RkVcdTRGMUFcdTkxQ0RcdTVFRkFcdTU2RkVcdTg4NjhcdUZGMENcdThGRDlcdTkxQ0NcdTUzRUFcdTkxQ0RcdTVFRkFcdTUyMTdcdTg4NjhcdTUzM0FcdTU3REZcblx0XHRcdFx0XHQobGlzdEVsIGFzIEhUTUxFbGVtZW50KS5yZW1vdmUoKTtcblx0XHRcdFx0XHRjb25zdCBuZXdMaXN0ID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdhc3NldHMtY29udGFpbmVyJyk7XG5cdFx0XHRcdFx0dGhpcy5yZW5kZXJBc3NldENhcmRzKG5ld0xpc3QpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIFx1ODJFNVx1OTk5Nlx1NkIyMVx1OEZEQlx1NTE2NVx1RkYwQ1x1NkI2M1x1NUUzOFx1NjU3NFx1NEY1M1x1NkUzMlx1NjdEM1xuXHRcdFx0XHRcdHRoaXMucmVuZGVyQXNzZXRzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRtaW5ZZWFyLFxuXHRcdFx0bWF4WWVhclxuXHRcdH07XG5cblx0XHR0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQgPSBuZXcgVG9wU3VtbWFyeSh0b3BTdW1tYXJ5RWwsIHRvcFN1bW1hcnlQcm9wcyk7XG5cdFx0dGhpcy50b3BTdW1tYXJ5Q29tcG9uZW50LnJlbmRlcigpO1xuXG5cdFx0Ly8gXHU1RjAyXHU2QjY1XHU3RUM2XHU1MzE2XHU1NkZFXHU4ODY4XHVGRjA4XHU1N0ZBXHU0RThFXHU1RjUzXHU1MjREXHU3QjVCXHU5MDA5XHU1NDBFXHU3Njg0XHU4RDQ0XHU0RUE3XHVGRjA5XG5cdFx0dGhpcy5yZW5kZXJDaGFydFdpdGhQcm9ncmVzc2l2ZVJlZmluZW1lbnQoZmlsdGVyZWRBY3RpdmVBc3NldHMpO1xuXHRcdFxuXHRcdGNvbnNvbGUubG9nKCdcdTk4NzZcdTkwRThcdTdFREZcdThCQTFcdTUzM0FcdTU3REZcdTVERjJcdTUyMUJcdTVFRkE6JywgdG9wU3VtbWFyeUVsKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0Q3VycmVuY3lTeW1ib2woKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdCgnY3VycmVuY3kuc3ltYm9sJyk7XG5cdH1cblxuXHQvLyBcdTZFMTBcdThGREJcdTVGMEZcdTdFQzZcdTUzMTZcdTZFMzJcdTY3RDNcdUZGMDhcdTUzQzJcdTgwMDNjb3N0c2V0YXBwXHU1QjlFXHU3M0IwXHVGRjA5XG5cdHByaXZhdGUgcmVuZGVyQ2hhcnRXaXRoUHJvZ3Jlc3NpdmVSZWZpbmVtZW50KGFzc2V0czogQXNzZXRbXSkge1xuXHRcdGlmIChhc3NldHMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cdFx0XG5cdFx0Ly8gXHU4QkExXHU3Qjk3XHU2MjQwXHU2NzA5XHU4RDQ0XHU0RUE3XHU3Njg0IGFjdGl2ZV90byBcdTY3MDBcdTU5MjdcdTUwM0Ncblx0XHRsZXQgbWF4QWN0aXZlVG8gPSAwO1xuXHRcdGFzc2V0cy5mb3JFYWNoKGEgPT4ge1xuXHRcdFx0Y29uc3QgdG8gPSBhLmFjdGl2ZVRvO1xuXHRcdFx0aWYgKHRvKSB7XG5cdFx0XHRcdGNvbnN0IHQgPSB0by5nZXRUaW1lKCk7XG5cdFx0XHRcdGlmICh0ICYmIHQgPiBtYXhBY3RpdmVUbykgbWF4QWN0aXZlVG8gPSB0O1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgbWF4RGF0ZSA9IG1heEFjdGl2ZVRvICYmIG1heEFjdGl2ZVRvID4gbm93LmdldFRpbWUoKSA/IG5ldyBEYXRlKG1heEFjdGl2ZVRvKSA6IG5vdztcblx0XHRcblx0XHQvLyBcdTdCMkNcdTRFMDBcdTZCNjVcdUZGMUFcdTUyMURcdTU5Q0JcdTcwQjlcdTVFNzZcdTg4NENcblx0XHRjb25zdCBpbml0aWFsUG9pbnRzID0gdGhpcy5jYWxjVHJlbmRQb2ludHMoYXNzZXRzLCAzMCwgdW5kZWZpbmVkLCBtYXhEYXRlKTtcblx0XHRpZiAodGhpcy50b3BTdW1tYXJ5Q29tcG9uZW50KSB7XG5cdFx0XHR0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQudXBkYXRlQ2hhcnQoaW5pdGlhbFBvaW50cyk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFx1N0IyQ1x1NEU4Q1x1NkI2NVx1RkYxQVx1NUYwMlx1NkI2NVx1N0VDNlx1NTMxNlx1NUU3Nlx1ODg0QyAtIDMwKjMwXHU0RTJBXHU3MEI5XG5cdFx0c2V0VGltZW91dChhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBzZWdQcm9taXNlczogUHJvbWlzZTx7IGRhdGU6IERhdGU7IHZhbHVlOiBudW1iZXI7IH1bXT5bXSA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbml0aWFsUG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuXHRcdFx0XHRzZWdQcm9taXNlcy5wdXNoKFxuXHRcdFx0XHRcdFByb21pc2UucmVzb2x2ZSh0aGlzLmNhbGNUcmVuZFBvaW50cyhhc3NldHMsIDMwLCBpbml0aWFsUG9pbnRzW2ldLmRhdGUsIGluaXRpYWxQb2ludHNbaSArIDFdLmRhdGUpKS50aGVuKHNlZ1BvaW50cyA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoaSA+IDApIHJldHVybiBzZWdQb2ludHMuc2xpY2UoMSk7IC8vIFx1OTA3Rlx1NTE0RFx1OTFDRFx1NTkwRFx1NzBCOVxuXHRcdFx0XHRcdFx0cmV0dXJuIHNlZ1BvaW50cztcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3Qgc2VnUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHNlZ1Byb21pc2VzKTtcblx0XHRcdGNvbnN0IGZpbmVQb2ludHMgPSBzZWdSZXN1bHRzLmZsYXQoKTtcblx0XHRcdGlmICh0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQpIHtcblx0XHRcdFx0dGhpcy50b3BTdW1tYXJ5Q29tcG9uZW50LnVwZGF0ZUNoYXJ0KGZpbmVQb2ludHMpO1xuXHRcdFx0fVxuXHRcdH0sIDUwMCk7XG5cdH1cblxuXHQvLyBcdTVDMDZcdTY4MDdcdTdCN0VcdTdCNUJcdTkwMDlcdTVFOTRcdTc1MjhcdTUyMzBcdTdFRDlcdTVCOUFcdThENDRcdTRFQTdcdTk2QzZcblx0cHJpdmF0ZSBhcHBseVRhZ0ZpbHRlcihpbnB1dDogQXNzZXRbXSk6IEFzc2V0W10ge1xuXHRcdGlmICghdGhpcy5zZWxlY3RlZFRhZ3MgfHwgdGhpcy5zZWxlY3RlZFRhZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gaW5wdXQ7XG5cdFx0cmV0dXJuIGlucHV0LmZpbHRlcihhID0+IGEudGFncz8uc29tZSh0ID0+IHRoaXMuc2VsZWN0ZWRUYWdzLmluY2x1ZGVzKHQpKSk7XG5cdH1cblxuXHRwcml2YXRlIGNhbGNUcmVuZFBvaW50cyhhc3NldHM6IEFzc2V0W10sIGNvdW50OiBudW1iZXIsIGZyb21EYXRlPzogRGF0ZSwgdG9EYXRlPzogRGF0ZSk6IHsgZGF0ZTogRGF0ZSwgdmFsdWU6IG51bWJlciB9W10ge1xuXHRcdGlmIChhc3NldHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG5cdFx0XG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBtaW5EYXRlID0gZnJvbURhdGUgfHwgbmV3IERhdGUoTWF0aC5taW4oLi4uYXNzZXRzLm1hcChhID0+IGEuYWN0aXZlRnJvbS5nZXRUaW1lKCkpKSk7XG5cdFx0Y29uc3QgbWF4QWN0aXZlVG8gPSBNYXRoLm1heCguLi5hc3NldHMubWFwKGEgPT4ge1xuXHRcdFx0Y29uc3QgdG8gPSBhLmFjdGl2ZVRvO1xuXHRcdFx0aWYgKHRvKSB7XG5cdFx0XHRcdGNvbnN0IHQgPSB0by5nZXRUaW1lKCk7XG5cdFx0XHRcdGlmICghaXNOYU4odCkpIHJldHVybiB0O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5vdy5nZXRUaW1lKCk7XG5cdFx0fSkpO1xuXHRcdGNvbnN0IG1heERhdGUgPSB0b0RhdGUgfHwgbmV3IERhdGUobWF4QWN0aXZlVG8pO1xuXHRcdFxuXHRcdGNvbnN0IHBvaW50czogeyBkYXRlOiBEYXRlLCB2YWx1ZTogbnVtYmVyIH1bXSA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuXHRcdFx0Y29uc3QgdCA9IG1pbkRhdGUuZ2V0VGltZSgpICsgKG1heERhdGUuZ2V0VGltZSgpIC0gbWluRGF0ZS5nZXRUaW1lKCkpICogaSAvIChjb3VudCAtIDEpO1xuXHRcdFx0Y29uc3QgZGF0ZSA9IG5ldyBEYXRlKHQpO1xuXHRcdFx0bGV0IHRvdGFsQ29zdCA9IDA7XG5cdFx0XHRcblx0XHRcdC8vIFx1OEJBMVx1N0I5N1x1NTcyOFx1OEJFNVx1NjVGNlx1OTVGNFx1NzBCOVx1NkQzQlx1OERDM1x1NzY4NFx1OEQ0NFx1NEVBN1x1NzY4NFx1NjVFNVx1NTc0N1x1NjIxMFx1NjcyQ1x1NjAzQlx1NTQ4Q1xuXHRcdFx0YXNzZXRzLmZvckVhY2goYSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNvc3QgPSB0aGlzLmNhbGNEYWlseUNvc3QoYS5wcmljZSwgYS5yZWN5Y2xlUHJpY2UsIGEuYWN0aXZlRnJvbSwgYS5hY3RpdmVUbywgZGF0ZSk7XG5cdFx0XHRcdGlmIChpc0Zpbml0ZShjb3N0KSkgdG90YWxDb3N0ICs9IGNvc3Q7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0cG9pbnRzLnB1c2goeyBkYXRlLCB2YWx1ZTogdG90YWxDb3N0IH0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcG9pbnRzO1xuXHR9XG5cblx0Ly8gXHU4QkExXHU3Qjk3XHU2NUU1XHU1NzQ3XHU2MjEwXHU2NzJDXHVGRjA4XHU1M0MyXHU4MDAzY29zdHNldGFwcFx1N0I5N1x1NkNENVx1RkYwOVxuXHRwcml2YXRlIGNhbGNEYWlseUNvc3QocHJpY2U6IG51bWJlciwgcmVjeWNsZTogbnVtYmVyLCBmcm9tOiBEYXRlLCB0bzogRGF0ZSB8IG51bGwgfCB1bmRlZmluZWQsIG5vdzogRGF0ZSk6IG51bWJlciB7XG5cdFx0aWYgKCFmcm9tKSByZXR1cm4gMDtcblx0XHRjb25zdCBkYXlzID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGZyb20uZ2V0VGltZSgpKSAvIDg2NDAwMDAwKSArIDE7XG5cdFx0aWYgKCF0byB8fCB0byA+IG5vdykge1xuXHRcdFx0cmVjeWNsZSA9IDA7XG5cdFx0fVxuXHRcdGlmICghaXNGaW5pdGUoZGF5cykgfHwgZGF5cyA8PSAwKSByZXR1cm4gMDtcblx0XHRjb25zdCByZXN1bHQgPSAoTnVtYmVyKHByaWNlKSAtIE51bWJlcihyZWN5Y2xlIHx8IDApKSAvIGRheXM7XG5cdFx0cmV0dXJuIGlzRmluaXRlKHJlc3VsdCkgPyByZXN1bHQgOiAwO1xuXHR9XG5cbn1cbiIsICJleHBvcnQgaW50ZXJmYWNlIFRhZ1BhbmVsUHJvcHMge1xyXG5cdHRhZ3M6IHN0cmluZ1tdO1xyXG5cdHNlbGVjdGVkVGFnczogc3RyaW5nW107XHJcblx0b25UYWdDbGljazogKHRhZzogc3RyaW5nIHwgc3RyaW5nW10pID0+IHZvaWQ7XHJcblx0bWF4SGVpZ2h0Pzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnUGFuZWwge1xyXG5cdHByaXZhdGUgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcHJvcHM6IFRhZ1BhbmVsUHJvcHM7XHJcblx0cHJpdmF0ZSBwYW5lbFZpc2libGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRwcml2YXRlIHBhbmVsU2VsZWN0ZWQ6IHN0cmluZ1tdID0gW107XHJcblx0cHJpdmF0ZSBzZWFyY2hLZXl3b3JkOiBzdHJpbmcgPSAnJztcclxuXHRwcml2YXRlIG1hc2tFbD86IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcGFuZWxFbD86IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgbGFiZWxzRWw/OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHNlYXJjaEVsPzogSFRNTElucHV0RWxlbWVudDtcclxuICAgIC8vIGkxOG4gXHU1RUY2XHU1NDBFXHU1MkEwXHU4RjdEXHVGRjBDXHU5MDdGXHU1MTREXHU3ODZDXHU0RjlEXHU4RDU2XHVGRjFBXHU0RjdGXHU3NTI4XHU1MkE4XHU2MDAxXHU1QkZDXHU1MTY1XHJcblxyXG5cdGNvbnN0cnVjdG9yKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgcHJvcHM6IFRhZ1BhbmVsUHJvcHMpIHtcclxuXHRcdHRoaXMuY29udGFpbmVyRWwgPSBjb250YWluZXJFbDtcclxuXHRcdHRoaXMucHJvcHMgPSBwcm9wcztcclxuXHRcdHRoaXMucGFuZWxTZWxlY3RlZCA9IFsuLi5wcm9wcy5zZWxlY3RlZFRhZ3NdO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xyXG5cdFx0dGhpcy5jb250YWluZXJFbC5hZGRDbGFzcygndG9wLXN1bW1hcnktbGFiZWxzJyk7XHJcblx0XHRcclxuXHRcdC8vIFx1OEJCRVx1N0Y2RVx1NjcwMFx1NTkyN1x1OUFEOFx1NUVBNlxyXG5cdFx0aWYgKHRoaXMucHJvcHMubWF4SGVpZ2h0KSB7XHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuc3R5bGUubWF4SGVpZ2h0ID0gdGhpcy5wcm9wcy5tYXhIZWlnaHQ7XHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuc3R5bGUub3ZlcmZsb3dZID0gdGhpcy5wcm9wcy5tYXhIZWlnaHQgIT09ICdhdXRvJyA/ICdhdXRvJyA6ICd2aXNpYmxlJztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTZFMzJcdTY3RDNcdTY4MDdcdTdCN0VcdTUyMTdcdTg4NjhcclxuXHRcdHRoaXMucmVuZGVyVGFnTGlzdCgpO1xyXG5cdFx0XHJcblx0XHQvLyBcdTZFMzJcdTY3RDNcdTkwMDlcdTYyRTlcdTk3NjJcdTY3N0ZcdUZGMDhcdTU5ODJcdTY3OUNcdTUzRUZcdTg5QzFcdUZGMDlcclxuXHRcdGlmICh0aGlzLnBhbmVsVmlzaWJsZSkge1xyXG5cdFx0XHR0aGlzLnJlbmRlclNlbGVjdGlvblBhbmVsKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclRhZ0xpc3QoKTogdm9pZCB7XHJcblx0XHR0aGlzLnByb3BzLnRhZ3MuZm9yRWFjaCh0YWcgPT4ge1xyXG5cdFx0XHRjb25zdCBsYWJlbEVsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVTcGFuKCd0b3Atc3VtbWFyeS1sYWJlbCcpO1xyXG5cdFx0XHRsYWJlbEVsLnRleHRDb250ZW50ID0gdGFnO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2VsZWN0ZWRUYWdzLmluY2x1ZGVzKHRhZykpIHtcclxuXHRcdFx0XHRsYWJlbEVsLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRsYWJlbEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdHRoaXMucHJvcHMub25UYWdDbGljayh0YWcpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1NzBCOVx1NTFGQlx1NEU4Qlx1NEVGNlx1Njc2NVx1NjYzRVx1NzkzQVx1OTAwOVx1NjJFOVx1OTc2Mlx1Njc3RlxyXG5cdFx0dGhpcy5jb250YWluZXJFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0dGhpcy5zaG93U2VsZWN0aW9uUGFuZWwoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzaG93U2VsZWN0aW9uUGFuZWwoKTogdm9pZCB7XHJcblx0XHR0aGlzLnBhbmVsVmlzaWJsZSA9IHRydWU7XHJcblx0XHR0aGlzLnBhbmVsU2VsZWN0ZWQgPSBbLi4udGhpcy5wcm9wcy5zZWxlY3RlZFRhZ3NdO1xyXG5cdFx0dGhpcy5yZW5kZXIoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaGlkZVNlbGVjdGlvblBhbmVsKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5wYW5lbFZpc2libGUgPSBmYWxzZTtcclxuXHRcdGlmICh0aGlzLm1hc2tFbCAmJiB0aGlzLm1hc2tFbC5wYXJlbnRFbGVtZW50KSB7XHJcblx0XHRcdHRoaXMubWFza0VsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5tYXNrRWwpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5tYXNrRWwgPSB1bmRlZmluZWQ7XHJcblx0XHR0aGlzLnBhbmVsRWwgPSB1bmRlZmluZWQ7XHJcblx0XHR0aGlzLmxhYmVsc0VsID0gdW5kZWZpbmVkO1xyXG5cdFx0dGhpcy5zZWFyY2hFbCA9IHVuZGVmaW5lZDtcclxuXHRcdHRoaXMucmVuZGVyKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclNlbGVjdGlvblBhbmVsKCk6IHZvaWQge1xyXG5cdFx0Ly8gXHU1OTBEXHU3NTI4XHU5MDZFXHU3RjY5XHU1QzQyXHU0RTBFXHU5NzYyXHU2NzdGXHVGRjBDXHU5MDdGXHU1MTREXHU5MUNEXHU1RUZBXHU1QkZDXHU4MUY0XHU2RURBXHU1MkE4XHU0RTIyXHU1OTMxXHJcblx0XHRpZiAoIXRoaXMubWFza0VsKSB7XHJcblx0XHRcdHRoaXMubWFza0VsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoJ3RvcC1zdW1tYXJ5LXBhbmVsLW1hc2snKTtcclxuXHRcdFx0dGhpcy5tYXNrRWwuc3R5bGUuekluZGV4ID0gJzk5OTknO1xyXG5cdFx0XHR0aGlzLm1hc2tFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNvbmZpcm1TZWxlY3Rpb24oKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCF0aGlzLnBhbmVsRWwpIHtcclxuXHRcdFx0dGhpcy5wYW5lbEVsID0gdGhpcy5tYXNrRWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS1wYW5lbCcpO1xyXG5cdFx0XHR0aGlzLnBhbmVsRWwuc3R5bGUuekluZGV4ID0gJzEwMDAwJztcclxuXHRcdFx0dGhpcy5wYW5lbEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTY0MUNcdTdEMjJcdTY4NDZcdUZGMUFcdTUyMUJcdTVFRkFcdTYyMTZcdTU5MERcdTc1MjhcdUZGMENcdTVFNzZcdTdFRDFcdTVCOUFcdThGOTNcdTUxNjVcclxuXHRcdGlmICghdGhpcy5zZWFyY2hFbCkge1xyXG5cdFx0XHR0aGlzLnNlYXJjaEVsID0gdGhpcy5wYW5lbEVsLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0XHRjbHM6ICd0b3Atc3VtbWFyeS1wYW5lbC1zZWFyY2gnLFxyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiAocmVxdWlyZSgnLi4vaTE4bicpIGFzIGFueSk/LnQ/LigndGFncy5zZWFyY2gucGxhY2Vob2xkZXInKSB8fCAnXHU2NDFDXHU3RDIyXHU2ODA3XHU3QjdFJyxcclxuXHRcdFx0XHR0eXBlOiAndGV4dCdcclxuXHRcdFx0fSkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdFx0dGhpcy5zZWFyY2hFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaEtleXdvcmQgPSAodGhpcy5zZWFyY2hFbD8udmFsdWUgfHwgJycpLnRyaW0oKTtcclxuXHRcdFx0XHR0aGlzLnJlbmRlclNlbGVjdGlvblBhbmVsKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuc2VhcmNoRWwpIHtcclxuXHRcdFx0dGhpcy5zZWFyY2hFbC52YWx1ZSA9IHRoaXMuc2VhcmNoS2V5d29yZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTY4MDdcdTdCN0VcdTUyMTdcdTg4NjhcdUZGMDhcdTUzRUZcdTZFREFcdTUyQThcdUZGMDlcclxuXHRcdGNvbnN0IHByZXZTY3JvbGxUb3AgPSB0aGlzLmxhYmVsc0VsID8gdGhpcy5sYWJlbHNFbC5zY3JvbGxUb3AgOiAwO1xyXG5cdFx0aWYgKCF0aGlzLmxhYmVsc0VsKSB7XHJcblx0XHRcdHRoaXMubGFiZWxzRWwgPSB0aGlzLnBhbmVsRWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS1wYW5lbC1sYWJlbHMnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMubGFiZWxzRWwuZW1wdHkoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBsb3dlciA9IHRoaXMuc2VhcmNoS2V5d29yZC50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0Y29uc3QgdmlzaWJsZVRhZ3MgPSBsb3dlciA/IHRoaXMucHJvcHMudGFncy5maWx0ZXIodCA9PiB0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXIpKSA6IHRoaXMucHJvcHMudGFncztcclxuXHRcdHZpc2libGVUYWdzLmZvckVhY2godGFnID0+IHtcclxuXHRcdFx0Y29uc3QgbGFiZWxFbCA9IHRoaXMubGFiZWxzRWwhLmNyZWF0ZVNwYW4oJ3RvcC1zdW1tYXJ5LXBhbmVsLWxhYmVsJyk7XHJcblx0XHRcdGxhYmVsRWwudGV4dENvbnRlbnQgPSB0YWc7XHJcblx0XHRcdGlmICh0aGlzLnBhbmVsU2VsZWN0ZWQuaW5jbHVkZXModGFnKSkge1xyXG5cdFx0XHRcdGxhYmVsRWwuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0bGFiZWxFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHQvLyBcdTRFQzVcdTY2RjRcdTY1QjBcdTUxODVcdTVCQjlcdUZGMENcdTRFMERcdTk1MDBcdTZCQzFcdTk3NjJcdTY3N0ZcdUZGMENcdTRGRERcdTc1NTlcdTZFREFcdTUyQThcdTRGNERcdTdGNkVcclxuXHRcdFx0XHR0aGlzLnRvZ2dsZVRhZ1NlbGVjdGlvbih0YWcpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0Ly8gXHU2MDYyXHU1OTBEXHU2RURBXHU1MkE4XHU0RjREXHU3RjZFXHJcblx0XHRpZiAodGhpcy5sYWJlbHNFbCkge1xyXG5cdFx0XHR0aGlzLmxhYmVsc0VsLnNjcm9sbFRvcCA9IHByZXZTY3JvbGxUb3A7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gXHU1RTk1XHU5MEU4XHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFXHVGRjA4XHU4MkU1XHU2NzJBXHU1MjFCXHU1RUZBXHU1MjE5XHU1MjFCXHU1RUZBXHU0RTAwXHU2QjIxXHVGRjA5XHJcblx0XHRsZXQgYWN0aW9uc0VsID0gdGhpcy5wYW5lbEVsLnF1ZXJ5U2VsZWN0b3IoJy50b3Atc3VtbWFyeS1wYW5lbC1hY3Rpb25zJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xyXG5cdFx0aWYgKCFhY3Rpb25zRWwpIHtcclxuXHRcdFx0YWN0aW9uc0VsID0gdGhpcy5wYW5lbEVsLmNyZWF0ZURpdigndG9wLXN1bW1hcnktcGFuZWwtYWN0aW9ucycpO1xyXG5cdFx0XHRhY3Rpb25zRWwuc3R5bGUucGFkZGluZyA9ICc4cHggMTZweCAxMnB4IDE2cHgnO1xyXG5cdFx0XHRjb25zdCBzZWxlY3RBbGxCdG4gPSBhY3Rpb25zRWwuY3JlYXRlU3BhbigncGFuZWwtYnRuJyk7XHJcblx0XHRcdHNlbGVjdEFsbEJ0bi50ZXh0Q29udGVudCA9IChyZXF1aXJlKCcuLi9pMThuJykgYXMgYW55KT8udD8uKCd0YWdzLnNlbGVjdEFsbCcpIHx8ICdcdTUxNjhcdTkwMDknO1xyXG5cdFx0XHRzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wYW5lbFNlbGVjdGVkID0gWy4uLnRoaXMucHJvcHMudGFnc107XHJcblx0XHRcdFx0dGhpcy5yZW5kZXJTZWxlY3Rpb25QYW5lbCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Y29uc3QgZGVzZWxlY3RBbGxCdG4gPSBhY3Rpb25zRWwuY3JlYXRlU3BhbigncGFuZWwtYnRuJyk7XHJcblx0XHRcdGRlc2VsZWN0QWxsQnRuLnRleHRDb250ZW50ID0gKHJlcXVpcmUoJy4uL2kxOG4nKSBhcyBhbnkpPy50Py4oJ3RhZ3MuZGVzZWxlY3RBbGwnKSB8fCAnXHU1M0Q2XHU2RDg4XHU1MTY4XHU5MDA5JztcclxuXHRcdFx0ZGVzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wYW5lbFNlbGVjdGVkID0gW107XHJcblx0XHRcdFx0dGhpcy5yZW5kZXJTZWxlY3Rpb25QYW5lbCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdG9nZ2xlVGFnU2VsZWN0aW9uKHRhZzogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5wYW5lbFNlbGVjdGVkLmluY2x1ZGVzKHRhZykpIHtcclxuXHRcdFx0dGhpcy5wYW5lbFNlbGVjdGVkID0gdGhpcy5wYW5lbFNlbGVjdGVkLmZpbHRlcih0ID0+IHQgIT09IHRhZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnBhbmVsU2VsZWN0ZWQucHVzaCh0YWcpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5yZW5kZXJTZWxlY3Rpb25QYW5lbCgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjb25maXJtU2VsZWN0aW9uKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5wcm9wcy5vblRhZ0NsaWNrKHRoaXMucGFuZWxTZWxlY3RlZCk7XHJcblx0XHR0aGlzLmhpZGVTZWxlY3Rpb25QYW5lbCgpO1xyXG5cdH1cclxuXHJcblx0Ly8gXHU2NkY0XHU2NUIwXHU2ODA3XHU3QjdFXHJcblx0dXBkYXRlVGFncyh0YWdzOiBzdHJpbmdbXSwgc2VsZWN0ZWRUYWdzOiBzdHJpbmdbXSk6IHZvaWQge1xyXG5cdFx0dGhpcy5wcm9wcy50YWdzID0gdGFncztcclxuXHRcdHRoaXMucHJvcHMuc2VsZWN0ZWRUYWdzID0gc2VsZWN0ZWRUYWdzO1xyXG5cdFx0dGhpcy5yZW5kZXIoKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFzc2V0IH0gZnJvbSAnLi4vbW9kZWxzL0Fzc2V0JztcbmltcG9ydCB7IFRhZ1BhbmVsLCBUYWdQYW5lbFByb3BzIH0gZnJvbSAnLi9UYWdQYW5lbCc7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi4vaTE4bic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9wU3VtbWFyeVByb3BzIHtcblx0dG90YWxEYWlseUNvc3Q6IG51bWJlcjtcblx0dG90YWxDb3N0OiBudW1iZXI7XG5cdHRvdGFsUmVjeWNsZTogbnVtYmVyO1xuXHR0YWdzOiBzdHJpbmdbXTtcblx0c2VsZWN0ZWRUYWdzOiBzdHJpbmdbXTtcblx0b25UYWdDbGljazogKHRhZzogc3RyaW5nIHwgc3RyaW5nW10pID0+IHZvaWQ7XG5cdHRyZW5kUG9pbnRzOiB7IGRhdGU6IERhdGUsIHZhbHVlOiBudW1iZXIgfVtdO1xuXHRzZWxlY3RlZERhdGU/OiBEYXRlO1xuXHRzZWxlY3RlZFg/OiBudW1iZXIgfCBudWxsO1xuXHRvbkNoYXJ0U2VsZWN0PzogKHg6IG51bWJlcikgPT4gdm9pZDtcblx0b25DaGFydFdpZHRoPzogKHc6IG51bWJlcikgPT4gdm9pZDtcblx0b25EYXRlUGljaz86IChkYXRlU3RyOiBzdHJpbmcpID0+IHZvaWQ7XG5cdG1pbkRhdGVTdHI/OiBzdHJpbmc7XG5cdG1heERhdGVTdHI/OiBzdHJpbmc7XG5cdG1pblllYXI/OiBudW1iZXI7XG5cdG1heFllYXI/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBUb3BTdW1tYXJ5IHtcblx0cHJpdmF0ZSBjb250YWluZXJFbDogSFRNTEVsZW1lbnQ7XG5cdHByaXZhdGUgcHJvcHM6IFRvcFN1bW1hcnlQcm9wcztcblx0cHJpdmF0ZSBjaGFydENvbXBvbmVudD86IGFueTsgLy8gTGluZUNoYXJ0XHU3RUM0XHU0RUY2XHU1RjE1XHU3NTI4XG5cdHByaXZhdGUgdGFnUGFuZWxDb21wb25lbnQ/OiBUYWdQYW5lbDtcblxuXHRjb25zdHJ1Y3Rvcihjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHByb3BzOiBUb3BTdW1tYXJ5UHJvcHMpIHtcblx0XHR0aGlzLmNvbnRhaW5lckVsID0gY29udGFpbmVyRWw7XG5cdFx0dGhpcy5wcm9wcyA9IHByb3BzO1xuXHR9XG5cblx0cHJpdmF0ZSBmb3JtYXREYXRlTG9jYWwoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG5cdFx0Y29uc3QgZCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xuXHRcdHJldHVybiBkLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblx0fVxuXG5cdHJlbmRlcigpOiB2b2lkIHtcblx0XHR0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0dGhpcy5jb250YWluZXJFbC5hZGRDbGFzcygndG9wLXN1bW1hcnknKTtcblxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjU3MFx1NUI1N1x1NTMzQVx1NTdERlxuXHRcdHRoaXMucmVuZGVyTnVtYmVycygpO1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjgwN1x1N0I3RVx1NTMzQVx1NTdERlxuXHRcdHRoaXMucmVuZGVyTGFiZWxzKCk7XG5cdFx0XG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU1NkZFXHU4ODY4XHU1MzNBXHU1N0RGXG5cdFx0dGhpcy5yZW5kZXJDaGFydCgpO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJOdW1iZXJzKCk6IHZvaWQge1xuXHRcdGNvbnN0IG51bWJlcnNFbCA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS1udW1iZXJzJyk7XG5cdFx0XG5cdFx0Ly8gXHU1REU2XHU0RkE3XHU2NUU1XHU1NzQ3XHU2MjEwXHU2NzJDXG5cdFx0Y29uc3QgZGFpbHlFbCA9IG51bWJlcnNFbC5jcmVhdGVEaXYoJ3RvcC1zdW1tYXJ5LWRhaWx5Jyk7XG5cdFx0Y29uc3QgZGF0ZUVsID0gZGFpbHlFbC5jcmVhdGVEaXYoJ3RvcC1zdW1tYXJ5LWRhdGUnKTtcblx0XHRkYXRlRWwudGV4dENvbnRlbnQgPSB0aGlzLmZvcm1hdERhdGVMb2NhbCh0aGlzLnByb3BzLnNlbGVjdGVkRGF0ZSB8fCBuZXcgRGF0ZSgpKTtcblx0XHRkYXRlRWwuYWRkQ2xhc3MoJ2NsaWNrYWJsZScpO1xuXHRcdGRhdGVFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHRoaXMuc2hvd0RhdGVQaWNrZXIoKTtcblx0XHR9KTtcblx0XHRjb25zdCBkYWlseUNvc3RFbCA9IGRhaWx5RWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS1kYWlseWNvc3QnKTtcblx0XHRkYWlseUNvc3RFbC50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2V0Q3VycmVuY3lTeW1ib2woKX0ke3RoaXMucHJvcHMudG90YWxEYWlseUNvc3QudG9GaXhlZCgyKX1gO1xuXG5cdFx0Ly8gXHU1M0YzXHU0RkE3XHU2QzQ3XHU2MDNCXG5cdFx0Y29uc3Qgc3VtbWFyeUVsID0gbnVtYmVyc0VsLmNyZWF0ZURpdigndG9wLXN1bW1hcnktc3VtbWFyeScpO1xuXHRcdFxuXHRcdGNvbnN0IHRvdGFsRWwgPSBzdW1tYXJ5RWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS10b3RhbCcpO1xuXHRcdGNvbnN0IHRvdGFsTWV0YUVsID0gdG90YWxFbC5jcmVhdGVTcGFuKCd0b3Atc3VtbWFyeS1tZXRhJyk7XG5cdFx0dG90YWxNZXRhRWwudGV4dENvbnRlbnQgPSB0KCd0b3AudG90YWwnKTtcblx0XHRjb25zdCB0b3RhbENvc3RFbCA9IHRvdGFsRWwuY3JlYXRlU3BhbigndG9wLXN1bW1hcnktdG90YWxjb3N0Jyk7XG5cdFx0dG90YWxDb3N0RWwudGV4dENvbnRlbnQgPSBgJHt0aGlzLmdldEN1cnJlbmN5U3ltYm9sKCl9JHt0aGlzLnByb3BzLnRvdGFsQ29zdC50b0xvY2FsZVN0cmluZygpfWA7XG5cblx0XHRjb25zdCByZWN5Y2xlRWwgPSBzdW1tYXJ5RWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS10b3RhbCcpO1xuXHRcdGNvbnN0IHJlY3ljbGVNZXRhRWwgPSByZWN5Y2xlRWwuY3JlYXRlU3BhbigndG9wLXN1bW1hcnktbWV0YScpO1xuXHRcdHJlY3ljbGVNZXRhRWwudGV4dENvbnRlbnQgPSB0KCd0b3AucmVjeWNsZScpO1xuXHRcdGNvbnN0IHJlY3ljbGVDb3N0RWwgPSByZWN5Y2xlRWwuY3JlYXRlU3BhbigndG9wLXN1bW1hcnktdG90YWxjb3N0Jyk7XG5cdFx0cmVjeWNsZUNvc3RFbC50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2V0Q3VycmVuY3lTeW1ib2woKX0ke3RoaXMucHJvcHMudG90YWxSZWN5Y2xlLnRvTG9jYWxlU3RyaW5nKCl9YDtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyTGFiZWxzKCk6IHZvaWQge1xuXHRcdGNvbnN0IGxhYmVsc0VsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoJ3RvcC1zdW1tYXJ5LWxhYmVscycpO1xuXHRcdGNvbnN0IHBhbmVsUHJvcHM6IFRhZ1BhbmVsUHJvcHMgPSB7XG5cdFx0XHR0YWdzOiB0aGlzLnByb3BzLnRhZ3MsXG5cdFx0XHRzZWxlY3RlZFRhZ3M6IHRoaXMucHJvcHMuc2VsZWN0ZWRUYWdzLFxuXHRcdFx0b25UYWdDbGljazogdGhpcy5wcm9wcy5vblRhZ0NsaWNrLFxuXHRcdFx0bWF4SGVpZ2h0OiAnNDhweCdcblx0XHR9O1xuXHRcdHRoaXMudGFnUGFuZWxDb21wb25lbnQgPSBuZXcgVGFnUGFuZWwobGFiZWxzRWwsIHBhbmVsUHJvcHMpO1xuXHRcdHRoaXMudGFnUGFuZWxDb21wb25lbnQucmVuZGVyKCk7XG5cdH1cblxuXHRwcml2YXRlIGdldEN1cnJlbmN5U3ltYm9sKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHQoJ2N1cnJlbmN5LnN5bWJvbCcpO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJDaGFydCgpOiB2b2lkIHtcblx0XHRjb25zdCBjaGFydEVsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoJ3RvcC1zdW1tYXJ5LWNoYXJ0Jyk7XG5cdFx0Y29uc3QgY2FudmFzID0gY2hhcnRFbC5jcmVhdGVFbCgnY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5cdFx0Y2FudmFzLmlkID0gJ3RyZW5kLWNhbnZhcyc7XG5cdFx0Y2FudmFzLndpZHRoID0gMTAwO1xuXHRcdGNhbnZhcy5oZWlnaHQgPSAyMDtcblxuXHRcdC8vIFx1NkUzMlx1NjdEM1x1NTZGRVx1ODg2OFxuXHRcdHRoaXMucmVuZGVyQ2hhcnRDYW52YXMoY2FudmFzKTtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyQ2hhcnRDYW52YXMoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLnByb3BzLnRyZW5kUG9pbnRzLmxlbmd0aCA8IDIpIHJldHVybjtcblx0XHRcblx0XHRjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblx0XHRpZiAoIWN0eCkgcmV0dXJuO1xuXHRcdFxuXHRcdC8vIFx1OEJCRVx1N0Y2RUNhbnZhc1x1NUMzQVx1NUJGOFxuXHRcdGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0Y2FudmFzLndpZHRoID0gcmVjdC53aWR0aDtcblx0XHRjYW52YXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG5cdFx0XG5cdFx0Y29uc3Qgd2lkdGggPSBjYW52YXMud2lkdGg7XG5cdFx0Y29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblx0XHRjb25zdCBwYWQgPSAwO1xuXHRcdFxuXHRcdC8vIFx1OEJBMVx1N0I5N1x1NjU3MFx1NTAzQ1x1ODMwM1x1NTZGNFxuXHRcdGNvbnN0IHZhbHVlcyA9IHRoaXMucHJvcHMudHJlbmRQb2ludHMubWFwKHAgPT4gcC52YWx1ZSk7XG5cdFx0Y29uc3QgbWluVmFsdWUgPSBNYXRoLm1pbiguLi52YWx1ZXMpO1xuXHRcdGNvbnN0IG1heFZhbHVlID0gTWF0aC5tYXgoLi4udmFsdWVzKTtcblx0XHRjb25zdCByYW5nZSA9IG1heFZhbHVlIC0gbWluVmFsdWU7XG5cdFx0XG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU2NTcwXHU2MzZFXHU4MzAzXHU1NkY0XHU1Rjg4XHU1QzBGXHVGRjBDXHU0RjdGXHU3NTI4XHU3RUJGXHU2MDI3XHU3RjI5XHU2NTNFXHVGRjFCXHU1NDI2XHU1MjE5XHU0RjdGXHU3NTI4XHU1QkY5XHU2NTcwXHU3RjI5XHU2NTNFXG5cdFx0Y29uc3QgdXNlTG9nU2NhbGUgPSByYW5nZSA+IDEwMDtcblx0XHRcblx0XHRjb25zdCBnZXRYID0gKGk6IG51bWJlcikgPT4gcGFkICsgKHdpZHRoIC0gMiAqIHBhZCkgKiBpIC8gKHRoaXMucHJvcHMudHJlbmRQb2ludHMubGVuZ3RoIC0gMSk7XG5cdFx0Y29uc3QgZ2V0WSA9ICh2OiBudW1iZXIpID0+IHtcblx0XHRcdGlmICh1c2VMb2dTY2FsZSkge1xuXHRcdFx0XHRjb25zdCBsb2dWYWx1ZSA9IE1hdGgubG9nKHYgKyAxKTtcblx0XHRcdFx0Y29uc3QgbG9nTWluID0gTWF0aC5sb2cobWluVmFsdWUgKyAxKTtcblx0XHRcdFx0Y29uc3QgbG9nTWF4ID0gTWF0aC5sb2cobWF4VmFsdWUgKyAxKTtcblx0XHRcdFx0cmV0dXJuIGhlaWdodCAtIHBhZCAtICgobG9nVmFsdWUgLSBsb2dNaW4pIC8gTWF0aC5tYXgobG9nTWF4IC0gbG9nTWluLCAwLjUpKSAqIChoZWlnaHQgLSAyICogcGFkKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBoZWlnaHQgLSBwYWQgLSAoKHYgLSBtaW5WYWx1ZSkgLyBNYXRoLm1heChyYW5nZSwgMC41KSkgKiAoaGVpZ2h0IC0gMiAqIHBhZCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRjb25zdCBnZXRDb2xvckJ5VmFsdWUgPSAodjogbnVtYmVyKSA9PiB7XG5cdFx0XHQvLyBcdTRGN0ZcdTc1MjhcdTVCRjlcdTY1NzBcdTdGMjlcdTY1M0VcdThCQTFcdTdCOTdcdTk4OUNcdTgyNzJcdUZGMDhcdTUzQzJcdTgwMDNjb3N0c2V0YXBwXHU1QjlFXHU3M0IwXHVGRjA5XG5cdFx0XHRjb25zdCBsb2dWYWx1ZSA9IE1hdGgubG9nKHYgKyAxKTtcblx0XHRcdGNvbnN0IGxvZ01pbiA9IE1hdGgubG9nKG1pblZhbHVlICsgMSk7XG5cdFx0XHRjb25zdCBsb2dNYXggPSBNYXRoLmxvZyhtYXhWYWx1ZSArIDEpO1xuXHRcdFx0XG5cdFx0XHRpZiAobG9nTWF4ID09PSBsb2dNaW4pIHJldHVybiAncmdiKDI1NSwyNTUsMCknOyAvLyBcdTU5ODJcdTY3OUNcdTUzRUFcdTY3MDlcdTRFMDBcdTRFMkFcdTUwM0NcdUZGMENcdTY2M0VcdTc5M0FcdTlFQzRcdTgyNzJcblx0XHRcdFxuXHRcdFx0Y29uc3QgdCA9IChsb2dWYWx1ZSAtIGxvZ01pbikgLyAobG9nTWF4IC0gbG9nTWluKTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU1MjA2XHU2QkI1XHU2RTEwXHU1M0Q4XHVGRjFBXHU1MjREXHU1MzRBXHU2QkI1XHU3RUZGXHU4MjcyXHU1MjMwXHU5RUM0XHU4MjcyXHVGRjBDXHU1NDBFXHU1MzRBXHU2QkI1XHU5RUM0XHU4MjcyXHU1MjMwXHU3RUEyXHU4MjcyXG5cdFx0XHRpZiAodCA8PSAwLjUpIHtcblx0XHRcdFx0Y29uc3QgciA9IE1hdGgucm91bmQoMiAqIHQgKiAyNTUpOyAvLyBcdTdFQTJcdTgyNzJcdTUyMDZcdTkxQ0ZcdUZGMUEwIC0+IDI1NVxuXHRcdFx0XHRyZXR1cm4gYHJnYigke3J9LDI1NSwwKWA7IC8vIFx1N0VGRlx1ODI3Mlx1NTIzMFx1OUVDNFx1ODI3MlxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgZyA9IE1hdGgucm91bmQoKDEgLSAyICogKHQgLSAwLjUpKSAqIDI1NSk7IC8vIFx1N0VGRlx1ODI3Mlx1NTIwNlx1OTFDRlx1RkYxQTI1NSAtPiAwXG5cdFx0XHRcdHJldHVybiBgcmdiKDI1NSwke2d9LDApYDsgLy8gXHU5RUM0XHU4MjcyXHU1MjMwXHU3RUEyXHU4MjcyXG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcblx0XHQvLyBcdTZFMDVcdTdBN0FcdTc1M0JcdTVFMDNcblx0XHRjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXHRcdGN0eC5saW5lV2lkdGggPSAxO1xuXHRcdFxuXHRcdC8vIFx1N0VEOFx1NTIzNlx1NjI5OFx1N0VCRlxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9wcy50cmVuZFBvaW50cy5sZW5ndGggLSAxOyBpKyspIHtcblx0XHRcdGNvbnN0IHAxID0gdGhpcy5wcm9wcy50cmVuZFBvaW50c1tpXTtcblx0XHRcdGNvbnN0IHAyID0gdGhpcy5wcm9wcy50cmVuZFBvaW50c1tpICsgMV07XG5cdFx0XHRjb25zdCB4MSA9IGdldFgoaSk7XG5cdFx0XHRjb25zdCB5MSA9IGdldFkocDEudmFsdWUpO1xuXHRcdFx0Y29uc3QgeDIgPSBnZXRYKGkgKyAxKTtcblx0XHRcdGNvbnN0IHkyID0gZ2V0WShwMi52YWx1ZSk7XG5cdFx0XHRcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGdldENvbG9yQnlWYWx1ZShwMS52YWx1ZSk7XG5cdFx0XHRjdHgubW92ZVRvKHgxLCB5MSk7XG5cdFx0XHRjdHgubGluZVRvKHgyLCB5Mik7XG5cdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFx1N0VEOFx1NTIzNlx1OTAwOVx1NEUyRFx1N0VCRlx1RkYwOFx1NUY1M1x1NTI0RFx1NjVFNVx1NjcxRlx1RkYwOVxuXHRcdC8vIFx1NjUyRlx1NjMwMVx1NEUyNFx1NzlDRFx1NjVCOVx1NUYwRlx1RkYxQVxuXHRcdC8vIDEpIFx1NTkxNlx1OTBFOFx1NzZGNFx1NjNBNVx1NEYyMFx1NTE2NSBzZWxlY3RlZFggXHU1MENGXHU3RDIwXG5cdFx0Ly8gMikgXHU1OTE2XHU5MEU4XHU0RUM1XHU0RjIwXHU1MTY1IHNlbGVjdGVkRGF0ZVx1RkYwQ1x1NjIxMVx1NEVFQ1x1NTcyOFx1OEZEOVx1OTFDQ1x1NjMwOVx1NjVGNlx1OTVGNFx1NkJENFx1NEY4Qlx1OEJBMVx1N0I5NyBYXG5cdFx0bGV0IHNlbGVjdGVkWFRvRHJhdzogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0aWYgKHRoaXMucHJvcHMuc2VsZWN0ZWRYICE9PSBudWxsICYmIHRoaXMucHJvcHMuc2VsZWN0ZWRYICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHNlbGVjdGVkWFRvRHJhdyA9IHRoaXMucHJvcHMuc2VsZWN0ZWRYO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zZWxlY3RlZERhdGUpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHRpbWVzID0gdGhpcy5wcm9wcy50cmVuZFBvaW50cy5tYXAocCA9PiBwLmRhdGUuZ2V0VGltZSgpKTtcblx0XHRcdFx0Y29uc3QgbWluVGltZSA9IE1hdGgubWluKC4uLnRpbWVzKTtcblx0XHRcdFx0Y29uc3QgbWF4VGltZSA9IE1hdGgubWF4KC4uLnRpbWVzKTtcblx0XHRcdFx0Y29uc3QgY3VyID0gdGhpcy5wcm9wcy5zZWxlY3RlZERhdGUuZ2V0VGltZSgpO1xuXHRcdFx0XHRjb25zdCBkZW5vbSA9IE1hdGgubWF4KG1heFRpbWUgLSBtaW5UaW1lLCAxKTtcblx0XHRcdFx0Y29uc3QgcmF0aW8gPSAoY3VyIC0gbWluVGltZSkgLyBkZW5vbTtcblx0XHRcdFx0c2VsZWN0ZWRYVG9EcmF3ID0gcGFkICsgKHdpZHRoIC0gMiAqIHBhZCkgKiBNYXRoLm1pbihNYXRoLm1heChyYXRpbywgMCksIDEpO1xuXHRcdFx0fSBjYXRjaCAoXykge1xuXHRcdFx0XHRzZWxlY3RlZFhUb0RyYXcgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChzZWxlY3RlZFhUb0RyYXcgIT09IG51bGwgJiYgc2VsZWN0ZWRYVG9EcmF3ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9ICcjRkZENjAwJztcblx0XHRcdGN0eC5saW5lV2lkdGggPSAxO1xuXHRcdFx0Y3R4Lm1vdmVUbyhzZWxlY3RlZFhUb0RyYXcsIDApO1xuXHRcdFx0Y3R4LmxpbmVUbyhzZWxlY3RlZFhUb0RyYXcsIGhlaWdodCk7XG5cdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0fVxuXG5cdFx0Ly8gXHU3RUQxXHU1QjlBXHU3MEI5XHU1MUZCXHU0RThCXHU0RUY2XHVGRjFBXHU1QzA2XHU3MEI5XHU1MUZCXHU0RjREXHU3RjZFXHU2NjIwXHU1QzA0XHU0RTNBXHU2NUU1XHU2NzFGXHU1RTc2XHU2NkY0XHU2NUIwXHU5MDA5XHU2MkU5XG5cdFx0aWYgKCEoY2FudmFzIGFzIGFueSkuX2xhY19jbGlja19ib3VuZCkge1xuXHRcdFx0KGNhbnZhcyBhcyBhbnkpLl9sYWNfY2xpY2tfYm91bmQgPSB0cnVlO1xuXHRcdFx0Y2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHggPSAoZXYgYXMgYW55KS5vZmZzZXRYID8/IChldi5jbGllbnRYIC0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpO1xuXHRcdFx0XHRjb25zdCB1c2FibGVXaWR0aCA9IE1hdGgubWF4KHdpZHRoIC0gMiAqIHBhZCwgMSk7XG5cdFx0XHRcdGNvbnN0IHJhdGlvID0gTWF0aC5taW4oTWF0aC5tYXgoKHggLSBwYWQpIC8gdXNhYmxlV2lkdGgsIDApLCAxKTtcblx0XHRcdFx0Y29uc3QgaWR4ID0gTWF0aC5yb3VuZChyYXRpbyAqICh0aGlzLnByb3BzLnRyZW5kUG9pbnRzLmxlbmd0aCAtIDEpKTtcblx0XHRcdFx0Y29uc3QgY2xhbXBlZElkeCA9IE1hdGgubWluKE1hdGgubWF4KGlkeCwgMCksIHRoaXMucHJvcHMudHJlbmRQb2ludHMubGVuZ3RoIC0gMSk7XG5cdFx0XHRcdGNvbnN0IHBpY2tlZERhdGUgPSB0aGlzLnByb3BzLnRyZW5kUG9pbnRzW2NsYW1wZWRJZHhdLmRhdGU7XG5cblx0XHRcdFx0dGhpcy51cGRhdGVTZWxlY3Rpb24oeCwgcGlja2VkRGF0ZSk7XG5cdFx0XHRcdC8vIFx1OTAxQVx1NzdFNVx1NTkxNlx1NUM0Mlx1NTIzN1x1NjVCMFx1RkYwOFx1NTkwRFx1NzUyOFx1NzNCMFx1NjcwOSBvbkRhdGVQaWNrIFx1NkQ0MVx1N0EwQlx1RkYwOVxuXHRcdFx0XHRpZiAodGhpcy5wcm9wcy5vbkRhdGVQaWNrKSB7XG5cdFx0XHRcdFx0dGhpcy5wcm9wcy5vbkRhdGVQaWNrKHRoaXMuZm9ybWF0RGF0ZUxvY2FsKHBpY2tlZERhdGUpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBcdTUzRUZcdTkwMDlcdUZGMUFcdTRFNUZcdTYyOEFcdTUwQ0ZcdTdEMjBcdTRGNERcdTdGNkVcdTU2REVcdTRGMjBcblx0XHRcdFx0aWYgKHRoaXMucHJvcHMub25DaGFydFNlbGVjdCkge1xuXHRcdFx0XHRcdHRoaXMucHJvcHMub25DaGFydFNlbGVjdCh4KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gXHU2NkY0XHU2NUIwXHU1NkZFXHU4ODY4XHU2NTcwXHU2MzZFXG5cdHVwZGF0ZUNoYXJ0KHRyZW5kUG9pbnRzOiB7IGRhdGU6IERhdGUsIHZhbHVlOiBudW1iZXIgfVtdKTogdm9pZCB7XG5cdFx0dGhpcy5wcm9wcy50cmVuZFBvaW50cyA9IHRyZW5kUG9pbnRzO1xuXHRcdGNvbnN0IGNhbnZhcyA9IHRoaXMuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignI3RyZW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuXHRcdGlmIChjYW52YXMpIHtcblx0XHRcdHRoaXMucmVuZGVyQ2hhcnRDYW52YXMoY2FudmFzKTtcblx0XHR9XG5cdH1cblxuXHQvLyBcdTY2RjRcdTY1QjBcdTkwMDlcdTRFMkRcdTcyQjZcdTYwMDFcblx0dXBkYXRlU2VsZWN0aW9uKHNlbGVjdGVkWDogbnVtYmVyIHwgbnVsbCwgc2VsZWN0ZWREYXRlPzogRGF0ZSk6IHZvaWQge1xuXHRcdHRoaXMucHJvcHMuc2VsZWN0ZWRYID0gc2VsZWN0ZWRYO1xuXHRcdGlmIChzZWxlY3RlZERhdGUpIHtcblx0XHRcdHRoaXMucHJvcHMuc2VsZWN0ZWREYXRlID0gc2VsZWN0ZWREYXRlO1xuXHRcdFx0Y29uc3QgZGF0ZUxhYmVsID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcudG9wLXN1bW1hcnktZGF0ZScpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcblx0XHRcdGlmIChkYXRlTGFiZWwpIHtcblx0XHRcdFx0ZGF0ZUxhYmVsLnRleHRDb250ZW50ID0gdGhpcy5mb3JtYXREYXRlTG9jYWwoc2VsZWN0ZWREYXRlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgY2FudmFzID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcjdHJlbmQtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5cdFx0aWYgKGNhbnZhcykge1xuXHRcdFx0dGhpcy5yZW5kZXJDaGFydENhbnZhcyhjYW52YXMpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFx1NTNFQVx1NjZGNFx1NjVCMFx1NjU3MFx1NUI1N1x1RkYwOFx1NEUwRFx1OTFDRFx1N0VEOFx1NTZGRVx1ODg2OFx1NjU3MFx1NjM2RVx1RkYwOVxuXHR1cGRhdGVOdW1iZXJzKHRvdGFsRGFpbHlDb3N0OiBudW1iZXIsIHRvdGFsQ29zdDogbnVtYmVyLCB0b3RhbFJlY3ljbGU6IG51bWJlcik6IHZvaWQge1xuXHRcdHRoaXMucHJvcHMudG90YWxEYWlseUNvc3QgPSB0b3RhbERhaWx5Q29zdDtcblx0XHR0aGlzLnByb3BzLnRvdGFsQ29zdCA9IHRvdGFsQ29zdDtcblx0XHR0aGlzLnByb3BzLnRvdGFsUmVjeWNsZSA9IHRvdGFsUmVjeWNsZTtcblxuXHRcdGNvbnN0IGRhaWx5ID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcudG9wLXN1bW1hcnktZGFpbHljb3N0JykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuXHRcdGlmIChkYWlseSkgZGFpbHkudGV4dENvbnRlbnQgPSBgJHt0aGlzLmdldEN1cnJlbmN5U3ltYm9sKCl9JHt0b3RhbERhaWx5Q29zdC50b0ZpeGVkKDIpfWA7XG5cblx0XHRjb25zdCB0b3RhbHMgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy50b3Atc3VtbWFyeS10b3RhbGNvc3QnKTtcblx0XHRpZiAodG90YWxzICYmIHRvdGFscy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCB0b3RhbEVsID0gdG90YWxzWzBdIGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0aWYgKHRvdGFsRWwpIHRvdGFsRWwudGV4dENvbnRlbnQgPSBgJHt0aGlzLmdldEN1cnJlbmN5U3ltYm9sKCl9JHt0b3RhbENvc3QudG9Mb2NhbGVTdHJpbmcoKX1gO1xuXHRcdFx0Y29uc3QgcmVjeWNsZUVsID0gdG90YWxzWzFdIGFzIEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkIGFzIGFueTtcblx0XHRcdGlmIChyZWN5Y2xlRWwpIChyZWN5Y2xlRWwgYXMgSFRNTEVsZW1lbnQpLnRleHRDb250ZW50ID0gYCR7dGhpcy5nZXRDdXJyZW5jeVN5bWJvbCgpfSR7dG90YWxSZWN5Y2xlLnRvTG9jYWxlU3RyaW5nKCl9YDtcblx0XHR9XG5cdH1cblxuXHQvLyBcdTY2M0VcdTc5M0FcdTY1RTVcdTY3MUZcdTkwMDlcdTYyRTlcdTU2Njhcblx0cHJpdmF0ZSBzaG93RGF0ZVBpY2tlcigpOiB2b2lkIHtcblx0XHQvLyBcdTUyMUJcdTVFRkFcdTkwNkVcdTdGNjlcdTVDNDJcblx0XHRjb25zdCBtYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0bWFzay5jbGFzc05hbWUgPSAnZGF0ZS1waWNrZXItbWFzayc7XG5cdFx0XG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NUU1XHU2NzFGXHU5MDA5XHU2MkU5XHU1NjY4XHU1RjM5XHU3QTk3XG5cdFx0Y29uc3QgcGlja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0cGlja2VyLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci1tb2RhbCc7XG5cdFx0XG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NUU1XHU2NzFGXHU5MDA5XHU2MkU5XHU1NjY4XHU1MTg1XHU1QkI5XG5cdFx0Y29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGNvbnRlbnQuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWNvbnRlbnQnO1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjgwN1x1OTg5OFxuXHRcdGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dGl0bGUuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLXRpdGxlJztcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9IHQoJ2RhdGUucGljaycpO1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NEUwOVx1NTIxN1x1NkVEQVx1OEY2RVx1OTAwOVx1NjJFOVx1NTY2OFxuXHRcdGNvbnN0IHdoZWVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0d2hlZWxDb250YWluZXIuY2xhc3NOYW1lID0gJ2RhdGUtd2hlZWwtY29udGFpbmVyJztcblx0XHRcblx0XHQvLyBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTY1RTVcdTY3MUZcdUZGMDhcdTRFMEVcdTk4NzZcdTkwRThcdTY2M0VcdTc5M0FcdTc2ODRcdTY1RTVcdTY3MUZcdTRGRERcdTYzMDFcdTRFMDBcdTgxRjRcdUZGMDlcblx0XHRjb25zdCBjdXJyZW50RGF0ZSA9IHRoaXMucHJvcHMuc2VsZWN0ZWREYXRlIHx8IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdGNvbnN0IGN1cnJlbnRNb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxO1xuXHRcdGNvbnN0IGN1cnJlbnREYXkgPSBjdXJyZW50RGF0ZS5nZXREYXRlKCk7XG5cdFx0XG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU1RTc0XHU0RUZEXHU1MjE3XHVGRjA4XHU0RTBEXHU1RkFBXHU3M0FGXHVGRjA5XG5cdFx0Y29uc3QgeWVhckNvbHVtbiA9IHRoaXMuY3JlYXRlV2hlZWxDb2x1bW4odCgnZGF0ZS55ZWFyJyksIHRoaXMuZ2VuZXJhdGVZZWFycyhjdXJyZW50WWVhciksIGN1cnJlbnRZZWFyLCAoeWVhcikgPT4ge1xuXHRcdFx0dGhpcy51cGRhdGVEYXlzQ29sdW1uKGRheUNvbHVtbiwgeWVhciwgbW9udGhDb2x1bW4uc2VsZWN0ZWRWYWx1ZSk7XG5cdFx0fSwgZmFsc2UpO1xuXG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NzA4XHU0RUZEXHU1MjE3XHVGRjA4XHU1RkFBXHU3M0FGXHU2RURBXHU1MkE4XHVGRjA5XG5cdFx0Y29uc3QgbW9udGhDb2x1bW4gPSB0aGlzLmNyZWF0ZVdoZWVsQ29sdW1uKHQoJ2RhdGUubW9udGgnKSwgdGhpcy5nZW5lcmF0ZU1vbnRocygpLCBjdXJyZW50TW9udGgsIChtb250aCkgPT4ge1xuXHRcdFx0dGhpcy51cGRhdGVEYXlzQ29sdW1uKGRheUNvbHVtbiwgeWVhckNvbHVtbi5zZWxlY3RlZFZhbHVlLCBtb250aCk7XG5cdFx0fSwgdHJ1ZSk7XG5cblx0XHQvLyBcdTUyMUJcdTVFRkFcdTY1RTVcdTY3MUZcdTUyMTdcdUZGMDhcdTVGQUFcdTczQUZcdTZFREFcdTUyQThcdUZGMDlcblx0XHRjb25zdCBkYXlDb2x1bW4gPSB0aGlzLmNyZWF0ZVdoZWVsQ29sdW1uKHQoJ2RhdGUuZGF5JyksIHRoaXMuZ2VuZXJhdGVEYXlzKGN1cnJlbnRZZWFyLCBjdXJyZW50TW9udGgpLCBjdXJyZW50RGF5LCB1bmRlZmluZWQsIHRydWUpO1xuXHRcdFxuXHRcdHdoZWVsQ29udGFpbmVyLmFwcGVuZENoaWxkKHllYXJDb2x1bW4uZWxlbWVudCk7XG5cdFx0d2hlZWxDb250YWluZXIuYXBwZW5kQ2hpbGQobW9udGhDb2x1bW4uZWxlbWVudCk7XG5cdFx0d2hlZWxDb250YWluZXIuYXBwZW5kQ2hpbGQoZGF5Q29sdW1uLmVsZW1lbnQpO1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjMwOVx1OTRBRVx1NTMzQVx1NTdERlxuXHRcdGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRhY3Rpb25zLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci1hY3Rpb25zJztcblx0XHRcblx0XHRjb25zdCBjYW5jZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblx0XHRjYW5jZWxCdG4uY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWJ0biBkYXRlLXBpY2tlci1idG4tY2FuY2VsJztcblx0XHRjYW5jZWxCdG4udGV4dENvbnRlbnQgPSB0KCdjb21tb24uY2FuY2VsJyk7XG5cdFx0XG5cdFx0Y29uc3QgY29uZmlybUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHRcdGNvbmZpcm1CdG4uY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWJ0biBkYXRlLXBpY2tlci1idG4tY29uZmlybSc7XG5cdFx0Y29uZmlybUJ0bi50ZXh0Q29udGVudCA9IHQoJ2NvbW1vbi5jb25maXJtJyk7XG5cdFx0XG5cdFx0Ly8gXHU3RUM0XHU4OEM1XHU3RUQzXHU2Nzg0XG5cdFx0YWN0aW9ucy5hcHBlbmRDaGlsZChjYW5jZWxCdG4pO1xuXHRcdGFjdGlvbnMuYXBwZW5kQ2hpbGQoY29uZmlybUJ0bik7XG5cdFx0Y29udGVudC5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cdFx0Y29udGVudC5hcHBlbmRDaGlsZCh3aGVlbENvbnRhaW5lcik7XG5cdFx0Y29udGVudC5hcHBlbmRDaGlsZChhY3Rpb25zKTtcblx0XHRwaWNrZXIuYXBwZW5kQ2hpbGQoY29udGVudCk7XG5cdFx0bWFzay5hcHBlbmRDaGlsZChwaWNrZXIpO1xuXHRcdFxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1NTIzMFx1OTg3NVx1OTc2MlxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWFzayk7XG5cdFx0XG5cdFx0Ly8gXHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XG5cdFx0Y29uc3QgY2xvc2VQaWNrZXIgPSAoKSA9PiB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1hc2spO1xuXHRcdH07XG5cdFx0XG5cdFx0bWFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRpZiAoZS50YXJnZXQgPT09IG1hc2spIHtcblx0XHRcdFx0Y2xvc2VQaWNrZXIoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRcblx0XHRjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBpY2tlcik7XG5cdFx0XG5cdFx0Y29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdGNvbnN0IHllYXIgPSB5ZWFyQ29sdW1uLnNlbGVjdGVkVmFsdWU7XG5cdFx0XHRjb25zdCBtb250aCA9IG1vbnRoQ29sdW1uLnNlbGVjdGVkVmFsdWU7XG5cdFx0XHRjb25zdCBkYXkgPSBkYXlDb2x1bW4uc2VsZWN0ZWRWYWx1ZTtcblx0XHRcdGNvbnN0IHNlbGVjdGVkRGF0ZVN0ciA9IGAke3llYXJ9LSR7bW9udGgudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS0ke2RheS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcblx0XHRcdFxuXHRcdFx0aWYgKHRoaXMucHJvcHMub25EYXRlUGljaykge1xuXHRcdFx0XHR0aGlzLnByb3BzLm9uRGF0ZVBpY2soc2VsZWN0ZWREYXRlU3RyKTtcblx0XHRcdH1cblx0XHRcdGNsb3NlUGlja2VyKCk7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBcdTc1MUZcdTYyMTBcdTVFNzRcdTRFRkRcdTY1NzBcdTdFQzRcblx0cHJpdmF0ZSBnZW5lcmF0ZVllYXJzKGN1cnJlbnRZZWFyOiBudW1iZXIpOiBudW1iZXJbXSB7XG5cdFx0Y29uc3QgbWluWWVhciA9IHRoaXMucHJvcHMubWluWWVhciB8fCAoY3VycmVudFllYXIgLSA1KTtcblx0XHRjb25zdCBtYXhZZWFyID0gdGhpcy5wcm9wcy5tYXhZZWFyIHx8IChjdXJyZW50WWVhciArIDUpO1xuXHRcdFxuXHRcdGNvbnN0IHllYXJzID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IG1pblllYXI7IGkgPD0gbWF4WWVhcjsgaSsrKSB7XG5cdFx0XHR5ZWFycy5wdXNoKGkpO1xuXHRcdH1cblx0XHRyZXR1cm4geWVhcnM7XG5cdH1cblxuXHQvLyBcdTc1MUZcdTYyMTBcdTY3MDhcdTRFRkRcdTY1NzBcdTdFQzRcblx0cHJpdmF0ZSBnZW5lcmF0ZU1vbnRocygpOiBudW1iZXJbXSB7XG5cdFx0cmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IDEyIH0sIChfLCBpKSA9PiBpICsgMSk7XG5cdH1cblxuXHQvLyBcdTc1MUZcdTYyMTBcdTY1RTVcdTY3MUZcdTY1NzBcdTdFQzRcblx0cHJpdmF0ZSBnZW5lcmF0ZURheXMoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKTogbnVtYmVyW10ge1xuXHRcdGNvbnN0IGRheXNJbk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDApLmdldERhdGUoKTtcblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogZGF5c0luTW9udGggfSwgKF8sIGkpID0+IGkgKyAxKTtcblx0fVxuXG5cdC8vIFx1NTIxQlx1NUVGQVx1NkVEQVx1OEY2RVx1NTIxN1xuXHRwcml2YXRlIGNyZWF0ZVdoZWVsQ29sdW1uKHN1ZmZpeDogc3RyaW5nLCB2YWx1ZXM6IG51bWJlcltdLCBzZWxlY3RlZFZhbHVlOiBudW1iZXIsIG9uQ2hhbmdlPzogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQsIGlzSW5maW5pdGU6IGJvb2xlYW4gPSBmYWxzZSk6IHsgZWxlbWVudDogSFRNTEVsZW1lbnQsIHNlbGVjdGVkVmFsdWU6IG51bWJlciB9IHtcblx0XHRjb25zdCBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRjb2x1bW4uY2xhc3NOYW1lID0gJ2RhdGUtd2hlZWwtY29sdW1uJztcblx0XHRcblx0XHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRjb250YWluZXIuY2xhc3NOYW1lID0gJ2RhdGUtd2hlZWwtaXRlbXMnO1xuXHRcdFxuXHRcdGxldCBzZWxlY3RlZEluZGV4ID0gdmFsdWVzLmluZGV4T2Yoc2VsZWN0ZWRWYWx1ZSk7XG5cdFx0bGV0IGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcblx0XHRjb25zdCBhcGkgPSB7IGVsZW1lbnQ6IGNvbHVtbiwgc2VsZWN0ZWRWYWx1ZTogY3VycmVudFNlbGVjdGVkVmFsdWUgfTtcblx0XHRjb25zdCBpdGVtSGVpZ2h0ID0gNDA7IC8vIENTU1x1NEUyRFx1NUI5QVx1NEU0OVx1NzY4NGl0ZW1cdTlBRDhcdTVFQTZcblx0XHRcblx0XHRpZiAoaXNJbmZpbml0ZSkge1xuXHRcdFx0Ly8gXHU1RkFBXHU3M0FGXHU2RURBXHU1MkE4XHVGRjFBXHU1MjFCXHU1RUZBXHU1OTFBXHU0RTJBXHU5MUNEXHU1OTBEXHU3Njg0XHU5MDA5XHU5ODc5XHU5ODc5XG5cdFx0XHRjb25zdCByZXBlYXRDb3VudCA9IDU7IC8vIFx1OTFDRFx1NTkwRDVcdTZCMjFcdUZGMENcdTYwM0JcdTUxNzExNVx1N0VDNFx1NjU3MFx1NjM2RVxuXHRcdFx0Y29uc3QgdG90YWxJdGVtcyA9IHZhbHVlcy5sZW5ndGggKiByZXBlYXRDb3VudDtcblx0XHRcdFxuXHRcdFx0Ly8gXHU4QkExXHU3Qjk3XHU1MjFEXHU1OUNCXHU2RURBXHU1MkE4XHU0RjREXHU3RjZFXHVGRjA4XHU4QkE5XHU5MDA5XHU0RTJEXHU5ODc5XHU1NzI4XHU0RTJEXHU5NUY0XHVGRjBDXHU1RTc2XHU3ODZFXHU0RkREXHU2NzA5XHU4REIzXHU1OTFGXHU3Njg0XHU0RTBBXHU0RTBCXHU2RURBXHU1MkE4XHU3QTdBXHU5NUY0XHVGRjA5XG5cdFx0XHQvLyBcdTRGN0ZcdTc1MjhcdTRFMkRcdTk1RjRcdTdFQzRcdUZGMDhcdTdCMkMzXHU3RUM0XHVGRjBDXHU3RDIyXHU1RjE1XHU0RTNBMlx1RkYwOVx1NEY1Q1x1NEUzQVx1OEQ3N1x1NTlDQlx1NEY0RFx1N0Y2RVxuXHRcdFx0Y29uc3QgbWlkZGxlR3JvdXBJbmRleCA9IDI7IC8vIFx1N0IyQzNcdTdFQzRcdUZGMDgwLDEsMiwzLDRcdTRFMkRcdTc2ODQyXHVGRjA5XG5cdFx0XHRjb25zdCBpbml0aWFsU2Nyb2xsVG9wID0gbWlkZGxlR3JvdXBJbmRleCAqIHZhbHVlcy5sZW5ndGggKiBpdGVtSGVpZ2h0ICsgc2VsZWN0ZWRJbmRleCAqIGl0ZW1IZWlnaHQ7XG5cdFx0XHRcblx0XHRcdC8vIFx1NTIxQlx1NUVGQVx1OTFDRFx1NTkwRFx1NzY4NFx1OTAwOVx1OTg3OVx1OTg3OVxuXHRcdFx0Zm9yIChsZXQgcmVwZWF0ID0gMDsgcmVwZWF0IDwgcmVwZWF0Q291bnQ7IHJlcGVhdCsrKSB7XG5cdFx0XHRcdHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnZGF0ZS13aGVlbC1pdGVtJztcblx0XHRcdFx0XHRpdGVtLnRleHRDb250ZW50ID0gYCR7dmFsdWUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfSR7c3VmZml4fWA7XG5cdFx0XHRcdFx0aXRlbS5kYXRhc2V0LnZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcblx0XHRcdFx0XHRpdGVtLmRhdGFzZXQuaW5kZXggPSAocmVwZWF0ICogdmFsdWVzLmxlbmd0aCArIGluZGV4KS50b1N0cmluZygpO1xuXHRcdFx0XHRcdGl0ZW0uZGF0YXNldC5yZWFsVmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChpdGVtKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFx1OEJCRVx1N0Y2RVx1NUJCOVx1NTY2OFx1OUFEOFx1NUVBNlx1NTQ4Q1x1NTIxRFx1NTlDQlx1NkVEQVx1NTJBOFx1NEY0RFx1N0Y2RVxuXHRcdFx0Y29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3RvdGFsSXRlbXMgKiBpdGVtSGVpZ2h0fXB4YDtcblx0XHRcdC8vIFx1NTE0OFx1NjgwN1x1OEJCMFx1OTAwOVx1NEUyRFx1OTg3OVx1RkYwOFx1NEUyRFx1OTVGNFx1N0VDNFx1NUJGOVx1NUU5NFx1N0QyMlx1NUYxNVx1RkYwOVxuXHRcdFx0Y29uc3QgaW5pdGlhbEl0ZW1JbmRleCA9IG1pZGRsZUdyb3VwSW5kZXggKiB2YWx1ZXMubGVuZ3RoICsgc2VsZWN0ZWRJbmRleDtcblx0XHRcdGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbShjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpKSBhcyBIVE1MRWxlbWVudFtdO1xuXHRcdFx0aWYgKGl0ZW1zW2luaXRpYWxJdGVtSW5kZXhdKSB7XG5cdFx0XHRcdGl0ZW1zLmZvckVhY2goKGVsLCBpZHgpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaWR4ID09PSBpbml0aWFsSXRlbUluZGV4KSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBcdTdCNDlcdTRFMDBcdTVFMjdcdTUxOERcdThCQkVcdTdGNkVzY3JvbGxUb3BcdUZGMENcdTkwN0ZcdTUxNERcdTk5OTZcdTZCMjFcdTY1RTBcdTZDRDVcdTU0MTFcdTRFMEFcdTZFREFcdTc2ODRcdTk1RUVcdTk4OThcblx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBpbml0aWFsU2Nyb2xsVG9wO1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIFx1NkVEQVx1NTJBOFx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlx1RkYwOFx1NUZBQVx1NzNBRlx1NkVEQVx1NTJBOFx1RkYwOVxuXHRcdFx0bGV0IGlzU2Nyb2xsaW5nID0gZmFsc2U7XG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRcdFx0XHRpZiAoaXNTY3JvbGxpbmcpIHJldHVybjtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IE1hdGgucm91bmQoc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCk7XG5cdFx0XHRcdGNvbnN0IHJlYWxJbmRleCA9ICgoY3VycmVudEluZGV4ICUgdmFsdWVzLmxlbmd0aCkgKyB2YWx1ZXMubGVuZ3RoKSAlIHZhbHVlcy5sZW5ndGg7XG5cdFx0XHRcdGNvbnN0IHJlYWxWYWx1ZSA9IHZhbHVlc1tyZWFsSW5kZXhdO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2NkY0XHU2NUIwXHU5MDA5XHU0RTJEXHU3MkI2XHU2MDAxXG5cdFx0XHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS13aGVlbC1pdGVtJykuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBpdGVtUmVhbEluZGV4ID0gaW5kZXggJSB2YWx1ZXMubGVuZ3RoO1xuXHRcdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnLCBpdGVtUmVhbEluZGV4ID09PSByZWFsSW5kZXgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdHNlbGVjdGVkSW5kZXggPSByZWFsSW5kZXg7XG5cdFx0XHRcdGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gcmVhbFZhbHVlO1xuXHRcdFx0XHRhcGkuc2VsZWN0ZWRWYWx1ZSA9IHJlYWxWYWx1ZTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1ODlFNlx1NTNEMVx1NTNEOFx1NTMxNlx1NTZERVx1OEMwM1xuXHRcdFx0XHRpZiAob25DaGFuZ2UpIHtcblx0XHRcdFx0XHRvbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRWYWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1NUZBQVx1NzNBRlx1NkVEQVx1NTJBOFx1OTAzQlx1OEY5MVx1RkYxQVx1NUY1M1x1NkVEQVx1NTJBOFx1NTIzMFx1OEZCOVx1NzU0Q1x1NjVGNlx1RkYwQ1x1OTFDRFx1N0Y2RVx1NEY0RFx1N0Y2RVxuXHRcdFx0XHRjb25zdCBtYXhTY3JvbGxUb3AgPSAocmVwZWF0Q291bnQgLSAxKSAqIHZhbHVlcy5sZW5ndGggKiBpdGVtSGVpZ2h0O1xuXHRcdFx0XHRjb25zdCBtaW5TY3JvbGxUb3AgPSB2YWx1ZXMubGVuZ3RoICogaXRlbUhlaWdodDtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsVG9wKSB7XG5cdFx0XHRcdFx0aXNTY3JvbGxpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIFx1NEVDRVx1N0IyQzVcdTdFQzRcdThERjNcdThGNkNcdTUyMzBcdTdCMkMyXHU3RUM0XHVGRjA4XHU0RkREXHU2MzAxXHU3NkY4XHU1QkY5XHU0RjREXHU3RjZFXHVGRjA5XG5cdFx0XHRcdFx0Y29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wIC0gbWF4U2Nyb2xsVG9wO1xuXHRcdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSB2YWx1ZXMubGVuZ3RoICogaXRlbUhlaWdodCArIG9mZnNldDtcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHsgaXNTY3JvbGxpbmcgPSBmYWxzZTsgfSwgNTApO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHNjcm9sbFRvcCA8PSAwKSB7XG5cdFx0XHRcdFx0aXNTY3JvbGxpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIFx1NEVDRVx1N0IyQzFcdTdFQzRcdThERjNcdThGNkNcdTUyMzBcdTdCMkM0XHU3RUM0XHVGRjA4XHU0RkREXHU2MzAxXHU3NkY4XHU1QkY5XHU0RjREXHU3RjZFXHVGRjA5XG5cdFx0XHRcdFx0Y29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wO1xuXHRcdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSAocmVwZWF0Q291bnQgLSAyKSAqIHZhbHVlcy5sZW5ndGggKiBpdGVtSGVpZ2h0ICsgb2Zmc2V0O1xuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBpc1Njcm9sbGluZyA9IGZhbHNlOyB9LCA1MCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBcdTUxNDFcdThCQjhcdTc2RjRcdTYzQTVcdTcwQjlcdTUxRkJcdTkwMDlcdTYyRTlcblx0XHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuXHRcdFx0XHRjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0XHRcdGNvbnN0IGl0ZW1FbCA9IHRhcmdldCAmJiB0YXJnZXQuY2xvc2VzdCA/ICh0YXJnZXQuY2xvc2VzdCgnLmRhdGUtd2hlZWwtaXRlbScpIGFzIEhUTUxFbGVtZW50IHwgbnVsbCkgOiBudWxsO1xuXHRcdFx0XHRpZiAoIWl0ZW1FbCkgcmV0dXJuO1xuXHRcdFx0XHRjb25zdCBjbGlja2VkSW5kZXggPSBOdW1iZXIoaXRlbUVsLmRhdGFzZXQuaW5kZXggfHwgJzAnKTtcblx0XHRcdFx0Y29uc3QgcmVhbEluZGV4ID0gKChjbGlja2VkSW5kZXggJSB2YWx1ZXMubGVuZ3RoKSArIHZhbHVlcy5sZW5ndGgpICUgdmFsdWVzLmxlbmd0aDtcblx0XHRcdFx0Y29uc3QgbWlkZGxlSW5kZXggPSBtaWRkbGVHcm91cEluZGV4ICogdmFsdWVzLmxlbmd0aCArIHJlYWxJbmRleDtcblx0XHRcdFx0Y29udGFpbmVyLnNjcm9sbFRvcCA9IG1pZGRsZUluZGV4ICogaXRlbUhlaWdodDtcblx0XHRcdFx0c2VsZWN0ZWRJbmRleCA9IHJlYWxJbmRleDtcblx0XHRcdFx0Y3VycmVudFNlbGVjdGVkVmFsdWUgPSB2YWx1ZXNbcmVhbEluZGV4XTtcblx0XHRcdFx0YXBpLnNlbGVjdGVkVmFsdWUgPSBjdXJyZW50U2VsZWN0ZWRWYWx1ZTtcblx0XHRcdFx0aWYgKG9uQ2hhbmdlKSBvbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRWYWx1ZSk7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBcdTY2NkVcdTkwMUFcdTZFREFcdTUyQThcdUZGMUFcdTVFNzRcdTRFRkRcdTUyMTdcdTRFMERcdTk3MDBcdTg5ODFcdTVGQUFcdTczQUZcblx0XHRcdHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcblx0XHRcdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRpdGVtLmNsYXNzTmFtZSA9ICdkYXRlLXdoZWVsLWl0ZW0nO1xuXHRcdFx0XHRpdGVtLnRleHRDb250ZW50ID0gYCR7dmFsdWUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfSR7c3VmZml4fWA7XG5cdFx0XHRcdGl0ZW0uZGF0YXNldC52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cdFx0XHRcdGl0ZW0uZGF0YXNldC5pbmRleCA9IGluZGV4LnRvU3RyaW5nKCk7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAodmFsdWUgPT09IGN1cnJlbnRTZWxlY3RlZFZhbHVlKSB7XG5cdFx0XHRcdFx0aXRlbS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU2RURBXHU1MkE4XHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XHVGRjA4XHU2NjZFXHU5MDFBXHU2RURBXHU1MkE4XHVGRjA5XG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBzY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsVG9wO1xuXHRcdFx0XHRjb25zdCBuZXdJbmRleCA9IE1hdGgucm91bmQoc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCk7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAobmV3SW5kZXggIT09IHNlbGVjdGVkSW5kZXggJiYgbmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IHZhbHVlcy5sZW5ndGgpIHtcblx0XHRcdFx0XHQvLyBcdTY2RjRcdTY1QjBcdTkwMDlcdTRFMkRcdTcyQjZcdTYwMDFcblx0XHRcdFx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG5cdFx0XHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaW5kZXggPT09IG5ld0luZGV4KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRzZWxlY3RlZEluZGV4ID0gbmV3SW5kZXg7XG5cdFx0XHRcdFx0Y3VycmVudFNlbGVjdGVkVmFsdWUgPSB2YWx1ZXNbbmV3SW5kZXhdO1xuXHRcdFx0XHRcdGFwaS5zZWxlY3RlZFZhbHVlID0gY3VycmVudFNlbGVjdGVkVmFsdWU7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gXHU4OUU2XHU1M0QxXHU1M0Q4XHU1MzE2XHU1NkRFXHU4QzAzXG5cdFx0XHRcdFx0aWYgKG9uQ2hhbmdlKSB7XG5cdFx0XHRcdFx0XHRvbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRWYWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gXHU1MTQxXHU4QkI4XHU3NkY0XHU2M0E1XHU3MEI5XHU1MUZCXHU5MDA5XHU2MkU5XG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcblx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0XHRjb25zdCBpdGVtRWwgPSB0YXJnZXQgJiYgdGFyZ2V0LmNsb3Nlc3QgPyAodGFyZ2V0LmNsb3Nlc3QoJy5kYXRlLXdoZWVsLWl0ZW0nKSBhcyBIVE1MRWxlbWVudCB8IG51bGwpIDogbnVsbDtcblx0XHRcdFx0aWYgKCFpdGVtRWwpIHJldHVybjtcblx0XHRcdFx0Y29uc3QgaWR4ID0gTnVtYmVyKGl0ZW1FbC5kYXRhc2V0LmluZGV4IHx8ICcwJyk7XG5cdFx0XHRcdC8vIFx1N0FDQlx1NTM3M1x1NjZGNFx1NjVCMFx1OTAwOVx1NEUyRFx1NjgzN1x1NUYwRlxuXHRcdFx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpLmZvckVhY2goKGVsLCBpKSA9PiB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnLCBpID09PSBpZHgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29udGFpbmVyLnNjcm9sbFRvcCA9IGlkeCAqIGl0ZW1IZWlnaHQ7XG5cdFx0XHRcdHNlbGVjdGVkSW5kZXggPSBpZHg7XG5cdFx0XHRcdGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gdmFsdWVzW2lkeF07XG5cdFx0XHRcdGFwaS5zZWxlY3RlZFZhbHVlID0gY3VycmVudFNlbGVjdGVkVmFsdWU7XG5cdFx0XHRcdGlmIChvbkNoYW5nZSkgb25DaGFuZ2UoY3VycmVudFNlbGVjdGVkVmFsdWUpO1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIFx1NTIxRFx1NTlDQlx1NkVEQVx1NTJBOFx1NTIzMFx1OTAwOVx1NEUyRFx1NEY0RFx1N0Y2RVxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBzZWxlY3RlZEluZGV4ICogaXRlbUhlaWdodDtcblx0XHRcdH0sIDApO1xuXHRcdH1cblx0XHRcblx0XHRjb2x1bW4uYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblx0XHRcblx0XHRyZXR1cm4gYXBpO1xuXHR9XG5cblx0Ly8gXHU2NkY0XHU2NUIwXHU2NUU1XHU2NzFGXHU1MjE3XG5cdHByaXZhdGUgdXBkYXRlRGF5c0NvbHVtbihkYXlDb2x1bW46IHsgZWxlbWVudDogSFRNTEVsZW1lbnQsIHNlbGVjdGVkVmFsdWU6IG51bWJlciB9LCB5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpOiB2b2lkIHtcblx0XHRjb25zdCBjb250YWluZXIgPSBkYXlDb2x1bW4uZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZS13aGVlbC1pdGVtcycpIGFzIEhUTUxFbGVtZW50O1xuXHRcdGNvbnN0IGN1cnJlbnREYXkgPSBkYXlDb2x1bW4uc2VsZWN0ZWRWYWx1ZTtcblx0XHRjb25zdCBuZXdEYXlzID0gdGhpcy5nZW5lcmF0ZURheXMoeWVhciwgbW9udGgpO1xuXHRcdFxuXHRcdC8vIFx1NkUwNVx1N0E3QVx1NzNCMFx1NjcwOVx1NTE4NVx1NUJCOVx1RkYwOFx1OTA3Rlx1NTE0RFx1NEY3Rlx1NzUyOCBpbm5lckhUTUxcdUZGMDlcblx0XHRpZiAoKGNvbnRhaW5lciBhcyBhbnkpLmVtcHR5KSB7XG5cdFx0XHQoY29udGFpbmVyIGFzIGFueSkuZW1wdHkoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2hpbGUgKGNvbnRhaW5lci5maXJzdENoaWxkKSBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBcdTkxQ0RcdTY1QjBcdTUyMUJcdTVFRkFcdTY1RTVcdTY3MUZcdTkwMDlcdTk4NzlcdUZGMDhcdTVGQUFcdTczQUZcdTZFREFcdTUyQThcdUZGMDlcblx0XHRjb25zdCBtYXhEYXkgPSBNYXRoLm1heCguLi5uZXdEYXlzKTtcblx0XHRjb25zdCBzZWxlY3RlZERheSA9IE1hdGgubWluKGN1cnJlbnREYXksIG1heERheSk7XG5cdFx0Y29uc3Qgc2VsZWN0ZWRJbmRleCA9IG5ld0RheXMuaW5kZXhPZihzZWxlY3RlZERheSk7XG5cdFx0Y29uc3QgaXRlbUhlaWdodCA9IDQwO1xuXHRcdFxuXHRcdC8vIFx1NUZBQVx1NzNBRlx1NkVEQVx1NTJBOFx1RkYxQVx1NTIxQlx1NUVGQVx1NTkxQVx1NEUyQVx1OTFDRFx1NTkwRFx1NzY4NFx1OTAwOVx1OTg3OVx1OTg3OVxuXHRcdGNvbnN0IHJlcGVhdENvdW50ID0gNTsgLy8gXHU5MUNEXHU1OTBENVx1NkIyMVxuXHRcdGNvbnN0IHRvdGFsSXRlbXMgPSBuZXdEYXlzLmxlbmd0aCAqIHJlcGVhdENvdW50O1xuXHRcdFxuXHRcdC8vIFx1OEJBMVx1N0I5N1x1NTIxRFx1NTlDQlx1NkVEQVx1NTJBOFx1NEY0RFx1N0Y2RVx1RkYwOFx1OEJBOVx1OTAwOVx1NEUyRFx1OTg3OVx1NTcyOFx1NEUyRFx1OTVGNFx1RkYwQ1x1NEY3Rlx1NzUyOFx1N0IyQzNcdTdFQzRcdTRGNUNcdTRFM0FcdThENzdcdTU5Q0JcdTRGNERcdTdGNkVcdUZGMDlcblx0XHRjb25zdCBtaWRkbGVHcm91cEluZGV4ID0gMjsgLy8gXHU3QjJDM1x1N0VDNFx1RkYwODAsMSwyLDMsNFx1NEUyRFx1NzY4NDJcdUZGMDlcblx0XHRjb25zdCBpbml0aWFsU2Nyb2xsVG9wID0gbWlkZGxlR3JvdXBJbmRleCAqIG5ld0RheXMubGVuZ3RoICogaXRlbUhlaWdodCArIHNlbGVjdGVkSW5kZXggKiBpdGVtSGVpZ2h0O1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1OTFDRFx1NTkwRFx1NzY4NFx1NjVFNVx1NjcxRlx1OTAwOVx1OTg3OVx1OTg3OVxuXHRcdGZvciAobGV0IHJlcGVhdCA9IDA7IHJlcGVhdCA8IHJlcGVhdENvdW50OyByZXBlYXQrKykge1xuXHRcdFx0bmV3RGF5cy5mb3JFYWNoKChkYXksIGluZGV4KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnZGF0ZS13aGVlbC1pdGVtJztcblx0XHRcdFx0aXRlbS50ZXh0Q29udGVudCA9IGAke2RheS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9XHU2NUU1YDtcblx0XHRcdFx0aXRlbS5kYXRhc2V0LnZhbHVlID0gZGF5LnRvU3RyaW5nKCk7XG5cdFx0XHRcdGl0ZW0uZGF0YXNldC5pbmRleCA9IChyZXBlYXQgKiBuZXdEYXlzLmxlbmd0aCArIGluZGV4KS50b1N0cmluZygpO1xuXHRcdFx0XHRpdGVtLmRhdGFzZXQucmVhbFZhbHVlID0gZGF5LnRvU3RyaW5nKCk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gXHU4QkJFXHU3RjZFXHU1QkI5XHU1NjY4XHU5QUQ4XHU1RUE2XHU1NDhDXHU1MjFEXHU1OUNCXHU2RURBXHU1MkE4XHU0RjREXHU3RjZFXG5cdFx0Y29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3RvdGFsSXRlbXMgKiBpdGVtSGVpZ2h0fXB4YDtcblx0XHQvLyBcdTUxNDhcdTY4MDdcdThCQjBcdTkwMDlcdTRFMkRcdTk4NzlcdUZGMDhcdTRFMkRcdTk1RjRcdTdFQzRcdTVCRjlcdTVFOTRcdTdEMjJcdTVGMTVcdUZGMDlcblx0XHRjb25zdCBpbml0aWFsSXRlbUluZGV4RGF5ID0gbWlkZGxlR3JvdXBJbmRleCAqIG5ld0RheXMubGVuZ3RoICsgc2VsZWN0ZWRJbmRleDtcblx0XHRjb25zdCBkYXlJdGVtcyA9IEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kYXRlLXdoZWVsLWl0ZW0nKSkgYXMgSFRNTEVsZW1lbnRbXTtcblx0XHRpZiAoZGF5SXRlbXNbaW5pdGlhbEl0ZW1JbmRleERheV0pIHtcblx0XHRcdGRheUl0ZW1zLmZvckVhY2goKGVsLCBpZHgpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaWR4ID09PSBpbml0aWFsSXRlbUluZGV4RGF5KSk7XG5cdFx0fVxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG5cdFx0XHRjb250YWluZXIuc2Nyb2xsVG9wID0gaW5pdGlhbFNjcm9sbFRvcDtcblx0XHR9KTtcblx0XHRcblx0XHQvLyBcdTY2RjRcdTY1QjBcdTkwMDlcdTRFMkRcdTUwM0Ncblx0XHRkYXlDb2x1bW4uc2VsZWN0ZWRWYWx1ZSA9IHNlbGVjdGVkRGF5O1xuXHRcdFxuXHRcdC8vIFx1OTFDRFx1NjVCMFx1N0VEMVx1NUI5QVx1NkVEQVx1NTJBOFx1NEU4Qlx1NEVGNlx1RkYwOFx1NUZBQVx1NzNBRlx1NkVEQVx1NTJBOFx1RkYwOVxuXHRcdGxldCBpc1Njcm9sbGluZyA9IGZhbHNlO1xuXHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG5cdFx0XHRpZiAoaXNTY3JvbGxpbmcpIHJldHVybjtcblx0XHRcdFxuXHRcdFx0Y29uc3Qgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IE1hdGgucm91bmQoc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCk7XG5cdFx0XHRjb25zdCByZWFsSW5kZXggPSBjdXJyZW50SW5kZXggJSBuZXdEYXlzLmxlbmd0aDtcblx0XHRcdGNvbnN0IHJlYWxWYWx1ZSA9IG5ld0RheXNbcmVhbEluZGV4XTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU2NkY0XHU2NUIwXHU5MDA5XHU0RTJEXHU3MkI2XHU2MDAxXG5cdFx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGl0ZW1SZWFsSW5kZXggPSBpbmRleCAlIG5ld0RheXMubGVuZ3RoO1xuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaXRlbVJlYWxJbmRleCA9PT0gcmVhbEluZGV4KTtcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRkYXlDb2x1bW4uc2VsZWN0ZWRWYWx1ZSA9IHJlYWxWYWx1ZTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU1RkFBXHU3M0FGXHU2RURBXHU1MkE4XHU5MDNCXHU4RjkxXHVGRjFBXHU1RjUzXHU2RURBXHU1MkE4XHU1MjMwXHU4RkI5XHU3NTRDXHU2NUY2XHVGRjBDXHU5MUNEXHU3RjZFXHU0RjREXHU3RjZFXG5cdFx0XHRjb25zdCBtYXhTY3JvbGxUb3AgPSAocmVwZWF0Q291bnQgLSAxKSAqIG5ld0RheXMubGVuZ3RoICogaXRlbUhlaWdodDtcblx0XHRcdGNvbnN0IG1pblNjcm9sbFRvcCA9IG5ld0RheXMubGVuZ3RoICogaXRlbUhlaWdodDtcblx0XHRcdFxuXHRcdFx0aWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGxUb3ApIHtcblx0XHRcdFx0aXNTY3JvbGxpbmcgPSB0cnVlO1xuXHRcdFx0XHQvLyBcdTRFQ0VcdTdCMkM1XHU3RUM0XHU4REYzXHU4RjZDXHU1MjMwXHU3QjJDMlx1N0VDNFx1RkYwOFx1NEZERFx1NjMwMVx1NzZGOFx1NUJGOVx1NEY0RFx1N0Y2RVx1RkYwOVxuXHRcdFx0XHRjb25zdCBvZmZzZXQgPSBzY3JvbGxUb3AgLSBtYXhTY3JvbGxUb3A7XG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBuZXdEYXlzLmxlbmd0aCAqIGl0ZW1IZWlnaHQgKyBvZmZzZXQ7XG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBpc1Njcm9sbGluZyA9IGZhbHNlOyB9LCA1MCk7XG5cdFx0XHR9IGVsc2UgaWYgKHNjcm9sbFRvcCA8PSAwKSB7XG5cdFx0XHRcdGlzU2Nyb2xsaW5nID0gdHJ1ZTtcblx0XHRcdFx0Ly8gXHU0RUNFXHU3QjJDMVx1N0VDNFx1OERGM1x1OEY2Q1x1NTIzMFx1N0IyQzRcdTdFQzRcdUZGMDhcdTRGRERcdTYzMDFcdTc2RjhcdTVCRjlcdTRGNERcdTdGNkVcdUZGMDlcblx0XHRcdFx0Y29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wO1xuXHRcdFx0XHRjb250YWluZXIuc2Nyb2xsVG9wID0gKHJlcGVhdENvdW50IC0gMikgKiBuZXdEYXlzLmxlbmd0aCAqIGl0ZW1IZWlnaHQgKyBvZmZzZXQ7XG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBpc1Njcm9sbGluZyA9IGZhbHNlOyB9LCA1MCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBMYWNDb3N0U2V0UGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xyXG5pbXBvcnQgeyBBc3NldFJlcG9zaXRvcnkgfSBmcm9tICcuLi8uLi9yZXBvc2l0b3JpZXMvQXNzZXRSZXBvc2l0b3J5JztcclxuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2kxOG4nO1xyXG5cclxuLy8gXHU4QkJFXHU3RjZFXHU2ODA3XHU3QjdFXHJcbmV4cG9ydCBjbGFzcyBMYWNDb3N0U2V0U2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogTGFjQ29zdFNldFBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGFjQ29zdFNldFBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogdCgnc2V0dGluZ3MudGl0bGUnKSB9KTtcclxuXHRcdFxyXG5cdFx0Ly8gXHUyMDE0XHUyMDE0IFx1NjgzQ1x1NUYwRlx1NEUwRVx1NzUyOFx1NkNENVx1OEJGNFx1NjYwRSBcdTIwMTRcdTIwMTRcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0KCdzZXR0aW5ncy5ndWlkZS4xJyksIGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgfSk7XHJcblx0XHRjb25zdCBlbnRyeUV4YW1wbGUgPSB0KCdzZXR0aW5ncy5lbnRyeS5leGFtcGxlJyk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncHJlJywgeyB0ZXh0OiBlbnRyeUV4YW1wbGUsIGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgfSk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogdCgnc2V0dGluZ3MuYXNzZXQuZGVzYycpLCBjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nIH0pO1xyXG5cdFx0Y29uc3QgYXNzZXRFeGFtcGxlID0gdCgnc2V0dGluZ3MuYXNzZXQuZXhhbXBsZScpO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ3ByZScsIHsgdGV4dDogYXNzZXRFeGFtcGxlLCBjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nIH0pO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IHQoJ3NldHRpbmdzLnVzYWdlJyksIGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHQoJ3NldHRpbmdzLmVudHJ5RmlsZS5uYW1lJykpXHJcblx0XHRcdC5zZXREZXNjKHQoJ3NldHRpbmdzLmVudHJ5RmlsZS5kZXNjJykpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignTGFDL0Nvc3RTZXQvY29zdHNldC5tZCcpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVudHJ5RmlsZSB8fCAnTGFDL0Nvc3RTZXQvY29zdHNldC5tZCcpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW50cnlGaWxlID0gdmFsdWU/LnRyaW0oKSB8fCAnTGFDL0Nvc3RTZXQvY29zdHNldC5tZCc7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdC8vIFx1N0FDQlx1NTM3M1x1NzUyOFx1NjVCMFx1NzY4NFx1NTE2NVx1NTNFM1x1NjU4N1x1NEVGNlx1OTFDRFx1NUVGQVx1NEVEM1x1NUU5M1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uYXNzZXRSZXBvc2l0b3J5ID0gbmV3IEFzc2V0UmVwb3NpdG9yeSh0aGlzLmFwcCwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW50cnlGaWxlKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHQoJ3NldHRpbmdzLmNvbnRleHRNZW51Lm5hbWUnKSlcclxuXHRcdFx0LnNldERlc2ModCgnc2V0dGluZ3MuY29udGV4dE1lbnUuZGVzYycpKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ29udGV4dE1lbnUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ29udGV4dE1lbnUgPSAhIXZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0KCdzZXR0aW5ncy5kZWZhdWx0U29ydC5uYW1lJykpXHJcblx0XHRcdC5zZXREZXNjKHQoJ3NldHRpbmdzLmRlZmF1bHRTb3J0LmRlc2MnKSlcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3AgPT4ge1xyXG5cdFx0XHRcdGRyb3AuYWRkT3B0aW9uKCdub25lJywgdCgnc2V0dGluZ3MuZGVmYXVsdFNvcnQub3B0aW9uLm5vbmUnKSk7XHJcblx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oJ2RhaWx5RGVzYycsIHQoJ3NldHRpbmdzLmRlZmF1bHRTb3J0Lm9wdGlvbi5kYWlseURlc2MnKSk7XHJcblx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oJ3ByaWNlRGVzYycsIHQoJ3NldHRpbmdzLmRlZmF1bHRTb3J0Lm9wdGlvbi5wcmljZURlc2MnKSk7XHJcblx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oJ2RhdGVEZXNjJywgdCgnc2V0dGluZ3MuZGVmYXVsdFNvcnQub3B0aW9uLmRhdGVEZXNjJykpO1xyXG5cdFx0XHRcdGRyb3Auc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFNvcnQgfHwgJ25vbmUnKTtcclxuXHRcdFx0XHRkcm9wLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgdiA9ICh2YWx1ZSBhcyBhbnkpIGFzICdub25lJyB8ICdkYWlseURlc2MnIHwgJ3ByaWNlRGVzYycgfCAnZGF0ZURlc2MnO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFNvcnQgPSB2O1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0KCdzZXR0aW5ncy5kZWZhdWx0SWNvbi5uYW1lJykpXHJcblx0XHRcdC5zZXREZXNjKHQoJ3NldHRpbmdzLmRlZmF1bHRJY29uLmRlc2MnKSlcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc2FuaXRpemVUb0ZpcnN0RW1vamkgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBtID0gKGlucHV0IHx8ICcnKS5tYXRjaCgvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS8pO1xyXG5cdFx0XHRcdFx0cmV0dXJuIG0gPyBtWzBdIDogJyc7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHR0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIodCgnc2V0dGluZ3MuZGVmYXVsdEljb24ucGxhY2Vob2xkZXInKSlcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0SWNvbilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZmlyc3QgPSBzYW5pdGl6ZVRvRmlyc3RFbW9qaSh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdGlmICgodGV4dCBhcyBhbnkpLmlucHV0RWwgJiYgKHRleHQgYXMgYW55KS5pbnB1dEVsLnZhbHVlICE9PSBmaXJzdCkge1xyXG5cdFx0XHRcdFx0XHRcdCh0ZXh0IGFzIGFueSkuaW5wdXRFbC52YWx1ZSA9IGZpcnN0O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRJY29uID0gZmlyc3Q7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Y29uc3QgaW5wdXRFbCA9ICh0ZXh0IGFzIGFueSkuaW5wdXRFbCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0XHRcdGlmIChpbnB1dEVsKSB7XHJcblx0XHRcdFx0XHRpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBmaXJzdCA9IHNhbml0aXplVG9GaXJzdEVtb2ppKGlucHV0RWwudmFsdWUgfHwgJycpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpbnB1dEVsLnZhbHVlICE9PSBmaXJzdCkgaW5wdXRFbC52YWx1ZSA9IGZpcnN0O1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRJY29uID0gZmlyc3Q7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0sIDApO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBcdThCRURcdThBMDBcdThCQkVcdTdGNkVcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0KCdzZXR0aW5ncy5sb2NhbGUubmFtZScpKVxyXG5cdFx0XHQuc2V0RGVzYyh0KCdzZXR0aW5ncy5sb2NhbGUuZGVzYycpKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcCA9PiB7XHJcblx0XHRcdFx0Ly8gXHU4QkVEXHU4QTAwXHU5MDA5XHU5ODc5XHU0RjdGXHU3NTI4XHU4MUVBXHU2MjExXHU2M0NGXHU4RkYwXHVGRjFBXHU0RTJEXHU2NTg3L0VuZ2xpc2hcclxuXHRcdFx0XHRkcm9wLmFkZE9wdGlvbignYXV0bycsIHQoJ3NldHRpbmdzLmxvY2FsZS5vcHRpb24uYXV0bycpKTtcclxuXHRcdFx0XHRkcm9wLmFkZE9wdGlvbignemgnLCAnXHU0RTJEXHU2NTg3Jyk7XHJcblx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oJ2VuJywgJ0VuZ2xpc2gnKTtcclxuXHRcdFx0XHRkcm9wLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxvY2FsZSB8fCAnYXV0bycpO1xyXG5cdFx0XHRcdGRyb3Aub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2NhbGUgPSAodmFsdWUgYXMgYW55KTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0Ly8gXHU3QUNCXHU1MzczXHU1MjM3XHU2NUIwXHU1RjUzXHU1MjREXHU4QkJFXHU3RjZFXHU5ODc1XHVGRjBDXHU1RTk0XHU3NTI4XHU4QkVEXHU4QTAwXHJcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSU8sU0FBUyxjQUFjLFFBQWdEO0FBQzdFLE1BQUksQ0FBQyxVQUFVLFdBQVcsUUFBUTtBQUNqQyxRQUFJO0FBQ0gsWUFBTSxRQUFRLFVBQVUsWUFBWSxJQUFJLFlBQVk7QUFDcEQsYUFBTyxLQUFLLFdBQVcsSUFBSSxJQUFJLE9BQU87QUFBQSxJQUN2QyxTQUFTLEdBQVA7QUFDRCxhQUFPO0FBQUEsSUFDUjtBQUFBLEVBQ0Q7QUFDQSxTQUFPO0FBQ1I7QUFFTyxTQUFTLFVBQVUsUUFBMkM7QUFDcEUsa0JBQWdCLGNBQWMsTUFBYTtBQUM1QztBQUVPLFNBQVMsbUJBQWdDO0FBQy9DLFNBQU87QUFDUjtBQW1JQSxTQUFTLFdBQVcsT0FBZSxNQUFnRDtBQUNsRixNQUFJLENBQUM7QUFBTSxXQUFPO0FBQ2xCLFNBQU8sTUFBTSxRQUFRLGNBQWMsQ0FBQyxJQUFJLE1BQUc7QUEzSjVDO0FBMkorQyxtQkFBTyxVQUFLLENBQUMsTUFBTixZQUFXLEVBQUU7QUFBQSxHQUFDO0FBQ3BFO0FBRU8sU0FBUyxFQUFFLEtBQWEsTUFBd0MsUUFBOEI7QUE5SnJHO0FBK0pDLFFBQU0sT0FBTyxVQUFVO0FBQ3ZCLFFBQU0sUUFBUyxLQUFhLEdBQUc7QUFDL0IsTUFBSSxDQUFDO0FBQU8sV0FBTztBQUNuQixRQUFNLE9BQU8saUJBQWMsSUFBSSxNQUFsQixZQUF1QixNQUFNLE9BQTdCLFlBQW1DO0FBQ2hELFNBQU8sV0FBVyxLQUFLLElBQUk7QUFDNUI7QUFwS0EsSUFFSSxlQXdCRTtBQTFCTjtBQUFBO0FBRUEsSUFBSSxnQkFBNkI7QUF3QmpDLElBQU0sT0FBYTtBQUFBO0FBQUEsTUFFZixtQkFBbUIsRUFBRSxJQUFJLFFBQUssSUFBSSxJQUFJO0FBQUE7QUFBQSxNQUV6QyxrQkFBa0IsRUFBRSxJQUFJLGdCQUFNLElBQUksVUFBVTtBQUFBLE1BQzVDLGlCQUFpQixFQUFFLElBQUksZ0JBQU0sSUFBSSxTQUFTO0FBQUEsTUFDMUMsaUJBQWlCLEVBQUUsSUFBSSxnQkFBTSxJQUFJLFNBQVM7QUFBQSxNQUMxQyxlQUFlLEVBQUUsSUFBSSxnQkFBTSxJQUFJLE9BQU87QUFBQSxNQUN0QyxlQUFlLEVBQUUsSUFBSSxnQkFBTSxJQUFJLE9BQU87QUFBQSxNQUN0QyxjQUFjLEVBQUUsSUFBSSxnQkFBTSxJQUFJLE1BQU07QUFBQSxNQUNwQyxpQkFBaUIsRUFBRSxJQUFJLGdCQUFNLElBQUksU0FBUztBQUFBO0FBQUEsTUFHMUMsaUJBQWlCLEVBQUUsSUFBSSxtQ0FBb0IsSUFBSSx3QkFBd0I7QUFBQSxNQUN2RSxnQkFBZ0IsRUFBRSxJQUFJLGdCQUFNLElBQUksT0FBTztBQUFBLE1BQ3ZDLHVCQUF1QjtBQUFBLFFBQ3RCLElBQUk7QUFBQSxRQUNKLElBQUk7QUFBQSxNQUNMO0FBQUEsTUFDQSxxQkFBcUIsRUFBRSxJQUFJLG1DQUFlLElBQUkscUJBQXFCO0FBQUE7QUFBQSxNQUduRSxrQkFBa0IsRUFBRSxJQUFJLDRCQUFrQixJQUFJLHVCQUF1QjtBQUFBLE1BQ3JFLG9CQUFvQjtBQUFBLFFBQ25CLElBQUk7QUFBQSxRQUNKLElBQUk7QUFBQSxNQUNMO0FBQUEsTUFDQSwwQkFBMEI7QUFBQSxRQUN6QixJQUFJO0FBQUEsUUFDSixJQUFJO0FBQUEsTUFDTDtBQUFBLE1BQ0EsdUJBQXVCO0FBQUEsUUFDdEIsSUFBSTtBQUFBLFFBQ0osSUFBSTtBQUFBLE1BQ0w7QUFBQSxNQUNBLDBCQUEwQjtBQUFBLFFBQ3pCLElBQUk7QUFBQSxRQUNKLElBQUk7QUFBQSxNQUNMO0FBQUEsTUFDQSxrQkFBa0I7QUFBQSxRQUNqQixJQUFJO0FBQUEsUUFDSixJQUFJO0FBQUEsTUFDTDtBQUFBLE1BQ0EsMkJBQTJCLEVBQUUsSUFBSSw0QkFBUSxJQUFJLGFBQWE7QUFBQSxNQUMxRCwyQkFBMkIsRUFBRSxJQUFJLHlIQUFtRCxJQUFJLGdFQUFnRTtBQUFBLE1BQ3hKLDZCQUE2QixFQUFFLElBQUksb0ZBQTZCLElBQUksOENBQThDO0FBQUEsTUFDbEgsNkJBQTZCLEVBQUUsSUFBSSw0RkFBMkIsSUFBSSwyQ0FBMkM7QUFBQSxNQUM3Ryw2QkFBNkIsRUFBRSxJQUFJLDRCQUFRLElBQUksZUFBZTtBQUFBLE1BQzlELDZCQUE2QixFQUFFLElBQUksNEVBQWdCLElBQUkscUNBQXFDO0FBQUEsTUFDNUYsb0NBQW9DLEVBQUUsSUFBSSw0QkFBUSxJQUFJLGFBQWE7QUFBQSxNQUNuRSx5Q0FBeUMsRUFBRSxJQUFJLDRCQUFRLElBQUksYUFBYTtBQUFBLE1BQ3hFLHlDQUF5QyxFQUFFLElBQUksZ0JBQU0sSUFBSSxRQUFRO0FBQUEsTUFDakUsd0NBQXdDLEVBQUUsSUFBSSw0QkFBUSxJQUFJLGdCQUFnQjtBQUFBLE1BQzFFLDZCQUE2QixFQUFFLElBQUksNEJBQVEsSUFBSSxlQUFlO0FBQUEsTUFDOUQsNkJBQTZCLEVBQUUsSUFBSSwyRkFBMEIsSUFBSSxrREFBa0Q7QUFBQSxNQUNuSCxvQ0FBb0MsRUFBRSxJQUFJLGFBQU0sSUFBSSxZQUFLO0FBQUEsTUFDekQsd0JBQXdCLEVBQUUsSUFBSSxnQkFBTSxJQUFJLFdBQVc7QUFBQSxNQUNuRCx3QkFBd0IsRUFBRSxJQUFJLDRCQUFRLElBQUkscUJBQXFCO0FBQUEsTUFDL0QsK0JBQStCLEVBQUUsSUFBSSw0QkFBUSxJQUFJLE9BQU87QUFBQSxNQUN4RCw2QkFBNkIsRUFBRSxJQUFJLGdCQUFNLElBQUksVUFBVTtBQUFBLE1BQ3ZELDZCQUE2QixFQUFFLElBQUksZ0JBQU0sSUFBSSxVQUFVO0FBQUE7QUFBQSxNQUd2RCwwQkFBMEIsRUFBRSxJQUFJLHdIQUFtQyxJQUFJLGtEQUFrRDtBQUFBLE1BQ3pILHlCQUF5QixFQUFFLElBQUksOENBQVcsSUFBSSx5QkFBeUI7QUFBQSxNQUN2RSx3QkFBd0IsRUFBRSxJQUFJLGdIQUFzQixJQUFJLDREQUE0RDtBQUFBLE1BQ3BILGNBQWMsRUFBRSxJQUFJLDRCQUFRLElBQUksWUFBWTtBQUFBLE1BQzVDLGNBQWMsRUFBRSxJQUFJLGdCQUFNLElBQUksVUFBVTtBQUFBLE1BQ3hDLGlCQUFpQixFQUFFLElBQUksNEJBQWEsSUFBSSxtQkFBbUI7QUFBQSxNQUMzRCxjQUFjLEVBQUUsSUFBSSxnQkFBTSxJQUFJLFFBQVE7QUFBQSxNQUN0QyxjQUFjLEVBQUUsSUFBSSxnQkFBTSxJQUFJLFFBQVE7QUFBQSxNQUN0QyxxQkFBcUIsRUFBRSxJQUFJLHNCQUFPLElBQUksVUFBVTtBQUFBLE1BQ2hELGFBQWEsRUFBRSxJQUFJLGdCQUFNLElBQUksT0FBTztBQUFBLE1BQ3BDLG9CQUFvQixFQUFFLElBQUksZ0JBQU0sSUFBSSxTQUFTO0FBQUEsTUFDN0MsMkJBQTJCLEVBQUUsSUFBSSw4Q0FBVyxJQUFJLHNCQUFzQjtBQUFBLE1BQ3RFLG1CQUFtQixFQUFFLElBQUksZ0JBQU0sSUFBSSxPQUFPO0FBQUEsTUFDMUMsNkJBQTZCLEVBQUUsSUFBSSxpREFBYyxJQUFJLHVCQUF1QjtBQUFBLE1BQzVFLDZCQUE2QixFQUFFLElBQUkscUNBQVksSUFBSSxrQkFBa0I7QUFBQSxNQUNyRSw0QkFBNEIsRUFBRSxJQUFJLGlEQUFjLElBQUksMEJBQTBCO0FBQUEsTUFDOUUsNEJBQTRCLEVBQUUsSUFBSSxrQ0FBUyxJQUFJLGdCQUFnQjtBQUFBLE1BQy9ELDRCQUE0QixFQUFFLElBQUksc0JBQU8sSUFBSSxXQUFXO0FBQUEsTUFDeEQsMkJBQTJCLEVBQUUsSUFBSSxrQ0FBUyxJQUFJLG1CQUFtQjtBQUFBLE1BQ2pFLFlBQVksRUFBRSxJQUFJLGdCQUFNLElBQUksTUFBTTtBQUFBLE1BQ2xDLDJCQUEyQixFQUFFLElBQUksb0VBQXVCLElBQUkseUJBQXlCO0FBQUE7QUFBQSxNQUdyRixhQUFhLEVBQUUsSUFBSSx1QkFBUSxJQUFJLFNBQVM7QUFBQSxNQUN4QyxlQUFlLEVBQUUsSUFBSSx1QkFBUSxJQUFJLGNBQWM7QUFBQSxNQUMvQyxhQUFhLEVBQUUsSUFBSSw0QkFBUSxJQUFJLFlBQVk7QUFBQSxNQUMzQyxhQUFhLEVBQUUsSUFBSSxVQUFLLElBQUksR0FBRztBQUFBLE1BQy9CLGNBQWMsRUFBRSxJQUFJLFVBQUssSUFBSSxHQUFHO0FBQUEsTUFDaEMsWUFBWSxFQUFFLElBQUksVUFBSyxJQUFJLEdBQUc7QUFBQTtBQUFBLE1BRzlCLGlCQUFpQixFQUFFLElBQUksNEJBQVEsSUFBSSxVQUFVO0FBQUE7QUFBQSxNQUc3QyxhQUFhLEVBQUUsSUFBSSxnQkFBTSxJQUFJLE9BQU87QUFBQSxNQUNwQyxhQUFhLEVBQUUsSUFBSSxnQkFBTSxJQUFJLE9BQU87QUFBQSxNQUNwQyxjQUFjLEVBQUUsSUFBSSxnQkFBTSxJQUFJLFFBQVE7QUFBQSxNQUN0QyxtQkFBbUIsRUFBRSxJQUFJLHNCQUFPLElBQUksZUFBZTtBQUFBLE1BQ25ELHFCQUFxQixFQUFFLElBQUksNEJBQVEsSUFBSSxnQkFBZ0I7QUFBQSxNQUN2RCxnQkFBZ0IsRUFBRSxJQUFJLGdCQUFNLElBQUksV0FBVztBQUFBLE1BQzNDLDJCQUEyQixFQUFFLElBQUksb0VBQWtCLElBQUksaUNBQWlDO0FBQUEsTUFDeEYscUJBQXFCLEVBQUUsSUFBSSxzQkFBTyxJQUFJLGdCQUFnQjtBQUFBLE1BQ3RELGFBQWEsRUFBRSxJQUFJLGdCQUFNLElBQUksT0FBTztBQUFBLE1BQ3BDLDhCQUE4QixFQUFFLElBQUksNEJBQVEsSUFBSSxhQUFhO0FBQUEsTUFDN0QseUJBQXlCLEVBQUUsSUFBSSxpRUFBb0IsSUFBSSxpQ0FBaUM7QUFBQSxNQUN4RiwwQkFBMEIsRUFBRSxJQUFJLDhDQUFXLElBQUksaUJBQWlCO0FBQUEsTUFDaEUsNEJBQTRCLEVBQUUsSUFBSSw4Q0FBVyxJQUFJLGdCQUFnQjtBQUFBLE1BQ2pFLHlCQUF5QixFQUFFLElBQUksMERBQWEsSUFBSSw0QkFBNEI7QUFBQSxNQUM1RSxzQkFBc0IsRUFBRSxJQUFJLGdCQUFNLElBQUksU0FBUztBQUFBLE1BQy9DLHNCQUFzQixFQUFFLElBQUksZ0JBQU0sSUFBSSxTQUFTO0FBQUEsTUFDL0Msb0JBQW9CLEVBQUUsSUFBSSxnQkFBTSxJQUFJLE9BQU87QUFBQSxNQUMzQywyQkFBMkIsRUFBRSxJQUFJLGtDQUFTLElBQUksc0JBQXNCO0FBQUEsTUFDcEUsMkJBQTJCLEVBQUUsSUFBSSxvREFBWSxJQUFJLDZCQUE2QjtBQUFBLE1BQzlFLDJCQUEyQixFQUFFLElBQUksOENBQVcsSUFBSSxnQ0FBZ0M7QUFBQSxNQUNoRiwyQkFBMkIsRUFBRSxJQUFJLDRFQUFnQixJQUFJLGtEQUFrRDtBQUFBLE1BQ3ZHLDZCQUE2QixFQUFFLElBQUksMERBQWEsSUFBSSwrQkFBK0I7QUFBQSxNQUNuRiw2QkFBNkIsRUFBRSxJQUFJLDBEQUFhLElBQUksc0NBQXNDO0FBQUE7QUFBQSxNQUcxRiwyQkFBMkIsRUFBRSxJQUFJLDRCQUFRLElBQUksY0FBYztBQUFBLE1BQzNELGtCQUFrQixFQUFFLElBQUksZ0JBQU0sSUFBSSxhQUFhO0FBQUEsTUFDL0Msb0JBQW9CLEVBQUUsSUFBSSw0QkFBUSxJQUFJLGVBQWU7QUFBQSxJQUN0RDtBQUFBO0FBQUE7OztBQ3ZKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQTJDOzs7QUNVcEMsSUFBTSxtQkFBdUM7QUFBQSxFQUNoRCxhQUFhO0FBQUEsRUFDYixXQUFXO0FBQUEsRUFDWCxtQkFBbUI7QUFBQSxFQUNuQixhQUFhO0FBQUEsRUFDYixRQUFRO0FBQ1o7OztBRGRBOzs7QUVGQSxzQkFBMkI7OztBQ0NwQixJQUFNLFFBQU4sTUFBWTtBQUFBLEVBV2xCLFlBQVksYUFBMkIsVUFBZ0I7QUFaeEQ7QUFhRSxRQUFJLE9BQU8sZ0JBQWdCLFlBQVksVUFBVTtBQUVoRCxXQUFLLEtBQUs7QUFDVixZQUFNLE1BQU0sU0FBUyxVQUFVLFNBQVMsVUFBVTtBQUNsRCxXQUFLLE9BQU8sSUFBSSxRQUFRO0FBRXhCLFdBQUssUUFBTyxxQkFBSSxVQUFKLG1CQUFXLFNBQVgsYUFBbUIsY0FBUyxVQUFULG1CQUFnQixTQUFuQyxZQUEyQztBQUN2RCxZQUFNLFVBQVMsZUFBSSxXQUFKLFlBQWMsU0FBUyxXQUF2QixZQUFpQyxDQUFDO0FBQ2pELFdBQUssUUFBUSxPQUFPLE9BQU8sS0FBSyxLQUFLO0FBQ3JDLFdBQUssYUFBYSxLQUFLLFVBQVUsT0FBTyxXQUFXLEtBQUssSUFBSSxLQUFLO0FBQ2pFLFdBQUssV0FBVyxLQUFLLFVBQVUsT0FBTyxTQUFTLEtBQUs7QUFDcEQsV0FBSyxlQUFlLE9BQU8sT0FBTyxhQUFhLEtBQUs7QUFDcEQsV0FBSyxPQUFPLE1BQU0sUUFBUSxPQUFPLElBQUksSUFBSSxPQUFPLFFBQVEsT0FBTyxRQUFRLElBQUksTUFBTSxHQUFHLEVBQUUsSUFBSSxDQUFDLE1BQWMsRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPLENBQUMsUUFBZ0IsR0FBRztBQUM5SSxXQUFLLFNBQVMsQ0FBQyxHQUFFLFlBQU8sV0FBUCxZQUFpQixJQUFJO0FBQUEsSUFDdkMsV0FBVyxPQUFPLGdCQUFnQixVQUFVO0FBRTNDLFdBQUssS0FBSyxZQUFZLE1BQU07QUFDNUIsV0FBSyxPQUFPLFlBQVksUUFBUTtBQUNoQyxXQUFLLE9BQU8sWUFBWSxRQUFRO0FBQ2hDLFdBQUssUUFBUSxPQUFPLFlBQVksS0FBSyxLQUFLO0FBQzFDLFdBQUssYUFBYSxLQUFLLFVBQVUsWUFBWSxlQUFlLFlBQVksVUFBVSxLQUFLLElBQUksS0FBSztBQUNoRyxXQUFLLFdBQVcsS0FBSyxVQUFVLFlBQVksYUFBYSxZQUFZLFFBQVEsS0FBSztBQUNqRixXQUFLLGVBQWUsT0FBTyxZQUFZLGFBQWEsS0FBSztBQUN6RCxXQUFLLE9BQU8sTUFBTSxRQUFRLFlBQVksSUFBSSxJQUFJLFlBQVksUUFBUSxZQUFZLFFBQVEsSUFBSSxNQUFNLEdBQUcsRUFBRSxJQUFJLENBQUMsTUFBYyxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU8sQ0FBQyxRQUFnQixHQUFHO0FBQzdKLFdBQUssU0FBUyxDQUFDLENBQUMsWUFBWTtBQUFBLElBQzdCLE9BQU87QUFDTixZQUFNLElBQUksTUFBTSxvQkFBb0I7QUFBQSxJQUNyQztBQUFBLEVBQ0Q7QUFBQSxFQUVRLFVBQVUsU0FBbUM7QUFDcEQsUUFBSSxDQUFDO0FBQVMsYUFBTztBQUNyQixVQUFNLE9BQU8sSUFBSSxLQUFLLE9BQU87QUFDN0IsV0FBTyxNQUFNLEtBQUssUUFBUSxDQUFDLElBQUksU0FBWTtBQUFBLEVBQzVDO0FBQUEsRUFFQSxVQUFVO0FBQUUsV0FBTyxLQUFLO0FBQUEsRUFBTTtBQUFBLEVBQzlCLFdBQVc7QUFBRSxXQUFPLEtBQUs7QUFBQSxFQUFPO0FBQUEsRUFFaEMsYUFBYSxNQUFZLElBQUksS0FBSyxHQUFXO0FBQzVDLFVBQU0sT0FBTyxLQUFLO0FBRWxCLFVBQU0sTUFBTSxLQUFLLFlBQVksS0FBSyxTQUFTLFFBQVEsSUFBSSxJQUFJLFFBQVEsSUFBSSxLQUFLLFdBQVc7QUFDdkYsVUFBTSxPQUFPLEtBQUssSUFBSSxHQUFHLEtBQUssT0FBTyxJQUFJLFFBQVEsSUFBSSxLQUFLLFFBQVEsS0FBSyxLQUFRLENBQUM7QUFDaEYsWUFBUSxLQUFLLFFBQVEsS0FBSyxnQkFBZ0I7QUFBQSxFQUMzQztBQUFBLEVBRUEsYUFBYSxNQUFZLElBQUksS0FBSyxHQUFXO0FBQzVDLFVBQU0sT0FBTyxLQUFLO0FBQ2xCLFVBQU0sTUFBTSxLQUFLLFlBQVksS0FBSyxTQUFTLFFBQVEsSUFBSSxJQUFJLFFBQVEsSUFBSSxLQUFLLFdBQVc7QUFDdkYsV0FBTyxLQUFLLElBQUksR0FBRyxLQUFLLE9BQU8sSUFBSSxRQUFRLElBQUksS0FBSyxRQUFRLEtBQUssS0FBUSxDQUFDO0FBQUEsRUFDM0U7QUFBQSxFQUVBLFNBQVMsT0FBYSxJQUFJLEtBQUssR0FBWTtBQUMxQyxXQUFPLEtBQUssY0FBYyxTQUFTLENBQUMsS0FBSyxZQUFZLE9BQU8sS0FBSztBQUFBLEVBQ2xFO0FBQUEsRUFFQSxlQUF1QjtBQUN0QixVQUFNLGFBQWEsQ0FBQyxTQUFtQztBQUN0RCxVQUFJLENBQUM7QUFBTSxlQUFPO0FBQ2xCLGFBQU8sS0FBSyxZQUFZLEVBQUUsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUFBLElBQ3ZDO0FBRUEsV0FBTyxXQUFXLEtBQUs7QUFBQTtBQUFBO0FBQUEsVUFHZixLQUFLO0FBQUE7QUFBQTtBQUFBLFVBR0wsS0FBSztBQUFBLGlCQUNFLFdBQVcsS0FBSyxVQUFVO0FBQUEsZUFDNUIsV0FBVyxLQUFLLFFBQVE7QUFBQSxrQkFDckIsS0FBSztBQUFBLFVBQ2IsS0FBSyxLQUFLLElBQUksU0FBTyxJQUFJLE1BQU0sRUFBRSxLQUFLLElBQUk7QUFBQTtBQUFBLEVBRW5EO0FBQUE7QUFBQSxFQUdBLHdCQUFnQztBQUMvQixVQUFNLGFBQWEsQ0FBQyxTQUFtQztBQUN0RCxVQUFJLENBQUM7QUFBTSxlQUFPO0FBQ2xCLGFBQU8sS0FBSyxZQUFZLEVBQUUsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUFBLElBQ3ZDO0FBQ0EsVUFBTSxVQUFVLEtBQUssS0FBSyxJQUFJLFNBQU8sSUFBSSxNQUFNLEVBQUUsS0FBSyxJQUFJO0FBQzFELFdBQU87QUFBQSxVQUNDLEtBQUs7QUFBQSxXQUNKLEtBQUssU0FBUyxTQUFTO0FBQUE7QUFBQTtBQUFBLFVBR3hCLEtBQUs7QUFBQTtBQUFBO0FBQUEsVUFHTCxLQUFLO0FBQUEsaUJBQ0UsV0FBVyxLQUFLLFVBQVU7QUFBQSxlQUM1QixXQUFXLEtBQUssUUFBUTtBQUFBLGtCQUNyQixLQUFLO0FBQUEsVUFDYjtBQUFBO0FBQUEsRUFFVDtBQUNEOzs7QUQ1R08sSUFBTSxrQkFBTixNQUFzQjtBQUFBLEVBSTVCLFlBQVksS0FBVSxjQUFzQjtBQUMzQyxTQUFLLE1BQU07QUFDWCxTQUFLLGVBQWU7QUFBQSxFQUNyQjtBQUFBO0FBQUEsRUFHUSxrQkFBMEI7QUFDakMsVUFBTSxZQUFZLEtBQUssYUFBYSxNQUFNLEdBQUc7QUFDN0MsUUFBSSxVQUFVLFNBQVMsR0FBRztBQUN6QixhQUFPLFVBQVUsTUFBTSxHQUFHLEVBQUUsRUFBRSxLQUFLLEdBQUc7QUFBQSxJQUN2QztBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUE7QUFBQSxFQUdBLE1BQU0sVUFBNEI7QUFDakMsVUFBTSxXQUFXLEtBQUssSUFBSSxNQUFNLHNCQUFzQixLQUFLLFlBQVk7QUFDdkUsUUFBSSxDQUFDLFlBQVksRUFBRSxvQkFBb0Isd0JBQVE7QUFDOUMsYUFBTyxDQUFDO0FBQUEsSUFDVDtBQUVBLFFBQUk7QUFDSCxZQUFNLFVBQVUsTUFBTSxLQUFLLElBQUksTUFBTSxLQUFLLFFBQVE7QUFDbEQsWUFBTSxVQUFVLFFBQVEsTUFBTSxtQkFBbUIsS0FBSyxDQUFDO0FBQ3ZELFlBQU0sY0FBYyxRQUNsQixJQUFJLE9BQUssRUFBRSxRQUFRLGdCQUFnQixFQUFFLENBQUMsRUFDdEMsSUFBSSxPQUFFO0FBbENYO0FBa0NjLHVCQUFFLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBZCxtQkFBaUI7QUFBQSxPQUFNLEVBQ2hDLE9BQU8sT0FBTztBQUVoQixZQUFNLFNBQWtCLENBQUM7QUFDekIsaUJBQVcsVUFBVSxhQUFhO0FBQ2pDLFlBQUksT0FBcUI7QUFDekIsWUFBSTtBQUNILGlCQUFPLEtBQUssSUFBSSxjQUFjLHFCQUFxQixRQUFRLEtBQUssWUFBWTtBQUFBLFFBQzdFLFNBQVMsR0FBUDtBQUNELGlCQUFPO0FBQUEsUUFDUjtBQUNBLFlBQUksQ0FBQztBQUFNO0FBRVMsWUFBSTtBQUNZLGdCQUFNLGNBQWMsTUFBTSxLQUFLLElBQUksTUFBTSxLQUFLLElBQUk7QUFDbEQsZ0JBQU0sT0FBTyxLQUFLLFVBQVUsS0FBSyxzQkFBc0IsV0FBVyxDQUFDO0FBQ3RHLGdCQUFNLFVBQVUsS0FBSyxZQUFZO0FBQ2pDLGdCQUFNLFFBQVEsSUFBSSxNQUFNLFNBQVMsSUFBSTtBQUVyQyxnQkFBTSxTQUFTO0FBQ2YsaUJBQU8sS0FBSyxLQUFLO0FBQUEsUUFDbEIsU0FBUyxHQUFQO0FBQ0Qsa0JBQVEsTUFBTSx3QkFBd0IsV0FBVyxDQUFDO0FBQUEsUUFDbkQ7QUFBQSxNQUNEO0FBQ0EsYUFBTztBQUFBLElBQ1IsU0FBUyxHQUFQO0FBQ0QsY0FBUSxNQUFNLDBCQUEwQixDQUFDO0FBQ3pDLGFBQU8sQ0FBQztBQUFBLElBQ1Q7QUFBQSxFQUNEO0FBQUE7QUFBQSxFQUdBLE1BQU0sVUFBVSxPQUE2QjtBQUM1QyxRQUFJLGFBQTJCO0FBQy9CLFFBQUk7QUFDSCxtQkFBYSxLQUFLLElBQUksY0FBYyxxQkFBcUIsTUFBTSxJQUFJLEtBQUssWUFBWTtBQUFBLElBQ3JGLFNBQVMsR0FBUDtBQUNELG1CQUFhO0FBQUEsSUFDZDtBQUlDLFFBQUksQ0FBQyxZQUFZO0FBRWpCLFVBQUksV0FBVyxHQUFHLE1BQU07QUFDeEIsVUFBSSxXQUFXLEdBQUcsS0FBSyxnQkFBZ0IsS0FBSztBQUU1QyxZQUFNLFNBQVMsS0FBSyxJQUFJLE1BQU0sc0JBQXNCLEtBQUssZ0JBQWdCLENBQUM7QUFDMUUsVUFBSSxDQUFDLFFBQVE7QUFDWixjQUFNLEtBQUssSUFBSSxNQUFNLGFBQWEsS0FBSyxnQkFBZ0IsQ0FBQztBQUFBLE1BQ3pEO0FBQ0csWUFBTSxpQkFBaUIsS0FBSyxpQkFBaUIsTUFBTSxhQUFhLENBQUM7QUFDcEUsVUFBSTtBQUNBLGNBQU0sS0FBSyxJQUFJLE1BQU0sT0FBTyxVQUFVLGNBQWM7QUFBQSxNQUN4RCxTQUFTLEdBQVA7QUFFRCxtQkFBVyxHQUFHLG1CQUFtQixNQUFNLEVBQUU7QUFDekMsbUJBQVcsR0FBRyxLQUFLLGdCQUFnQixLQUFLO0FBQ3JDLGNBQU0sS0FBSyxJQUFJLE1BQU0sT0FBTyxVQUFVLGNBQWM7QUFBQSxNQUN4RDtBQUFBLElBQ0QsT0FBTztBQUVOLFlBQU0sV0FBVyxNQUFNLEtBQUssSUFBSSxNQUFNLEtBQUssVUFBVTtBQUNuRCxZQUFNLFlBQVksS0FBSywyQkFBMkIsVUFBVSxLQUFLO0FBQ2pFLFlBQU0sS0FBSyxJQUFJLE1BQU0sT0FBTyxZQUFZLEtBQUssaUJBQWlCLFNBQVMsQ0FBQztBQUFBLElBQzNFO0FBR0EsVUFBTSxLQUFLLGVBQWUsTUFBTSxJQUFJLElBQUk7QUFBQSxFQUN6QztBQUFBO0FBQUEsRUFHQSxNQUFNLFlBQVksSUFBMkI7QUFFNUMsVUFBTSxLQUFLLGVBQWUsSUFBSSxLQUFLO0FBQUEsRUFDcEM7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFjLGVBQWUsU0FBaUIsT0FBK0I7QUFDNUUsVUFBTSxXQUFXLEtBQUs7QUFDdEIsUUFBSSxjQUFjO0FBRWxCLFFBQUk7QUFDSCxZQUFNLFdBQVcsS0FBSyxJQUFJLE1BQU0sc0JBQXNCLFFBQVE7QUFDOUQsVUFBSSxZQUFZLG9CQUFvQix1QkFBTztBQUMxQyxzQkFBYyxNQUFNLEtBQUssSUFBSSxNQUFNLEtBQUssUUFBUTtBQUFBLE1BQ2pEO0FBQUEsSUFDRCxTQUFTLEdBQVA7QUFBQSxJQUVGO0FBRUMsUUFBSSxPQUFPO0FBRVQsWUFBTSxhQUFhLElBQUksT0FBTyxTQUFTLDRCQUE0QixFQUFFLEtBQUssV0FBVztBQUNyRixVQUFJLENBQUMsWUFBWTtBQUNmLHVCQUFlO0FBQUEsSUFBTztBQUFBLE1BQ3hCO0FBQUEsSUFDRixPQUFPO0FBRUwsb0JBQWMsWUFBWSxRQUFRLElBQUksT0FBTyxTQUFTLDhCQUE4QixHQUFHLEdBQUcsRUFBRTtBQUM1RixvQkFBYyxZQUFZLFFBQVEsV0FBVyxNQUFNLEVBQUUsUUFBUTtBQUFBLElBQy9EO0FBRUQsVUFBTSxlQUFlLEtBQUssSUFBSSxNQUFNLHNCQUFzQixRQUFRO0FBQ2xFLFFBQUksZ0JBQWdCLHdCQUF3Qix1QkFBTztBQUNsRCxZQUFNLEtBQUssSUFBSSxNQUFNLE9BQU8sY0FBYyxXQUFXO0FBQUEsSUFDdEQsT0FBTztBQUNOLFlBQU0sS0FBSyxJQUFJLE1BQU0sT0FBTyxVQUFVLFdBQVc7QUFBQSxJQUNsRDtBQUFBLEVBQ0Q7QUFBQTtBQUFBLEVBR1EsVUFBVSxTQUFzQjtBQUN2QyxVQUFNLFFBQVEsUUFBUSxNQUFNLElBQUk7QUFDaEMsVUFBTSxTQUFjLENBQUM7QUFDckIsUUFBSSxjQUF3QixDQUFDO0FBRTdCLFVBQU0sYUFBYSxDQUFDLE1BQVcsU0FBd0I7QUFDdEQsVUFBSSxPQUFPO0FBQ1gsaUJBQVcsUUFBUSxNQUFNO0FBQ3hCLFlBQUksQ0FBQyxLQUFLLElBQUksS0FBSyxPQUFPLEtBQUssSUFBSSxNQUFNO0FBQVUsZUFBSyxJQUFJLElBQUksQ0FBQztBQUNqRSxlQUFPLEtBQUssSUFBSTtBQUFBLE1BQ2pCO0FBQ0EsYUFBTztBQUFBLElBQ1I7QUFFQSxlQUFXLE9BQU8sT0FBTztBQUN4QixZQUFNLE9BQU8sSUFBSSxLQUFLO0FBQ3RCLFVBQUksQ0FBQyxRQUFRLEtBQUssV0FBVyxHQUFHO0FBQUc7QUFDbkMsVUFBSSxLQUFLLFdBQVcsR0FBRyxLQUFLLEtBQUssU0FBUyxHQUFHLEdBQUc7QUFDL0MsY0FBTSxVQUFVLEtBQUssTUFBTSxHQUFHLEVBQUUsRUFBRSxLQUFLO0FBQ3ZDLHNCQUFjLFFBQVEsTUFBTSxHQUFHLEVBQUUsSUFBSSxPQUFLLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxPQUFPO0FBQ2xFLG1CQUFXLFFBQVEsV0FBVztBQUM5QjtBQUFBLE1BQ0Q7QUFDQSxZQUFNLEtBQUssS0FBSyxRQUFRLEdBQUc7QUFDM0IsVUFBSSxPQUFPO0FBQUk7QUFDZixZQUFNLFdBQVcsS0FBSyxNQUFNLEdBQUcsRUFBRSxFQUFFLEtBQUs7QUFDeEMsVUFBSSxhQUFhLEtBQUssTUFBTSxLQUFLLENBQUMsRUFBRSxLQUFLO0FBRXpDLFVBQUksY0FBbUI7QUFDdkIsVUFBSSxXQUFXLFdBQVcsR0FBRyxLQUFLLFdBQVcsU0FBUyxHQUFHLEdBQUc7QUFDM0Qsc0JBQWMsV0FBVyxNQUFNLEdBQUcsRUFBRTtBQUFBLE1BQ3JDLFdBQVcsZUFBZSxVQUFVLGVBQWUsU0FBUztBQUMzRCxzQkFBYyxlQUFlO0FBQUEsTUFDOUIsV0FBVyxXQUFXLFdBQVcsR0FBRyxLQUFLLFdBQVcsU0FBUyxHQUFHLEdBQUc7QUFDbEUsY0FBTSxlQUFlLFdBQVcsTUFBTSxHQUFHLEVBQUUsRUFBRSxLQUFLO0FBQ2xELHNCQUFjLGVBQWUsYUFBYSxNQUFNLEdBQUcsRUFBRSxJQUFJLFVBQVEsS0FBSyxLQUFLLEVBQUUsUUFBUSxVQUFVLEVBQUUsQ0FBQyxJQUFJLENBQUM7QUFBQSxNQUN4RyxXQUFXLENBQUMsTUFBTSxPQUFPLFVBQVUsQ0FBQyxHQUFHO0FBQ3RDLHNCQUFjLE9BQU8sVUFBVTtBQUFBLE1BQ2hDO0FBRUEsVUFBSSxZQUFZLFNBQVMsR0FBRztBQUMzQixjQUFNLE9BQU8sV0FBVyxRQUFRLFdBQVc7QUFDM0MsYUFBSyxRQUFRLElBQUk7QUFBQSxNQUNsQixPQUFPO0FBQ04sZUFBTyxRQUFRLElBQUk7QUFBQSxNQUNwQjtBQUFBLElBQ0Q7QUFFQSxXQUFPO0FBQUEsRUFDUjtBQUFBO0FBQUEsRUFHUSwyQkFBMkIsVUFBa0IsT0FBc0I7QUFDMUUsVUFBTSxlQUF5QixDQUFDO0FBQ2hDLFVBQU0sYUFBdUIsQ0FBQztBQUM5QixlQUFXLE9BQU8sU0FBUyxNQUFNLElBQUksR0FBRztBQUN2QyxZQUFNQyxLQUFJLElBQUksS0FBSztBQUNuQixVQUFJQSxHQUFFLFdBQVcsR0FBRztBQUFHLHFCQUFhLEtBQUssR0FBRztBQUFBO0FBQ3ZDLG1CQUFXLEtBQUssR0FBRztBQUFBLElBQ3pCO0FBRWMsVUFBTSxTQUFTLEtBQUssVUFBVSxLQUFLLHNCQUFzQixXQUFXLEtBQUssSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDO0FBR25HLElBQUMsT0FBZSxNQUFNLElBQUksTUFBTTtBQUNoQyxRQUFJLENBQUMsT0FBTyxPQUFPLEtBQUssT0FBTyxPQUFPLE9BQU8sTUFBTTtBQUFVLGFBQU8sT0FBTyxJQUFJLENBQUM7QUFDaEYsV0FBTyxPQUFPLEVBQUUsTUFBTSxJQUFJLE1BQU07QUFDaEMsUUFBSSxDQUFDLE9BQU8sUUFBUSxLQUFLLE9BQU8sT0FBTyxRQUFRLE1BQU07QUFBVSxhQUFPLFFBQVEsSUFBSSxDQUFDO0FBQ25GLFdBQU8sUUFBUSxFQUFFLE9BQU8sSUFBSSxPQUFPLE1BQU0sS0FBSyxLQUFLO0FBQ25ELFdBQU8sUUFBUSxFQUFFLGFBQWEsSUFBSSxNQUFNLGFBQWEsTUFBTSxXQUFXLFlBQVksRUFBRSxNQUFNLEdBQUcsRUFBRSxDQUFDLElBQUk7QUFDcEcsV0FBTyxRQUFRLEVBQUUsV0FBVyxJQUFJLE1BQU0sV0FBVyxNQUFNLFNBQVMsWUFBWSxFQUFFLE1BQU0sR0FBRyxFQUFFLENBQUMsSUFBSTtBQUM5RixXQUFPLFFBQVEsRUFBRSxlQUFlLElBQUksT0FBTyxNQUFNLFlBQVksS0FBSztBQUNsRSxXQUFPLFFBQVEsRUFBRSxNQUFNLElBQUksTUFBTSxRQUFRLE1BQU0sSUFBSSxJQUFJLE1BQU0sT0FBTyxDQUFDO0FBRXJFLFVBQU0sV0FBVyxLQUFLLGNBQWMsTUFBTTtBQUMxQyxVQUFNLGVBQWUsYUFBYSxTQUFTLElBQUksYUFBYSxLQUFLLElBQUksSUFBSSxTQUFTO0FBQ2xGLFdBQU8sZUFBZTtBQUFBLEVBQ3ZCO0FBQUE7QUFBQSxFQUdRLGNBQWMsS0FBa0I7QUFFdkMsVUFBTSxnQkFBZ0IsQ0FBQyxNQUFXLEtBQUssT0FBTyxNQUFNLFlBQVksQ0FBQyxNQUFNLFFBQVEsQ0FBQztBQUNoRixVQUFNLE9BQU8sT0FBTyxLQUFLLE9BQU8sQ0FBQyxDQUFDO0FBQ2xDLFVBQU0sYUFBYSxLQUFLLE9BQU8sT0FBSyxDQUFDLGNBQWMsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUMxRCxVQUFNLGFBQWEsS0FBSyxPQUFPLE9BQUssY0FBYyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBRXpELFVBQU0sUUFBa0IsQ0FBQztBQUV6QixRQUFJLFdBQVcsU0FBUyxNQUFNLEdBQUc7QUFDaEMsWUFBTSxLQUFLLEtBQUssbUJBQW1CLFFBQVEsSUFBSSxNQUFNLENBQUMsQ0FBQztBQUFBLElBQ3hEO0FBRUEsZUFDRSxPQUFPLE9BQUssTUFBTSxNQUFNLEVBQ3hCLEtBQUssQ0FBQyxHQUFHLE1BQU0sRUFBRSxjQUFjLENBQUMsQ0FBQyxFQUNqQyxRQUFRLE9BQUssTUFBTSxLQUFLLEtBQUssbUJBQW1CLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBRzdELFVBQU0sZUFBZSxDQUFDLFNBQVMsUUFBUTtBQUN2QyxVQUFNLG9CQUFvQjtBQUFBLE1BQ3pCLEdBQUcsYUFBYSxPQUFPLE9BQUssV0FBVyxTQUFTLENBQUMsQ0FBQztBQUFBLE1BQ2xELEdBQUcsV0FBVyxPQUFPLE9BQUssQ0FBQyxhQUFhLFNBQVMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsTUFBTSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQUEsSUFDdkY7QUFFQSxlQUFXLEtBQUssbUJBQW1CO0FBQ2xDLFlBQU0sS0FBSyxFQUFFO0FBQ2IsV0FBSyxrQkFBa0IsT0FBTyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUFBLElBQzFDO0FBRUEsV0FBTyxNQUFNLEtBQUssSUFBSSxFQUFFLFFBQVEsV0FBVyxNQUFNLEVBQUUsS0FBSyxJQUFJO0FBQUEsRUFDN0Q7QUFBQSxFQUVRLGtCQUFrQixLQUFlLE1BQWdCLE9BQWtCO0FBQzFFLFFBQUksS0FBSyxJQUFJLEtBQUssS0FBSyxHQUFHLElBQUk7QUFDOUIsVUFBTSxnQkFBZ0IsQ0FBQyxNQUFXLEtBQUssT0FBTyxNQUFNLFlBQVksQ0FBQyxNQUFNLFFBQVEsQ0FBQztBQUNoRixVQUFNLE9BQU8sT0FBTyxLQUFLLFNBQVMsQ0FBQyxDQUFDO0FBQ3BDLFVBQU0sYUFBYSxLQUFLLE9BQU8sT0FBSyxDQUFDLGNBQWMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUM1RCxVQUFNLGFBQWEsS0FBSyxPQUFPLE9BQUssY0FBYyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBRTNELGVBQVcsS0FBSyxDQUFDLEdBQUcsTUFBTSxFQUFFLGNBQWMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxPQUFLO0FBQzFELFVBQUksS0FBSyxLQUFLLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFBQSxJQUM5QyxDQUFDO0FBRUQsVUFBTSxvQkFBb0IsV0FBVyxLQUFLLENBQUMsR0FBRyxNQUFNLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDdEUsZUFBVyxLQUFLLG1CQUFtQjtBQUNsQyxVQUFJLEtBQUssRUFBRTtBQUNYLFdBQUssa0JBQWtCLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO0FBQUEsSUFDbkQ7QUFBQSxFQUNEO0FBQUEsRUFFUSxtQkFBbUIsS0FBYSxLQUFrQjtBQUN6RCxXQUFPLEdBQUcsU0FBUyxLQUFLLFVBQVUsR0FBRztBQUFBLEVBQ3RDO0FBQUEsRUFFUSxVQUFVLEtBQWtCO0FBQ25DLFFBQUksUUFBUSxRQUFRLFFBQVE7QUFBVyxhQUFPO0FBQzlDLFFBQUksTUFBTSxRQUFRLEdBQUcsR0FBRztBQUN2QixhQUFPLElBQUksSUFBSSxJQUFJLE9BQUssS0FBSyxVQUFVLENBQUMsQ0FBQyxFQUFFLEtBQUssSUFBSTtBQUFBLElBQ3JEO0FBQ0EsWUFBUSxPQUFPLEtBQUs7QUFBQSxNQUNuQixLQUFLO0FBQ0osZUFBTyxPQUFPLFNBQVMsR0FBRyxJQUFJLE9BQU8sR0FBRyxJQUFJO0FBQUEsTUFDN0MsS0FBSztBQUNKLGVBQU8sTUFBTSxTQUFTO0FBQUEsTUFDdkIsS0FBSztBQUFBLE1BQ0w7QUFDQyxlQUFPLElBQUksT0FBTyxHQUFHLEVBQUUsUUFBUSxPQUFPLE1BQU0sRUFBRSxRQUFRLE9BQU8sS0FBSztBQUFBLElBQ3BFO0FBQUEsRUFDRDtBQUFBO0FBQUEsRUFHZSxzQkFBc0IsU0FBeUI7QUFDL0MsV0FBTyxRQUFRLFFBQVEsbUJBQW1CLENBQUMsT0FBZSxRQUFnQixTQUFpQjtBQUNuRixZQUFNLFNBQVMsU0FBUyxJQUFJLEtBQUssU0FBUyxDQUFDLElBQUk7QUFDL0MsWUFBTSxRQUFRLFNBQVMsTUFBTSxTQUFTLEtBQUssU0FBUyxLQUFLLFNBQVMsTUFBTSxNQUFNLElBQUk7QUFDbEYsVUFBSyxXQUFXLE9BQU8sVUFBVSxPQUFTLFdBQVcsT0FBUSxVQUFVLEtBQU87QUFDdEUsZUFBTztBQUFBLE1BQ2Y7QUFDQSxhQUFPLElBQUk7QUFBQSxJQUNuQixDQUFDO0FBQUEsRUFDVDtBQUFBO0FBQUEsRUFHUSxpQkFBaUIsU0FBeUI7QUFDMUMsV0FBTyxRQUFRLFFBQVEsMkJBQTJCLENBQUMsVUFBa0IsTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQUEsRUFDL0Y7QUFDUjs7O0FFNVRBLElBQUFDLG1CQUE0Qjs7O0FDQXJCLElBQU0sZUFBTixNQUFtQjtBQUFBLEVBU3RCLFlBQVksU0FBaUIsY0FBc0IsZ0JBQU0sYUFBcUIsZ0JBQU0sU0FBa0IsT0FBTztBQUN6RyxTQUFLLFVBQVU7QUFDZixTQUFLLGNBQWM7QUFDbkIsU0FBSyxhQUFhO0FBQ2xCLFNBQUssU0FBUztBQUFBLEVBQ2xCO0FBQUEsRUFFQSxPQUF5QjtBQUNyQixXQUFPLElBQUksUUFBaUIsQ0FBQyxZQUFZO0FBQ3JDLFdBQUssaUJBQWlCO0FBRXRCLFdBQUssU0FBUyxTQUFTLGNBQWMsS0FBSztBQUMxQyxXQUFLLE9BQU8sWUFBWTtBQUV4QixXQUFLLFVBQVUsU0FBUyxjQUFjLEtBQUs7QUFDM0MsV0FBSyxRQUFRLFlBQVk7QUFFekIsWUFBTSxVQUFVLFNBQVMsY0FBYyxLQUFLO0FBQzVDLGNBQVEsWUFBWTtBQUVwQixZQUFNLFFBQVEsU0FBUyxjQUFjLEtBQUs7QUFDMUMsWUFBTSxZQUFZO0FBRWxCLFVBQUk7QUFDQSxjQUFNLEVBQUUsR0FBQUMsR0FBRSxJQUFJO0FBQ2QsY0FBTSxjQUFjQSxHQUFFLGVBQWU7QUFBQSxNQUN6QyxTQUFTLEdBQVA7QUFDRSxjQUFNLGNBQWM7QUFBQSxNQUN4QjtBQUVBLFlBQU0sUUFBUSxTQUFTLGNBQWMsS0FBSztBQUMxQyxZQUFNLFlBQVk7QUFDbEIsWUFBTSxjQUFjLEtBQUs7QUFFekIsWUFBTSxVQUFVLFNBQVMsY0FBYyxLQUFLO0FBQzVDLGNBQVEsWUFBWTtBQUVwQixZQUFNLFlBQVksU0FBUyxjQUFjLFFBQVE7QUFDakQsZ0JBQVUsWUFBWTtBQUN0QixnQkFBVSxjQUFjLEtBQUs7QUFFN0IsWUFBTSxhQUFhLFNBQVMsY0FBYyxRQUFRO0FBQ2xELGlCQUFXLFlBQVk7QUFDdkIsaUJBQVcsY0FBYyxLQUFLO0FBQzlCLFVBQUksS0FBSztBQUFRLG1CQUFXLFVBQVUsSUFBSSxRQUFRO0FBRWxELGNBQVEsWUFBWSxTQUFTO0FBQzdCLGNBQVEsWUFBWSxVQUFVO0FBQzlCLGNBQVEsWUFBWSxLQUFLO0FBQ3pCLGNBQVEsWUFBWSxLQUFLO0FBQ3pCLGNBQVEsWUFBWSxPQUFPO0FBQzNCLFdBQUssUUFBUSxZQUFZLE9BQU87QUFDaEMsV0FBSyxPQUFPLFlBQVksS0FBSyxPQUFPO0FBQ3BDLGVBQVMsS0FBSyxZQUFZLEtBQUssTUFBTTtBQUVyQyxZQUFNLFFBQVEsQ0FBQyxXQUFvQjtBQUMvQixZQUFJLEtBQUssVUFBVSxLQUFLLE9BQU8sZUFBZTtBQUMxQyxlQUFLLE9BQU8sY0FBYyxZQUFZLEtBQUssTUFBTTtBQUFBLFFBQ3JEO0FBQ0EsYUFBSyxTQUFTO0FBQ2QsYUFBSyxVQUFVO0FBQ2YsZ0JBQVEsTUFBTTtBQUFBLE1BQ2xCO0FBRUEsV0FBSyxPQUFPLGlCQUFpQixTQUFTLENBQUMsTUFBTTtBQUFFLFlBQUksRUFBRSxXQUFXLEtBQUs7QUFBUSxnQkFBTSxLQUFLO0FBQUEsTUFBRyxDQUFDO0FBQzVGLGdCQUFVLGlCQUFpQixTQUFTLE1BQU0sTUFBTSxLQUFLLENBQUM7QUFDdEQsaUJBQVcsaUJBQWlCLFNBQVMsTUFBTSxNQUFNLElBQUksQ0FBQztBQUFBLElBQzFELENBQUM7QUFBQSxFQUNMO0FBQUEsRUFFUSxtQkFBbUI7QUFDdkIsVUFBTSxXQUFXO0FBQ2pCLFFBQUksU0FBUyxlQUFlLFFBQVE7QUFBRztBQUN2QyxVQUFNLFFBQVEsU0FBUyxjQUFjLE9BQU87QUFDNUMsVUFBTSxLQUFLO0FBQ1gsVUFBTSxjQUFjO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLcEIsYUFBUyxLQUFLLFlBQVksS0FBSztBQUFBLEVBQ25DO0FBQ0o7OztBRHZGQTtBQUdPLElBQU0saUJBQU4sTUFBcUI7QUFBQSxFQVEzQixZQUFZLEtBQVUsaUJBQWtDLE9BQWUsU0FBc0I7QUFDNUYsU0FBSyxNQUFNO0FBQ1gsU0FBSyxrQkFBa0I7QUFDdkIsU0FBSyxRQUFRO0FBQ1AsU0FBSyxVQUFVO0FBQUEsRUFDdEI7QUFBQSxFQUVBLE9BQU87QUF0QlI7QUF3QkUsU0FBSyxTQUFTLFNBQVMsY0FBYyxLQUFLO0FBQzFDLFNBQUssT0FBTyxZQUFZO0FBR3hCLFNBQUssVUFBVSxTQUFTLGNBQWMsS0FBSztBQUMzQyxTQUFLLFFBQVEsWUFBWTtBQUV6QixTQUFLLHNCQUFzQjtBQUUzQixVQUFNLFVBQVUsU0FBUyxjQUFjLEtBQUs7QUFDNUMsWUFBUSxZQUFZO0FBQ3BCLElBQUMsUUFBUSxNQUFjLE1BQU07QUFLN0IsVUFBTSxPQUFPLFNBQVMsY0FBYyxNQUFNO0FBQzFDLFNBQUssWUFBWTtBQUNqQixTQUFLLE1BQU0sVUFBVTtBQUNyQixJQUFDLEtBQUssTUFBYyxzQkFBc0I7QUFDMUMsU0FBSyxNQUFNLFNBQVM7QUFDcEIsSUFBQyxLQUFLLE1BQWMsTUFBTTtBQUcxQixVQUFNLGdCQUFnQixDQUFDLFVBQW9DO0FBQzFELFVBQUksTUFBTSxNQUFNLGNBQWMsY0FBYztBQUM1QyxVQUFJLENBQUMsS0FBSztBQUNULGNBQU0sUUFBUSxNQUFNLGNBQWMsYUFBYTtBQUMvQyxjQUFNLFNBQVMsY0FBYyxLQUFLO0FBQ2xDLFlBQUksWUFBWTtBQUNoQixZQUFJO0FBQU8sZ0JBQU0sWUFBWSxHQUFHO0FBQUE7QUFDM0IsZ0JBQU0sWUFBWSxHQUFHO0FBQUEsTUFDM0I7QUFDQSxhQUFPO0FBQUEsSUFDUjtBQUNBLFVBQU0sV0FBVyxDQUFDLE9BQW9CLFlBQW9CO0FBQ3pELFlBQU0sVUFBVSxJQUFJLFdBQVc7QUFDL0IsWUFBTSxRQUFRLE1BQU0sY0FBYyx5QkFBeUI7QUFDM0QsVUFBSTtBQUFPLFFBQUMsTUFBYyxhQUFhLGdCQUFnQixNQUFNO0FBQzdELG9CQUFjLEtBQUssRUFBRSxjQUFjO0FBQUEsSUFDcEM7QUFDQSxVQUFNLGFBQWEsQ0FBQyxVQUF1QjtBQUMxQyxZQUFNLFVBQVUsT0FBTyxXQUFXO0FBQ2xDLFlBQU0sUUFBUSxNQUFNLGNBQWMseUJBQXlCO0FBQzNELFVBQUk7QUFBTyxRQUFDLE1BQWMsYUFBYSxnQkFBZ0IsT0FBTztBQUM5RCxZQUFNLE1BQU0sTUFBTSxjQUFjLGNBQWM7QUFDOUMsVUFBSTtBQUFLLFlBQUksT0FBTztBQUFBLElBQ3JCO0FBR0EsVUFBTSxZQUFZLFNBQVMsY0FBYyxLQUFLO0FBQzlDLGNBQVUsWUFBWTtBQUN0QjtBQUNDLFlBQU0sTUFBTSxLQUFLLFlBQVksRUFBRSxXQUFXLENBQUM7QUFDM0MsVUFBSSxVQUFVLElBQUksZ0JBQWdCO0FBQ2xDLGdCQUFVLFlBQVksR0FBRztBQUFBLElBQzFCO0FBQ0EsVUFBTSxZQUFZLFNBQVMsY0FBYyxPQUFPO0FBQ2hELGNBQVUsT0FBTztBQUNqQixjQUFVLGNBQWMsRUFBRSw0QkFBNEI7QUFDdEQsUUFBSSxLQUFLO0FBQU8sZ0JBQVUsUUFBUSxLQUFLLE1BQU07QUFDN0M7QUFDQyxZQUFNLFFBQVEsU0FBUyxjQUFjLEtBQUs7QUFDMUMsWUFBTSxZQUFZO0FBQ2xCLFlBQU0sWUFBWSxTQUFTO0FBQzNCLGdCQUFVLFlBQVksS0FBSztBQUFBLElBQzVCO0FBQ0EsU0FBSyxlQUFlLFNBQVM7QUFDN0IsU0FBSyxZQUFZLFNBQVM7QUFDMUIsVUFBTSxlQUFlLE1BQU07QUFDMUIsWUFBTSxLQUFLLFVBQVUsU0FBUyxJQUFJLEtBQUs7QUFDdkMsVUFBSSxDQUFDLEdBQUc7QUFBRSxpQkFBUyxXQUFXLEVBQUUseUJBQXlCLENBQUM7QUFBRyxlQUFPO0FBQUEsTUFBTztBQUMzRSxpQkFBVyxTQUFTO0FBQUcsYUFBTztBQUFBLElBQy9CO0FBQ0EsY0FBVSxpQkFBaUIsU0FBUyxZQUFZO0FBQ2hELGNBQVUsaUJBQWlCLFFBQVEsWUFBWTtBQUcvQyxVQUFNLFlBQVksU0FBUyxjQUFjLEtBQUs7QUFDOUMsY0FBVSxZQUFZO0FBQ3RCLGNBQVUsWUFBWSxLQUFLLFlBQVksRUFBRSxXQUFXLENBQUMsQ0FBQztBQUN0RCxVQUFNLFlBQVksU0FBUyxjQUFjLE9BQU87QUFDaEQsY0FBVSxPQUFPO0FBQ2pCLGNBQVUsY0FBYyxjQUFPLEVBQUUsdUJBQXVCO0FBQ3hELFFBQUksS0FBSztBQUFPLGdCQUFVLFFBQVEsS0FBSyxNQUFNO0FBQUEsU0FBVztBQUN2RCxVQUFJO0FBQ0gsY0FBTSxVQUFVLGdCQUFLLElBQVksWUFBakIsbUJBQTBCLFlBQTFCLG1CQUFvQztBQUNwRCxjQUFNLFdBQVc7QUFDakIsa0JBQVUsUUFBUyxVQUFVLE9BQU8sWUFBWSxPQUFPLFNBQVMsY0FBZSxPQUFPLFNBQVMsY0FBYztBQUFBLE1BQzlHLFNBQVMsR0FBUDtBQUNELGtCQUFVLFFBQVE7QUFBQSxNQUNuQjtBQUFBLElBQ0Q7QUFDQSxVQUFNLHFCQUFxQixNQUFNO0FBQ2hDLFlBQU0sUUFBUSxLQUFLLHNCQUFzQixVQUFVLFNBQVMsRUFBRTtBQUM5RCxnQkFBVSxRQUFRLFNBQVM7QUFBQSxJQUM1QjtBQUNBLGNBQVUsaUJBQWlCLFNBQVMsa0JBQWtCO0FBQ3RELGNBQVUsaUJBQWlCLFNBQVMsQ0FBQyxNQUFNO0FBQUUsaUJBQVcsb0JBQW9CLENBQUM7QUFBQSxJQUFHLENBQUM7QUFDakY7QUFDQyxZQUFNLFFBQVEsU0FBUyxjQUFjLEtBQUs7QUFDMUMsWUFBTSxZQUFZO0FBQ2xCLFlBQU0sWUFBWSxTQUFTO0FBQzNCLGdCQUFVLFlBQVksS0FBSztBQUFBLElBQzVCO0FBQ0EsU0FBSyxlQUFlLFNBQVM7QUFDN0IsU0FBSyxZQUFZLFNBQVM7QUFHMUIsVUFBTSxhQUFhLFNBQVMsY0FBYyxLQUFLO0FBQy9DLGVBQVcsWUFBWTtBQUN2QjtBQUNDLFlBQU0sTUFBTSxLQUFLLFlBQVksRUFBRSxZQUFZLENBQUM7QUFDNUMsVUFBSSxVQUFVLElBQUksZ0JBQWdCO0FBQ2xDLGlCQUFXLFlBQVksR0FBRztBQUFBLElBQzNCO0FBQ0EsVUFBTSxhQUFhLFNBQVMsY0FBYyxPQUFPO0FBQ2pELGVBQVcsT0FBTztBQUNsQixlQUFXLGNBQWMsRUFBRSx3QkFBd0I7QUFDbkQsZUFBVyxPQUFPO0FBQ2xCLFFBQUksS0FBSztBQUFPLGlCQUFXLFFBQVEsS0FBSyxNQUFNLE1BQU0sU0FBUztBQUU3RCxVQUFNLGtCQUFrQixDQUFDLE9BQXlCO0FBQ2pELFNBQUcsUUFBUSxLQUFLLHNCQUFzQixHQUFHLFNBQVMsRUFBRTtBQUFBLElBQ3JEO0FBQ0EsVUFBTSxtQkFBbUIsQ0FBQyxPQUF5QjtBQUNsRCxTQUFHLFFBQVEsS0FBSyx1QkFBdUIsR0FBRyxTQUFTLEVBQUU7QUFBQSxJQUN0RDtBQUNBLGVBQVcsaUJBQWlCLFNBQVMsTUFBTSxnQkFBZ0IsVUFBVSxDQUFDO0FBQ3RFLGVBQVcsaUJBQWlCLFFBQVEsTUFBTTtBQUFFLHNCQUFnQixVQUFVO0FBQUcsdUJBQWlCLFVBQVU7QUFBQSxJQUFHLENBQUM7QUFDeEc7QUFDQyxZQUFNLFFBQVEsU0FBUyxjQUFjLEtBQUs7QUFDMUMsWUFBTSxZQUFZO0FBQ2xCLFlBQU0sWUFBWSxVQUFVO0FBQzVCLGlCQUFXLFlBQVksS0FBSztBQUFBLElBQzdCO0FBQ0EsU0FBSyxlQUFlLFVBQVU7QUFDOUIsU0FBSyxZQUFZLFVBQVU7QUFDM0IsVUFBTSxnQkFBZ0IsTUFBTTtBQUMzQixZQUFNLE9BQU8sV0FBVyxTQUFTLElBQUksS0FBSztBQUMxQyxZQUFNLE1BQU0sS0FBSyxXQUFXLEdBQUc7QUFDL0IsVUFBSSxRQUFRLE1BQU07QUFBRSxpQkFBUyxZQUFZLEVBQUUseUJBQXlCLENBQUM7QUFBRyxlQUFPO0FBQUEsTUFBTztBQUN0RixpQkFBVyxVQUFVO0FBQUcsYUFBTztBQUFBLElBQ2hDO0FBQ0EsZUFBVyxpQkFBaUIsU0FBUyxhQUFhO0FBQ2xELGVBQVcsaUJBQWlCLFFBQVEsYUFBYTtBQUdqRCxVQUFNLFlBQVksU0FBUyxjQUFjLEtBQUs7QUFDOUMsY0FBVSxZQUFZO0FBQ3RCO0FBQ0MsWUFBTSxNQUFNLEtBQUssWUFBWSxFQUFFLGlCQUFpQixDQUFDO0FBQ2pELFVBQUksVUFBVSxJQUFJLGdCQUFnQjtBQUNsQyxnQkFBVSxZQUFZLEdBQUc7QUFBQSxJQUMxQjtBQUNBLFVBQU0sWUFBWSxTQUFTLGNBQWMsT0FBTztBQUNoRCxjQUFVLE9BQU87QUFDakIsY0FBVSxXQUFXO0FBQ3JCLGNBQVUsY0FBYyxFQUFFLG1CQUFtQjtBQUM3QyxjQUFVLFFBQVEsS0FBSyxRQUFRLEtBQUssZ0JBQWdCLEtBQUssTUFBTSxVQUFVLElBQUk7QUFDN0UsY0FBVSxpQkFBaUIsU0FBUyxNQUFNO0FBeEw1QyxVQUFBQztBQXlMRyxXQUFLLGVBQWUsVUFBVSxRQUFRLElBQUksS0FBSyxVQUFVLEtBQUssTUFBS0EsTUFBQSxLQUFLLFVBQUwsZ0JBQUFBLElBQVksZUFBYyxJQUFJLEtBQUssR0FBSSxDQUFDLFdBQVc7QUFDckgsa0JBQVUsUUFBUSxLQUFLLGdCQUFnQixNQUFNO0FBQzdDLG1CQUFXLFNBQVM7QUFBQSxNQUNyQixDQUFDO0FBQUEsSUFDRixDQUFDO0FBQ0Q7QUFDQyxZQUFNLFFBQVEsU0FBUyxjQUFjLEtBQUs7QUFDMUMsWUFBTSxZQUFZO0FBQ2xCLFlBQU0sWUFBWSxTQUFTO0FBQzNCLGdCQUFVLFlBQVksS0FBSztBQUFBLElBQzVCO0FBQ0EsU0FBSyxlQUFlLFNBQVM7QUFDN0IsU0FBSyxZQUFZLFNBQVM7QUFDMUIsVUFBTSxlQUFlLE1BQU07QUFDMUIsVUFBSSxDQUFDLFVBQVUsT0FBTztBQUFFLGlCQUFTLFdBQVcsRUFBRSx5QkFBeUIsQ0FBQztBQUFHLGVBQU87QUFBQSxNQUFPO0FBQ3pGLGlCQUFXLFNBQVM7QUFBRyxhQUFPO0FBQUEsSUFDL0I7QUFDQSxjQUFVLGlCQUFpQixRQUFRLFlBQVk7QUFHL0MsVUFBTSxVQUFVLFNBQVMsY0FBYyxLQUFLO0FBQzVDLFlBQVEsWUFBWTtBQUNwQixZQUFRLFlBQVksS0FBSyxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDdkQsVUFBTSxVQUFVLFNBQVMsY0FBYyxPQUFPO0FBQzlDLFlBQVEsT0FBTztBQUNmLFlBQVEsV0FBVztBQUNuQixZQUFRLGNBQWMsRUFBRSx5QkFBeUI7QUFDakQsWUFBUSxRQUFTLEtBQUssU0FBUyxLQUFLLE1BQU0sV0FBWSxLQUFLLGdCQUFnQixLQUFLLE1BQU0sUUFBUSxJQUFJO0FBQ2xHLFFBQUk7QUFDSixVQUFNLGdCQUFnQixNQUFNO0FBQUUsVUFBSTtBQUFVLGlCQUFTLE1BQU0sVUFBVSxRQUFRLFFBQVEsZ0JBQWdCO0FBQUEsSUFBUTtBQUM3RyxZQUFRLGlCQUFpQixTQUFTLE1BQU07QUF2TjFDLFVBQUFBO0FBd05HLFdBQUssZUFBZSxRQUFRLFFBQVEsSUFBSSxLQUFLLFFBQVEsS0FBSyxNQUFLQSxNQUFBLEtBQUssVUFBTCxnQkFBQUEsSUFBWSxhQUFZLElBQUksS0FBSyxHQUFJLENBQUMsV0FBVztBQUMvRyxnQkFBUSxRQUFRLEtBQUssZ0JBQWdCLE1BQU07QUFDM0Msc0JBQWM7QUFFZCxZQUFJLFVBQVUsT0FBTztBQUNwQixnQkFBTSxLQUFLLElBQUksS0FBSyxVQUFVLEtBQUs7QUFDbkMsZ0JBQU0sS0FBSyxJQUFJLEtBQUssUUFBUSxLQUFLO0FBQ2pDLGNBQUksR0FBRyxRQUFRLElBQUksR0FBRyxRQUFRO0FBQUcscUJBQVMsU0FBUyxFQUFFLHlCQUF5QixDQUFDO0FBQUE7QUFBUSx1QkFBVyxPQUFPO0FBQUEsUUFDMUc7QUFBQSxNQUNELENBQUM7QUFBQSxJQUNGLENBQUM7QUFDRDtBQUNDLFlBQU0sUUFBUSxTQUFTLGNBQWMsS0FBSztBQUMxQyxZQUFNLFlBQVk7QUFDbEIsWUFBTSxPQUFPLFNBQVMsY0FBYyxLQUFLO0FBQ3pDLFdBQUssWUFBWTtBQUNqQixXQUFLLFlBQVksT0FBTztBQUN4QixpQkFBVyxTQUFTLGNBQWMsUUFBUTtBQUMxQyxlQUFTLE9BQU87QUFDaEIsZUFBUyxZQUFZO0FBQ3JCLGVBQVMsY0FBYztBQUN2QixlQUFTLGlCQUFpQixTQUFTLENBQUMsTUFBTTtBQUN6QyxVQUFFLGVBQWU7QUFBRyxVQUFFLGdCQUFnQjtBQUN0QyxnQkFBUSxRQUFRO0FBQ2hCLHNCQUFjO0FBQUEsTUFDZixDQUFDO0FBQ0QsV0FBSyxZQUFZLFFBQVE7QUFDekIsWUFBTSxZQUFZLElBQUk7QUFDdEIsY0FBUSxZQUFZLEtBQUs7QUFBQSxJQUMxQjtBQUNBLFNBQUssZUFBZSxPQUFPO0FBQzNCLFNBQUssWUFBWSxPQUFPO0FBRXhCLGtCQUFjO0FBR2QsVUFBTSxlQUFlLFNBQVMsY0FBYyxLQUFLO0FBQ2pELGlCQUFhLFlBQVk7QUFDekIsaUJBQWEsWUFBWSxLQUFLLFlBQVksRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQ2pFLFVBQU0sZUFBZSxTQUFTLGNBQWMsT0FBTztBQUNuRCxpQkFBYSxPQUFPO0FBQ3BCLGlCQUFhLGNBQWMsRUFBRSwwQkFBMEI7QUFDdkQsaUJBQWEsT0FBTztBQUNwQixRQUFJLEtBQUs7QUFBTyxtQkFBYSxRQUFRLEtBQUssTUFBTSxhQUFhLFNBQVM7QUFDdEUsaUJBQWEsaUJBQWlCLFNBQVMsTUFBTSxnQkFBZ0IsWUFBWSxDQUFDO0FBQzFFLGlCQUFhLGlCQUFpQixRQUFRLE1BQU07QUFBRSxzQkFBZ0IsWUFBWTtBQUFHLHVCQUFpQixZQUFZO0FBQUEsSUFBRyxDQUFDO0FBQzlHO0FBQ0MsWUFBTSxRQUFRLFNBQVMsY0FBYyxLQUFLO0FBQzFDLFlBQU0sWUFBWTtBQUNsQixZQUFNLFlBQVksWUFBWTtBQUM5QixtQkFBYSxZQUFZLEtBQUs7QUFBQSxJQUMvQjtBQUNBLFNBQUssZUFBZSxZQUFZO0FBQ2hDLFNBQUssWUFBWSxZQUFZO0FBSTdCLFVBQU0sWUFBWSxTQUFTLGNBQWMsS0FBSztBQUM5QyxjQUFVLFlBQVk7QUFDdEIsY0FBVSxZQUFZLEtBQUssWUFBWSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ3RELFFBQUksY0FBd0IsS0FBSyxRQUFRLENBQUMsR0FBSSxLQUFLLE1BQU0sUUFBUSxDQUFDLENBQUUsSUFBSSxDQUFDO0FBQ3pFLFVBQU0sY0FBYyxTQUFTLGNBQWMsS0FBSztBQUNoRCxnQkFBWSxZQUFZO0FBQ3hCLFVBQU0sWUFBWSxTQUFTLGNBQWMsT0FBTztBQUNoRCxjQUFVLE9BQU87QUFDakIsY0FBVSxjQUFjLEVBQUUsdUJBQXVCO0FBQ2pELGdCQUFZLFlBQVksU0FBUztBQUNqQztBQUNDLFlBQU0sUUFBUSxTQUFTLGNBQWMsS0FBSztBQUMxQyxZQUFNLFlBQVk7QUFDbEIsWUFBTSxZQUFZLFdBQVc7QUFDN0IsZ0JBQVUsWUFBWSxLQUFLO0FBQUEsSUFDNUI7QUFDQSxTQUFLLGVBQWUsU0FBUztBQUM3QixTQUFLLFlBQVksU0FBUztBQUUxQixVQUFNLFlBQVksQ0FBQyxTQUFpQixLQUFLLEtBQUs7QUFDOUMsVUFBTSxTQUFTLENBQUMsUUFBZ0I7QUFDL0IsWUFBTSxTQUFTLElBQUksTUFBTSxTQUFTLEVBQUUsSUFBSSxTQUFTLEVBQUUsT0FBTyxPQUFPO0FBQ2pFLGFBQU8sUUFBUSxPQUFLO0FBQUUsWUFBSSxDQUFDLFlBQVksU0FBUyxDQUFDO0FBQUcsc0JBQVksS0FBSyxDQUFDO0FBQUEsTUFBRyxDQUFDO0FBQzFFLGdCQUFVO0FBQ1YsZ0JBQVUsUUFBUTtBQUFBLElBQ25CO0FBQ0EsVUFBTSxZQUFZLENBQUMsVUFBa0I7QUFDcEMsb0JBQWMsWUFBWSxPQUFPLFFBQU0sT0FBTyxLQUFLO0FBQ25ELGdCQUFVO0FBQUEsSUFDWDtBQUNBLFVBQU0sWUFBWSxNQUFNO0FBQ3ZCLFlBQU0sS0FBSyxZQUFZLGlCQUFpQixXQUFXLENBQUMsRUFBRSxRQUFRLFFBQU0sR0FBRyxPQUFPLENBQUM7QUFDL0Usa0JBQVksUUFBUSxTQUFPO0FBQzFCLGNBQU0sT0FBTyxTQUFTLGNBQWMsTUFBTTtBQUMxQyxhQUFLLFlBQVk7QUFDakIsYUFBSyxjQUFjO0FBQ25CLGNBQU0sS0FBSyxTQUFTLGNBQWMsUUFBUTtBQUMxQyxXQUFHLE9BQU87QUFDVixXQUFHLFlBQVk7QUFDZixXQUFHLGNBQWM7QUFDakIsV0FBRyxpQkFBaUIsU0FBUyxNQUFNLFVBQVUsR0FBRyxDQUFDO0FBQ2pELGFBQUssWUFBWSxFQUFFO0FBQ25CLG9CQUFZLGFBQWEsTUFBTSxTQUFTO0FBQUEsTUFDekMsQ0FBQztBQUFBLElBQ0Y7QUFHQSxjQUFVO0FBR1YsY0FBVSxpQkFBaUIsV0FBVyxDQUFDLE1BQXFCO0FBQzNELFVBQUksRUFBRSxRQUFRLFdBQVcsRUFBRSxRQUFRLE9BQU8sRUFBRSxRQUFRLFVBQUs7QUFDeEQsVUFBRSxlQUFlO0FBQ2pCLFlBQUksVUFBVSxNQUFNLEtBQUs7QUFBRyxpQkFBTyxVQUFVLEtBQUs7QUFBQSxNQUNuRDtBQUNBLFVBQUksRUFBRSxRQUFRLGVBQWUsQ0FBQyxVQUFVLFNBQVMsWUFBWSxTQUFTLEdBQUc7QUFDeEUsVUFBRSxlQUFlO0FBQ2pCLGtCQUFVLFlBQVksWUFBWSxTQUFTLENBQUMsQ0FBQztBQUFBLE1BQzlDO0FBQUEsSUFDRCxDQUFDO0FBQ0QsY0FBVSxpQkFBaUIsUUFBUSxNQUFNO0FBQ3hDLFVBQUksVUFBVSxNQUFNLEtBQUs7QUFBRyxlQUFPLFVBQVUsS0FBSztBQUFBLElBQ25ELENBQUM7QUFHRCxVQUFNLFVBQVUsU0FBUyxjQUFjLEtBQUs7QUFDNUMsWUFBUSxZQUFZO0FBQ3BCLFVBQU0sWUFBWSxTQUFTLGNBQWMsUUFBUTtBQUNqRCxjQUFVLE9BQU87QUFDakIsY0FBVSxjQUFjLEVBQUUsb0JBQW9CO0FBQzlDLGNBQVUsWUFBWTtBQUN0QixVQUFNLFlBQVksU0FBUyxjQUFjLFFBQVE7QUFDakQsY0FBVSxPQUFPO0FBQ2pCLGNBQVUsY0FBYyxFQUFFLG9CQUFvQjtBQUM5QyxjQUFVLFlBQVk7QUFDdEIsVUFBTSxVQUFVLFNBQVMsY0FBYyxRQUFRO0FBQy9DLFlBQVEsT0FBTztBQUNmLFlBQVEsY0FBYyxFQUFFLGtCQUFrQjtBQUMxQyxZQUFRLFlBQVk7QUFDcEIsWUFBUSxZQUFZLFNBQVM7QUFDN0IsUUFBSSxLQUFLO0FBQU8sY0FBUSxZQUFZLFNBQVM7QUFDN0MsWUFBUSxZQUFZLE9BQU87QUFDM0IsU0FBSyxZQUFZLE9BQU87QUFFeEIsWUFBUSxZQUFZLElBQUk7QUFDeEIsU0FBSyxRQUFRLFlBQVksT0FBTztBQUNoQyxTQUFLLE9BQU8sWUFBWSxLQUFLLE9BQU87QUFDcEMsYUFBUyxLQUFLLFlBQVksS0FBSyxNQUFNO0FBR3JDLFVBQU0sUUFBUSxNQUFNLEtBQUssTUFBTTtBQUMvQixTQUFLLE9BQU8saUJBQWlCLFNBQVMsQ0FBQyxNQUFNO0FBQUUsVUFBSSxFQUFFLFdBQVcsS0FBSztBQUFRLGNBQU07QUFBQSxJQUFHLENBQUM7QUFDdkYsY0FBVSxpQkFBaUIsU0FBUyxLQUFLO0FBQ3pDLFFBQUksS0FBSyxPQUFPO0FBQ2YsZ0JBQVUsaUJBQWlCLFNBQVMsWUFBWTtBQUMvQyxZQUFJLENBQUMsS0FBSztBQUFPO0FBQ2pCLGNBQU0sS0FBSyxNQUFNLElBQUksYUFBYSxFQUFFLDJCQUEyQixFQUFFLE1BQU0sS0FBSyxNQUFNLEtBQUssQ0FBQyxHQUFHLEVBQUUsZUFBZSxHQUFHLEVBQUUsZUFBZSxHQUFHLElBQUksRUFBRSxLQUFLO0FBQzlJLFlBQUksQ0FBQztBQUFJO0FBQ1QsY0FBTSxLQUFLLGdCQUFnQixZQUFZLEtBQUssTUFBTSxFQUFFO0FBQ3BELFlBQUksS0FBSztBQUFTLGVBQUssUUFBUTtBQUMvQixjQUFNO0FBQUEsTUFDUCxDQUFDO0FBQUEsSUFDRjtBQUNBLFNBQUssaUJBQWlCLFVBQVUsT0FBTyxNQUFNO0FBeFgvQyxVQUFBQSxLQUFBQyxLQUFBO0FBeVhHLFFBQUUsZUFBZTtBQUVqQixpQkFBVyxTQUFTO0FBQUcsaUJBQVcsVUFBVTtBQUFHLGlCQUFXLFNBQVM7QUFBRyxpQkFBVyxPQUFPO0FBQUcsaUJBQVcsWUFBWTtBQUVsSCxZQUFNLFdBQVcsVUFBVSxTQUFTLElBQUksS0FBSztBQUM3QyxZQUFNLFlBQVksV0FBVyxTQUFTLElBQUksS0FBSztBQUMvQyxZQUFNLFdBQVcsS0FBSyxXQUFXLFFBQVE7QUFDekMsVUFBSSxRQUFRO0FBQ1osVUFBSSxDQUFDLFNBQVM7QUFBRSxpQkFBUyxXQUFXLEVBQUUseUJBQXlCLENBQUM7QUFBRyxnQkFBUTtBQUFBLE1BQU87QUFDbEYsVUFBSSxhQUFhLE1BQU07QUFBRSxpQkFBUyxZQUFZLEVBQUUseUJBQXlCLENBQUM7QUFBRyxnQkFBUTtBQUFBLE1BQU87QUFDNUYsVUFBSSxDQUFDLFVBQVUsT0FBTztBQUFFLGlCQUFTLFdBQVcsRUFBRSx5QkFBeUIsQ0FBQztBQUFHLGdCQUFRO0FBQUEsTUFBTztBQUMxRixVQUFJLENBQUMsT0FBTztBQUNYLGNBQU0sV0FBVyxDQUFDLFdBQVcsWUFBWSxTQUFTLEVBQUUsS0FBSyxPQUFLLEVBQUUsVUFBVSxTQUFTLFdBQVcsQ0FBQztBQUMvRixZQUFJLFVBQVU7QUFDYixXQUFDRCxNQUFBLFNBQVMsY0FBYyxPQUFPLE1BQTlCLGdCQUFBQSxJQUE2RDtBQUM5RCxtQkFBUyxlQUFlLEVBQUUsVUFBVSxVQUFVLE9BQU8sU0FBUyxDQUFDO0FBQUEsUUFDaEU7QUFDQTtBQUFBLE1BQ0Q7QUFDQSxZQUFNLFdBQVcsSUFBSSxLQUFLLFVBQVUsS0FBSztBQUN6QyxZQUFNLGFBQWE7QUFDbkIsVUFBSSxTQUEyQjtBQUMvQixVQUFJLFFBQVEsT0FBTztBQUNsQixjQUFNLElBQUksSUFBSSxLQUFLLFFBQVEsS0FBSztBQUNoQyxZQUFJLEVBQUUsUUFBUSxJQUFJLFNBQVMsUUFBUSxHQUFHO0FBQUUsbUJBQVMsU0FBUyxFQUFFLHlCQUF5QixDQUFDO0FBQUcsV0FBQ0MsTUFBQSxRQUFRLGNBQWMsT0FBTyxNQUE3QixnQkFBQUEsSUFBNEQ7QUFBUztBQUFBLFFBQVE7QUFDdkssaUJBQVM7QUFBQSxNQUNWO0FBQ0EsWUFBTSxjQUFjLGFBQWEsU0FBUyxJQUFJLEtBQUs7QUFDbkQsWUFBTSxhQUFhLGFBQWEsS0FBSyxXQUFXLFVBQVUsSUFBSTtBQUM5RCxVQUFJLGNBQWMsZUFBZSxNQUFNO0FBQUUsaUJBQVMsY0FBYyxFQUFFLDJCQUEyQixDQUFDO0FBQUc7QUFBQSxNQUFRO0FBQ3pHLFdBQUssY0FBYyxLQUFLLFlBQVk7QUFBRSxpQkFBUyxjQUFjLEVBQUUsMkJBQTJCLENBQUM7QUFBRztBQUFBLE1BQVE7QUFFdEcsWUFBTSxZQUFZO0FBQUEsUUFDakIsTUFBSSxVQUFLLFVBQUwsbUJBQVksT0FBTTtBQUFBLFFBQ3RCLE1BQU07QUFBQSxRQUNOLE1BQU0sVUFBVSxTQUFTO0FBQUEsUUFDekIsT0FBTztBQUFBLFFBQ1AsWUFBWTtBQUFBLFFBQ1osVUFBVTtBQUFBLFFBQ1YsY0FBYyxjQUFjO0FBQUEsUUFDNUIsTUFBTTtBQUFBLE1BQ1A7QUFDQSxVQUFJO0FBQ0gsY0FBTSxRQUFRLElBQUksTUFBTSxTQUFTO0FBQ2pDLGNBQU0sS0FBSyxnQkFBZ0IsVUFBVSxLQUFLO0FBQzFDLFlBQUksS0FBSztBQUFTLGVBQUssUUFBUTtBQUMvQixjQUFNO0FBQUEsTUFDUCxTQUFTLE9BQVA7QUFDRCxZQUFJLHdCQUFPLEVBQUUscUJBQXFCLEVBQUUsS0FBSyxNQUFNLFFBQVEsQ0FBQyxDQUFDO0FBQUEsTUFDMUQ7QUFBQSxJQUNELENBQUM7QUFBQSxFQUNGO0FBQUEsRUFFUSx3QkFBd0I7QUFDL0IsVUFBTSxXQUFXO0FBQ2pCLFFBQUksU0FBUyxlQUFlLFFBQVE7QUFBRztBQUN2QyxVQUFNLFFBQVEsU0FBUyxjQUFjLE9BQU87QUFDNUMsVUFBTSxLQUFLO0FBQ1gsVUFBTSxjQUFjO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBa0NwQixhQUFTLEtBQUssWUFBWSxLQUFLO0FBQUEsRUFDaEM7QUFBQSxFQUVRLGVBQWUsT0FBb0I7QUFDMUMsVUFBTSxNQUFNLFVBQVU7QUFDdEIsSUFBQyxNQUFNLE1BQWMsc0JBQXNCO0FBQzNDLFVBQU0sTUFBTSxhQUFhO0FBQ3pCLFVBQU0sTUFBTSxZQUFZO0FBQ3hCLFVBQU0sTUFBTSxTQUFTO0FBQ3JCLFVBQU0sTUFBTSxTQUFTO0FBQ3JCLFVBQU0sUUFBUSxNQUFNLGNBQWMsT0FBTztBQUN6QyxRQUFJLE9BQU87QUFDVixZQUFNLE1BQU0sV0FBVztBQUN2QixZQUFNLE1BQU0sVUFBVTtBQUN0QixZQUFNLE1BQU0sU0FBUztBQUFBLElBQ3RCO0FBQ0EsVUFBTSxRQUFRLE1BQU0sY0FBYyxhQUFhO0FBQy9DLFFBQUksT0FBTztBQUNWLFlBQU0sTUFBTSxRQUFRO0FBQUEsSUFDckI7QUFBQSxFQUNEO0FBQUEsRUFFQSxRQUFRO0FBQ1AsUUFBSSxLQUFLLFVBQVUsS0FBSyxPQUFPLGVBQWU7QUFDN0MsV0FBSyxPQUFPLGNBQWMsWUFBWSxLQUFLLE1BQU07QUFBQSxJQUNsRDtBQUNBLFNBQUssU0FBUztBQUNkLFNBQUssVUFBVTtBQUFBLEVBQ2hCO0FBQUEsRUFFUSxnQkFBZ0IsTUFBb0I7QUFDM0MsVUFBTSxJQUFJLElBQUksS0FBSyxLQUFLLFFBQVEsSUFBSSxLQUFLLGtCQUFrQixJQUFJLEdBQUs7QUFDcEUsV0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQUEsRUFDcEM7QUFBQTtBQUFBLEVBR1Esc0JBQXNCLE9BQXVCO0FBQ3BELFFBQUksS0FBSyxTQUFTLElBQUksUUFBUSxXQUFXLEVBQUU7QUFDM0MsUUFBSSxFQUFFLFFBQVEsT0FBTyxFQUFFO0FBQ3ZCLFFBQUksRUFBRSxRQUFRLGVBQWUsRUFBRTtBQUMvQixXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRVEsdUJBQXVCLE9BQXVCO0FBQ3JELFVBQU0sS0FBSyxTQUFTLElBQUksTUFBTSxxQkFBcUI7QUFDbkQsUUFBSSxDQUFDO0FBQUcsYUFBTztBQUNmLFVBQU0sVUFBVSxFQUFFLENBQUM7QUFDbkIsVUFBTSxXQUFXLEVBQUUsQ0FBQyxLQUFLLElBQUksTUFBTSxHQUFHLENBQUM7QUFDdkMsV0FBTyxVQUFVLEdBQUcsV0FBVyxZQUFZO0FBQUEsRUFDNUM7QUFBQSxFQUVRLFdBQVcsT0FBOEI7QUFDaEQsVUFBTSxZQUFZLEtBQUssc0JBQXNCLEtBQUs7QUFDbEQsVUFBTSxVQUFVLEtBQUssdUJBQXVCLFNBQVM7QUFDckQsUUFBSSxZQUFZO0FBQUksYUFBTztBQUMzQixVQUFNLE1BQU0sT0FBTyxPQUFPO0FBQzFCLFdBQU8sT0FBTyxTQUFTLEdBQUcsS0FBSyxPQUFPLElBQUksTUFBTTtBQUFBLEVBQ2pEO0FBQUE7QUFBQSxFQUdRLHNCQUFzQixPQUF1QjtBQUNwRCxVQUFNLGFBQWE7QUFDbkIsVUFBTSxLQUFLLFNBQVMsSUFBSSxNQUFNLFVBQVU7QUFDeEMsV0FBTyxJQUFJLEVBQUUsQ0FBQyxJQUFJO0FBQUEsRUFDbkI7QUFBQTtBQUFBLEVBR1EsZUFBZSxhQUFtQixXQUFtQztBQUU1RSxVQUFNLE9BQU8sU0FBUyxjQUFjLEtBQUs7QUFDekMsU0FBSyxZQUFZO0FBR2pCLFVBQU0sU0FBUyxTQUFTLGNBQWMsS0FBSztBQUMzQyxXQUFPLFlBQVk7QUFHbkIsVUFBTSxVQUFVLFNBQVMsY0FBYyxLQUFLO0FBQzVDLFlBQVEsWUFBWTtBQUdwQixVQUFNLFFBQVEsU0FBUyxjQUFjLEtBQUs7QUFDMUMsVUFBTSxZQUFZO0FBQ2xCLFVBQU0sY0FBYyxFQUFFLFdBQVc7QUFHakMsVUFBTSxpQkFBaUIsU0FBUyxjQUFjLEtBQUs7QUFDbkQsbUJBQWUsWUFBWTtBQUUzQixVQUFNLGNBQWMsWUFBWSxZQUFZO0FBQzVDLFVBQU0sZUFBZSxZQUFZLFNBQVMsSUFBSTtBQUM5QyxVQUFNLGFBQWEsWUFBWSxRQUFRO0FBRXZDLFVBQU0sYUFBYSxLQUFLLGtCQUFrQixFQUFFLFdBQVcsR0FBRyxLQUFLLGNBQWMsV0FBVyxHQUFHLGFBQWEsQ0FBQyxTQUFTO0FBQ2pILFdBQUssaUJBQWlCLFdBQVcsTUFBTSxZQUFZLGFBQWE7QUFBQSxJQUNqRSxHQUFHLEtBQUs7QUFDUixVQUFNLGNBQWMsS0FBSyxrQkFBa0IsRUFBRSxZQUFZLEdBQUcsS0FBSyxlQUFlLEdBQUcsY0FBYyxDQUFDLFVBQVU7QUFDM0csV0FBSyxpQkFBaUIsV0FBVyxXQUFXLGVBQWUsS0FBSztBQUFBLElBQ2pFLEdBQUcsSUFBSTtBQUNQLFVBQU0sWUFBWSxLQUFLLGtCQUFrQixFQUFFLFVBQVUsR0FBRyxLQUFLLGFBQWEsYUFBYSxZQUFZLEdBQUcsWUFBWSxRQUFXLElBQUk7QUFFakksbUJBQWUsWUFBWSxXQUFXLE9BQU87QUFDN0MsbUJBQWUsWUFBWSxZQUFZLE9BQU87QUFDOUMsbUJBQWUsWUFBWSxVQUFVLE9BQU87QUFHNUMsVUFBTSxVQUFVLFNBQVMsY0FBYyxLQUFLO0FBQzVDLFlBQVEsWUFBWTtBQUNwQixVQUFNLFlBQVksU0FBUyxjQUFjLFFBQVE7QUFDakQsY0FBVSxZQUFZO0FBQ3RCLGNBQVUsY0FBYyxFQUFFLGVBQWU7QUFDekMsVUFBTSxhQUFhLFNBQVMsY0FBYyxRQUFRO0FBQ2xELGVBQVcsWUFBWTtBQUN2QixlQUFXLGNBQWMsRUFBRSxnQkFBZ0I7QUFFM0MsWUFBUSxZQUFZLFNBQVM7QUFDN0IsWUFBUSxZQUFZLFVBQVU7QUFDOUIsWUFBUSxZQUFZLEtBQUs7QUFDekIsWUFBUSxZQUFZLGNBQWM7QUFDbEMsWUFBUSxZQUFZLE9BQU87QUFDM0IsV0FBTyxZQUFZLE9BQU87QUFDMUIsU0FBSyxZQUFZLE1BQU07QUFDdkIsYUFBUyxLQUFLLFlBQVksSUFBSTtBQUU5QixVQUFNLGNBQWMsTUFBTTtBQUFFLGVBQVMsS0FBSyxZQUFZLElBQUk7QUFBQSxJQUFHO0FBQzdELFNBQUssaUJBQWlCLFNBQVMsQ0FBQyxNQUFNO0FBQUUsVUFBSSxFQUFFLFdBQVc7QUFBTSxvQkFBWTtBQUFBLElBQUcsQ0FBQztBQUMvRSxjQUFVLGlCQUFpQixTQUFTLFdBQVc7QUFDL0MsZUFBVyxpQkFBaUIsU0FBUyxNQUFNO0FBQzFDLFlBQU0sT0FBTyxXQUFXO0FBQ3hCLFlBQU0sUUFBUSxZQUFZO0FBQzFCLFlBQU0sTUFBTSxVQUFVO0FBQ3RCLFlBQU0sU0FBUyxJQUFJLEtBQUssR0FBRyxRQUFRLE1BQU0sU0FBUyxFQUFFLFNBQVMsR0FBRyxHQUFHLEtBQUssSUFBSSxTQUFTLEVBQUUsU0FBUyxHQUFHLEdBQUcsR0FBRztBQUN6RyxnQkFBVSxNQUFNO0FBQ2hCLGtCQUFZO0FBQUEsSUFDYixDQUFDO0FBQUEsRUFDRjtBQUFBLEVBRVEsY0FBYyxhQUErQjtBQUNwRCxVQUFNLFVBQVU7QUFDaEIsVUFBTSxVQUFVLElBQUksS0FBSyxFQUFFLFlBQVk7QUFDdkMsVUFBTSxVQUFVLFVBQVU7QUFDMUIsVUFBTSxRQUFrQixDQUFDO0FBQ3pCLGFBQVMsSUFBSSxTQUFTLEtBQUssU0FBUztBQUFLLFlBQU0sS0FBSyxDQUFDO0FBQ3JELFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFUSxpQkFBMkI7QUFDbEMsV0FBTyxNQUFNLEtBQUssRUFBRSxRQUFRLEdBQUcsR0FBRyxDQUFDLEdBQUcsTUFBTSxJQUFJLENBQUM7QUFBQSxFQUNsRDtBQUFBLEVBRVEsYUFBYSxNQUFjLE9BQXlCO0FBQzNELFVBQU0sY0FBYyxJQUFJLEtBQUssTUFBTSxPQUFPLENBQUMsRUFBRSxRQUFRO0FBQ3JELFdBQU8sTUFBTSxLQUFLLEVBQUUsUUFBUSxZQUFZLEdBQUcsQ0FBQyxHQUFHLE1BQU0sSUFBSSxDQUFDO0FBQUEsRUFDM0Q7QUFBQSxFQUVRLGtCQUFrQixRQUFnQixRQUFrQixlQUF1QixVQUFvQyxhQUFzQixPQUF3RDtBQUNwTSxVQUFNLFNBQVMsU0FBUyxjQUFjLEtBQUs7QUFDM0MsV0FBTyxZQUFZO0FBQ25CLFVBQU0sWUFBWSxTQUFTLGNBQWMsS0FBSztBQUM5QyxjQUFVLFlBQVk7QUFFdEIsUUFBSSxnQkFBZ0IsT0FBTyxRQUFRLGFBQWE7QUFDaEQsUUFBSSx1QkFBdUI7QUFDM0IsVUFBTSxNQUFNLEVBQUUsU0FBUyxRQUFRLGVBQWUscUJBQXFCO0FBQ25FLFVBQU0sYUFBYTtBQUVuQixRQUFJLFlBQVk7QUFDZixZQUFNLGNBQWM7QUFDcEIsWUFBTSxhQUFhLE9BQU8sU0FBUztBQUNuQyxZQUFNLG1CQUFtQjtBQUN6QixZQUFNLG1CQUFtQixtQkFBbUIsT0FBTyxTQUFTLGFBQWEsZ0JBQWdCO0FBQ3pGLGVBQVMsU0FBUyxHQUFHLFNBQVMsYUFBYSxVQUFVO0FBQ3BELGVBQU8sUUFBUSxDQUFDLE9BQU8sVUFBVTtBQUNoQyxnQkFBTSxPQUFPLFNBQVMsY0FBYyxLQUFLO0FBQ3pDLGVBQUssWUFBWTtBQUNqQixlQUFLLGNBQWMsR0FBRyxNQUFNLFNBQVMsRUFBRSxTQUFTLEdBQUcsR0FBRyxJQUFJO0FBQzFELGVBQUssUUFBUSxRQUFRLE1BQU0sU0FBUztBQUNwQyxlQUFLLFFBQVEsU0FBUyxTQUFTLE9BQU8sU0FBUyxPQUFPLFNBQVM7QUFDL0QsZUFBSyxRQUFRLFlBQVksTUFBTSxTQUFTO0FBQ3hDLG9CQUFVLFlBQVksSUFBSTtBQUFBLFFBQzNCLENBQUM7QUFBQSxNQUNGO0FBQ0EsZ0JBQVUsTUFBTSxTQUFTLEdBQUcsYUFBYTtBQUN6QyxZQUFNLG1CQUFtQixtQkFBbUIsT0FBTyxTQUFTO0FBQzVELFlBQU0sUUFBUSxNQUFNLEtBQUssVUFBVSxpQkFBaUIsa0JBQWtCLENBQUM7QUFDdkUsVUFBSSxNQUFNLGdCQUFnQixHQUFHO0FBQzVCLGNBQU0sUUFBUSxDQUFDLElBQUksUUFBUSxHQUFHLFVBQVUsT0FBTyxZQUFZLFFBQVEsZ0JBQWdCLENBQUM7QUFBQSxNQUNyRjtBQUNBLDRCQUFzQixNQUFNO0FBQzNCLGtCQUFVLFlBQVk7QUFBQSxNQUN2QixDQUFDO0FBQ0QsVUFBSSxjQUFjO0FBQ2xCLGdCQUFVLGlCQUFpQixVQUFVLE1BQU07QUFDMUMsWUFBSTtBQUFhO0FBQ2pCLGNBQU0sWUFBWSxVQUFVO0FBQzVCLGNBQU0sZUFBZSxLQUFLLE1BQU0sWUFBWSxVQUFVO0FBQ3RELGNBQU0sYUFBYyxlQUFlLE9BQU8sU0FBVSxPQUFPLFVBQVUsT0FBTztBQUM1RSxjQUFNLFlBQVksT0FBTyxTQUFTO0FBQ2xDLGtCQUFVLGlCQUFpQixrQkFBa0IsRUFBRSxRQUFRLENBQUMsTUFBTSxVQUFVO0FBQ3ZFLGdCQUFNLGdCQUFnQixRQUFRLE9BQU87QUFDckMsZUFBSyxVQUFVLE9BQU8sWUFBWSxrQkFBa0IsU0FBUztBQUFBLFFBQzlELENBQUM7QUFDRCx3QkFBZ0I7QUFDaEIsK0JBQXVCO0FBQ3ZCLFFBQUMsSUFBWSxnQkFBZ0I7QUFDN0IsWUFBSTtBQUFVLG1CQUFTLG9CQUFvQjtBQUMzQyxjQUFNLGdCQUFnQixjQUFjLEtBQUssT0FBTyxTQUFTO0FBQ3pELFlBQUksYUFBYSxjQUFjO0FBQzlCLHdCQUFjO0FBQ2QsZ0JBQU0sU0FBUyxZQUFZO0FBQzNCLG9CQUFVLFlBQVksT0FBTyxTQUFTLGFBQWE7QUFDbkQscUJBQVcsTUFBTTtBQUFFLDBCQUFjO0FBQUEsVUFBTyxHQUFHLEVBQUU7QUFBQSxRQUM5QyxXQUFXLGFBQWEsR0FBRztBQUMxQix3QkFBYztBQUNkLGdCQUFNLFNBQVM7QUFDZixvQkFBVSxhQUFhLGNBQWMsS0FBSyxPQUFPLFNBQVMsYUFBYTtBQUN2RSxxQkFBVyxNQUFNO0FBQUUsMEJBQWM7QUFBQSxVQUFPLEdBQUcsRUFBRTtBQUFBLFFBQzlDO0FBQUEsTUFDRCxDQUFDO0FBR0QsZ0JBQVUsaUJBQWlCLFNBQVMsQ0FBQyxPQUFPO0FBQzNDLGNBQU0sU0FBUyxHQUFHO0FBQ2xCLGNBQU0sU0FBUyxVQUFVLE9BQU8sVUFBVyxPQUFPLFFBQVEsa0JBQWtCLElBQTJCO0FBQ3ZHLFlBQUksQ0FBQztBQUFRO0FBQ2IsY0FBTSxlQUFlLE9BQU8sT0FBTyxRQUFRLFNBQVMsR0FBRztBQUN2RCxjQUFNLGFBQWMsZUFBZSxPQUFPLFNBQVUsT0FBTyxVQUFVLE9BQU87QUFDNUUsY0FBTSxjQUFjLG1CQUFtQixPQUFPLFNBQVM7QUFDdkQsa0JBQVUsWUFBWSxjQUFjO0FBQ3BDLHdCQUFnQjtBQUNoQiwrQkFBdUIsT0FBTyxTQUFTO0FBQ3ZDLFFBQUMsSUFBWSxnQkFBZ0I7QUFDN0IsWUFBSTtBQUFVLG1CQUFTLG9CQUFvQjtBQUFBLE1BQzVDLENBQUM7QUFBQSxJQUNGLE9BQU87QUFDTixhQUFPLFFBQVEsQ0FBQyxPQUFPLFVBQVU7QUFDaEMsY0FBTSxPQUFPLFNBQVMsY0FBYyxLQUFLO0FBQ3pDLGFBQUssWUFBWTtBQUNqQixhQUFLLGNBQWMsR0FBRyxNQUFNLFNBQVMsRUFBRSxTQUFTLEdBQUcsR0FBRyxJQUFJO0FBQzFELGFBQUssUUFBUSxRQUFRLE1BQU0sU0FBUztBQUNwQyxhQUFLLFFBQVEsUUFBUSxNQUFNLFNBQVM7QUFDcEMsWUFBSSxVQUFVO0FBQXNCLGVBQUssVUFBVSxJQUFJLFVBQVU7QUFDakUsa0JBQVUsWUFBWSxJQUFJO0FBQUEsTUFDM0IsQ0FBQztBQUNELGdCQUFVLGlCQUFpQixVQUFVLE1BQU07QUFDMUMsY0FBTSxZQUFZLFVBQVU7QUFDNUIsY0FBTSxXQUFXLEtBQUssTUFBTSxZQUFZLFVBQVU7QUFDbEQsWUFBSSxhQUFhLGlCQUFpQixZQUFZLEtBQUssV0FBVyxPQUFPLFFBQVE7QUFDNUUsb0JBQVUsaUJBQWlCLGtCQUFrQixFQUFFLFFBQVEsQ0FBQyxNQUFNLFVBQVU7QUFDdkUsaUJBQUssVUFBVSxPQUFPLFlBQVksVUFBVSxRQUFRO0FBQUEsVUFDckQsQ0FBQztBQUNELDBCQUFnQjtBQUNoQixpQ0FBdUIsT0FBTyxRQUFRO0FBQ3RDLFVBQUMsSUFBWSxnQkFBZ0I7QUFDN0IsY0FBSTtBQUFVLHFCQUFTLG9CQUFvQjtBQUFBLFFBQzVDO0FBQUEsTUFDRCxDQUFDO0FBRUQsZ0JBQVUsaUJBQWlCLFNBQVMsQ0FBQyxPQUFPO0FBQzNDLGNBQU0sU0FBUyxHQUFHO0FBQ2xCLGNBQU0sU0FBUyxVQUFVLE9BQU8sVUFBVyxPQUFPLFFBQVEsa0JBQWtCLElBQTJCO0FBQ3ZHLFlBQUksQ0FBQztBQUFRO0FBQ2IsY0FBTSxNQUFNLE9BQU8sT0FBTyxRQUFRLFNBQVMsR0FBRztBQUU5QyxrQkFBVSxpQkFBaUIsa0JBQWtCLEVBQUUsUUFBUSxDQUFDLElBQUksTUFBTTtBQUNqRSxhQUFHLFVBQVUsT0FBTyxZQUFZLE1BQU0sR0FBRztBQUFBLFFBQzFDLENBQUM7QUFDRCxrQkFBVSxZQUFZLE1BQU07QUFDNUIsd0JBQWdCO0FBQ2hCLCtCQUF1QixPQUFPLEdBQUc7QUFDakMsUUFBQyxJQUFZLGdCQUFnQjtBQUM3QixZQUFJO0FBQVUsbUJBQVMsb0JBQW9CO0FBQUEsTUFDNUMsQ0FBQztBQUNELGlCQUFXLE1BQU07QUFBRSxrQkFBVSxZQUFZLGdCQUFnQjtBQUFBLE1BQVksR0FBRyxDQUFDO0FBQUEsSUFDMUU7QUFFQSxXQUFPLFlBQVksU0FBUztBQUM1QixXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRVEsaUJBQWlCLFdBQTRELE1BQWMsT0FBcUI7QUFDdkgsVUFBTSxZQUFZLFVBQVUsUUFBUSxjQUFjLG1CQUFtQjtBQUNyRSxVQUFNLGFBQWEsVUFBVTtBQUM3QixVQUFNLFVBQVUsS0FBSyxhQUFhLE1BQU0sS0FBSztBQUU3QyxXQUFPLFVBQVU7QUFBWSxnQkFBVSxZQUFZLFVBQVUsVUFBVTtBQUN2RSxVQUFNLGNBQWM7QUFDcEIsVUFBTSxhQUFhO0FBQ25CLFVBQU0sbUJBQW1CO0FBQ3pCLFVBQU0sU0FBUyxLQUFLLElBQUksR0FBRyxPQUFPO0FBQ2xDLFVBQU0sY0FBYyxLQUFLLElBQUksWUFBWSxNQUFNO0FBQy9DLFVBQU0sZ0JBQWdCLFFBQVEsUUFBUSxXQUFXO0FBQ2pELGFBQVMsU0FBUyxHQUFHLFNBQVMsYUFBYSxVQUFVO0FBQ3BELGNBQVEsUUFBUSxDQUFDLEtBQUssVUFBVTtBQUMvQixjQUFNLE9BQU8sU0FBUyxjQUFjLEtBQUs7QUFDekMsYUFBSyxZQUFZO0FBQ2pCLGFBQUssY0FBYyxHQUFHLElBQUksU0FBUyxFQUFFLFNBQVMsR0FBRyxHQUFHLElBQUksRUFBRSxVQUFVO0FBQ3BFLGFBQUssUUFBUSxRQUFRLElBQUksU0FBUztBQUNsQyxhQUFLLFFBQVEsU0FBUyxTQUFTLFFBQVEsU0FBUyxPQUFPLFNBQVM7QUFDaEUsYUFBSyxRQUFRLFlBQVksSUFBSSxTQUFTO0FBQ3RDLGtCQUFVLFlBQVksSUFBSTtBQUFBLE1BQzNCLENBQUM7QUFBQSxJQUNGO0FBQ0EsY0FBVSxNQUFNLFNBQVMsR0FBRyxRQUFRLFNBQVMsY0FBYztBQUMzRCxVQUFNLHNCQUFzQixtQkFBbUIsUUFBUSxTQUFTO0FBQ2hFLFVBQU0sV0FBVyxNQUFNLEtBQUssVUFBVSxpQkFBaUIsa0JBQWtCLENBQUM7QUFDMUUsUUFBSSxTQUFTLG1CQUFtQixHQUFHO0FBQ2xDLGVBQVMsUUFBUSxDQUFDLElBQUksUUFBUSxHQUFHLFVBQVUsT0FBTyxZQUFZLFFBQVEsbUJBQW1CLENBQUM7QUFBQSxJQUMzRjtBQUNBLDBCQUFzQixNQUFNO0FBQUUsZ0JBQVUsWUFBWSxtQkFBbUIsUUFBUSxTQUFTLGFBQWEsZ0JBQWdCO0FBQUEsSUFBWSxDQUFDO0FBQ2xJLFFBQUksY0FBYztBQUNsQixjQUFVLGlCQUFpQixVQUFVLE1BQU07QUFDMUMsVUFBSTtBQUFhO0FBQ2pCLFlBQU0sWUFBWSxVQUFVO0FBQzVCLFlBQU0sZUFBZSxLQUFLLE1BQU0sWUFBWSxVQUFVO0FBQ3RELFlBQU0sWUFBWSxlQUFlLFFBQVE7QUFDekMsWUFBTSxZQUFZLFFBQVEsU0FBUztBQUNuQyxnQkFBVSxpQkFBaUIsa0JBQWtCLEVBQUUsUUFBUSxDQUFDLE1BQU0sVUFBVTtBQUN2RSxjQUFNLGdCQUFnQixRQUFRLFFBQVE7QUFDdEMsYUFBSyxVQUFVLE9BQU8sWUFBWSxrQkFBa0IsU0FBUztBQUFBLE1BQzlELENBQUM7QUFDRCxNQUFDLFVBQWtCLGdCQUFnQjtBQUNuQyxZQUFNLGdCQUFnQixjQUFjLEtBQUssUUFBUSxTQUFTO0FBQzFELFVBQUksYUFBYSxjQUFjO0FBQzlCLHNCQUFjO0FBQ2QsY0FBTSxTQUFTLFlBQVk7QUFDM0Isa0JBQVUsWUFBWSxRQUFRLFNBQVMsYUFBYTtBQUNwRCxtQkFBVyxNQUFNO0FBQUUsd0JBQWM7QUFBQSxRQUFPLEdBQUcsRUFBRTtBQUFBLE1BQzlDLFdBQVcsYUFBYSxHQUFHO0FBQzFCLHNCQUFjO0FBQ2QsY0FBTSxTQUFTO0FBQ2Ysa0JBQVUsYUFBYSxjQUFjLEtBQUssUUFBUSxTQUFTLGFBQWE7QUFDeEUsbUJBQVcsTUFBTTtBQUFFLHdCQUFjO0FBQUEsUUFBTyxHQUFHLEVBQUU7QUFBQSxNQUM5QztBQUFBLElBQ0QsQ0FBQztBQUdELGNBQVUsaUJBQWlCLFNBQVMsQ0FBQyxPQUFPO0FBQzNDLFlBQU0sU0FBUyxHQUFHO0FBQ2xCLFlBQU0sU0FBUyxVQUFVLE9BQU8sVUFBVyxPQUFPLFFBQVEsa0JBQWtCLElBQTJCO0FBQ3ZHLFVBQUksQ0FBQztBQUFRO0FBQ2IsWUFBTSxlQUFlLE9BQU8sT0FBTyxRQUFRLFNBQVMsR0FBRztBQUN2RCxZQUFNLFlBQVksZUFBZSxRQUFRO0FBQ3pDLFlBQU0sY0FBYyxtQkFBbUIsUUFBUSxTQUFTO0FBQ3hELGdCQUFVLFlBQVksY0FBYztBQUNwQyxNQUFDLFVBQWtCLGdCQUFnQixRQUFRLFNBQVM7QUFBQSxJQUNyRCxDQUFDO0FBQUEsRUFDRjtBQUFBLEVBQ1EsWUFBWSxNQUEyQjtBQUM5QyxVQUFNLEtBQUssU0FBUyxjQUFjLE9BQU87QUFDekMsT0FBRyxjQUFjO0FBQ2pCLFdBQU87QUFBQSxFQUNSO0FBQ0Q7OztBRXJ6QkEsSUFBQUMsbUJBQWdEOzs7QUNNekMsSUFBTSxXQUFOLE1BQWU7QUFBQTtBQUFBLEVBWXJCLFlBQVksYUFBMEIsT0FBc0I7QUFUNUQsU0FBUSxlQUF3QjtBQUNoQyxTQUFRLGdCQUEwQixDQUFDO0FBQ25DLFNBQVEsZ0JBQXdCO0FBUS9CLFNBQUssY0FBYztBQUNuQixTQUFLLFFBQVE7QUFDYixTQUFLLGdCQUFnQixDQUFDLEdBQUcsTUFBTSxZQUFZO0FBQUEsRUFDNUM7QUFBQSxFQUVBLFNBQWU7QUFDZCxTQUFLLFlBQVksTUFBTTtBQUN2QixTQUFLLFlBQVksU0FBUyxvQkFBb0I7QUFHOUMsUUFBSSxLQUFLLE1BQU0sV0FBVztBQUN6QixXQUFLLFlBQVksTUFBTSxZQUFZLEtBQUssTUFBTTtBQUM5QyxXQUFLLFlBQVksTUFBTSxZQUFZLEtBQUssTUFBTSxjQUFjLFNBQVMsU0FBUztBQUFBLElBQy9FO0FBR0EsU0FBSyxjQUFjO0FBR25CLFFBQUksS0FBSyxjQUFjO0FBQ3RCLFdBQUsscUJBQXFCO0FBQUEsSUFDM0I7QUFBQSxFQUNEO0FBQUEsRUFFUSxnQkFBc0I7QUFDN0IsU0FBSyxNQUFNLEtBQUssUUFBUSxTQUFPO0FBQzlCLFlBQU0sVUFBVSxLQUFLLFlBQVksV0FBVyxtQkFBbUI7QUFDL0QsY0FBUSxjQUFjO0FBRXRCLFVBQUksS0FBSyxNQUFNLGFBQWEsU0FBUyxHQUFHLEdBQUc7QUFDMUMsZ0JBQVEsU0FBUyxVQUFVO0FBQUEsTUFDNUI7QUFFQSxjQUFRLGlCQUFpQixTQUFTLENBQUMsTUFBTTtBQUN4QyxVQUFFLGdCQUFnQjtBQUNsQixhQUFLLE1BQU0sV0FBVyxHQUFHO0FBQUEsTUFDMUIsQ0FBQztBQUFBLElBQ0YsQ0FBQztBQUdELFNBQUssWUFBWSxpQkFBaUIsU0FBUyxNQUFNO0FBQ2hELFdBQUssbUJBQW1CO0FBQUEsSUFDekIsQ0FBQztBQUFBLEVBQ0Y7QUFBQSxFQUVRLHFCQUEyQjtBQUNsQyxTQUFLLGVBQWU7QUFDcEIsU0FBSyxnQkFBZ0IsQ0FBQyxHQUFHLEtBQUssTUFBTSxZQUFZO0FBQ2hELFNBQUssT0FBTztBQUFBLEVBQ2I7QUFBQSxFQUVRLHFCQUEyQjtBQUNsQyxTQUFLLGVBQWU7QUFDcEIsUUFBSSxLQUFLLFVBQVUsS0FBSyxPQUFPLGVBQWU7QUFDN0MsV0FBSyxPQUFPLGNBQWMsWUFBWSxLQUFLLE1BQU07QUFBQSxJQUNsRDtBQUNBLFNBQUssU0FBUztBQUNkLFNBQUssVUFBVTtBQUNmLFNBQUssV0FBVztBQUNoQixTQUFLLFdBQVc7QUFDaEIsU0FBSyxPQUFPO0FBQUEsRUFDYjtBQUFBLEVBRVEsdUJBQTZCO0FBbkZ0QztBQXFGRSxRQUFJLENBQUMsS0FBSyxRQUFRO0FBQ2pCLFdBQUssU0FBUyxLQUFLLFlBQVksVUFBVSx3QkFBd0I7QUFDakUsV0FBSyxPQUFPLE1BQU0sU0FBUztBQUMzQixXQUFLLE9BQU8saUJBQWlCLFNBQVMsTUFBTTtBQUMzQyxhQUFLLGlCQUFpQjtBQUFBLE1BQ3ZCLENBQUM7QUFBQSxJQUNGO0FBRUEsUUFBSSxDQUFDLEtBQUssU0FBUztBQUNsQixXQUFLLFVBQVUsS0FBSyxPQUFPLFVBQVUsbUJBQW1CO0FBQ3hELFdBQUssUUFBUSxNQUFNLFNBQVM7QUFDNUIsV0FBSyxRQUFRLGlCQUFpQixTQUFTLENBQUMsTUFBTTtBQUM3QyxVQUFFLGdCQUFnQjtBQUFBLE1BQ25CLENBQUM7QUFBQSxJQUNGO0FBR0EsUUFBSSxDQUFDLEtBQUssVUFBVTtBQUNuQixXQUFLLFdBQVcsS0FBSyxRQUFRLFNBQVMsU0FBUztBQUFBLFFBQzlDLEtBQUs7QUFBQSxRQUNMLGVBQWMsNEVBQTRCLE1BQTVCLDRCQUFnQywrQkFBOEI7QUFBQSxRQUM1RSxNQUFNO0FBQUEsTUFDUCxDQUFDO0FBQ0QsV0FBSyxTQUFTLGlCQUFpQixTQUFTLE1BQU07QUE1R2pELFlBQUFDO0FBNkdJLGFBQUssbUJBQWlCQSxNQUFBLEtBQUssYUFBTCxnQkFBQUEsSUFBZSxVQUFTLElBQUksS0FBSztBQUN2RCxhQUFLLHFCQUFxQjtBQUFBLE1BQzNCLENBQUM7QUFBQSxJQUNGO0FBQ0EsUUFBSSxLQUFLLFVBQVU7QUFDbEIsV0FBSyxTQUFTLFFBQVEsS0FBSztBQUFBLElBQzVCO0FBR0EsVUFBTSxnQkFBZ0IsS0FBSyxXQUFXLEtBQUssU0FBUyxZQUFZO0FBQ2hFLFFBQUksQ0FBQyxLQUFLLFVBQVU7QUFDbkIsV0FBSyxXQUFXLEtBQUssUUFBUSxVQUFVLDBCQUEwQjtBQUFBLElBQ2xFLE9BQU87QUFDTixXQUFLLFNBQVMsTUFBTTtBQUFBLElBQ3JCO0FBRUEsVUFBTSxRQUFRLEtBQUssY0FBYyxZQUFZO0FBQzdDLFVBQU0sY0FBYyxRQUFRLEtBQUssTUFBTSxLQUFLLE9BQU8sQ0FBQUMsT0FBS0EsR0FBRSxZQUFZLEVBQUUsU0FBUyxLQUFLLENBQUMsSUFBSSxLQUFLLE1BQU07QUFDdEcsZ0JBQVksUUFBUSxTQUFPO0FBQzFCLFlBQU0sVUFBVSxLQUFLLFNBQVUsV0FBVyx5QkFBeUI7QUFDbkUsY0FBUSxjQUFjO0FBQ3RCLFVBQUksS0FBSyxjQUFjLFNBQVMsR0FBRyxHQUFHO0FBQ3JDLGdCQUFRLFNBQVMsVUFBVTtBQUFBLE1BQzVCO0FBQ0EsY0FBUSxpQkFBaUIsU0FBUyxNQUFNO0FBRXZDLGFBQUssbUJBQW1CLEdBQUc7QUFBQSxNQUM1QixDQUFDO0FBQUEsSUFDRixDQUFDO0FBRUQsUUFBSSxLQUFLLFVBQVU7QUFDbEIsV0FBSyxTQUFTLFlBQVk7QUFBQSxJQUMzQjtBQUdBLFFBQUksWUFBWSxLQUFLLFFBQVEsY0FBYyw0QkFBNEI7QUFDdkUsUUFBSSxDQUFDLFdBQVc7QUFDZixrQkFBWSxLQUFLLFFBQVEsVUFBVSwyQkFBMkI7QUFDOUQsZ0JBQVUsTUFBTSxVQUFVO0FBQzFCLFlBQU0sZUFBZSxVQUFVLFdBQVcsV0FBVztBQUNyRCxtQkFBYSxnQkFBZSw0RUFBNEIsTUFBNUIsNEJBQWdDLHNCQUFxQjtBQUNqRixtQkFBYSxpQkFBaUIsU0FBUyxNQUFNO0FBQzVDLGFBQUssZ0JBQWdCLENBQUMsR0FBRyxLQUFLLE1BQU0sSUFBSTtBQUN4QyxhQUFLLHFCQUFxQjtBQUFBLE1BQzNCLENBQUM7QUFDRCxZQUFNLGlCQUFpQixVQUFVLFdBQVcsV0FBVztBQUN2RCxxQkFBZSxnQkFBZSw0RUFBNEIsTUFBNUIsNEJBQWdDLHdCQUF1QjtBQUNyRixxQkFBZSxpQkFBaUIsU0FBUyxNQUFNO0FBQzlDLGFBQUssZ0JBQWdCLENBQUM7QUFDdEIsYUFBSyxxQkFBcUI7QUFBQSxNQUMzQixDQUFDO0FBQUEsSUFDRjtBQUFBLEVBQ0Q7QUFBQSxFQUVRLG1CQUFtQixLQUFtQjtBQUM3QyxRQUFJLEtBQUssY0FBYyxTQUFTLEdBQUcsR0FBRztBQUNyQyxXQUFLLGdCQUFnQixLQUFLLGNBQWMsT0FBTyxDQUFBQSxPQUFLQSxPQUFNLEdBQUc7QUFBQSxJQUM5RCxPQUFPO0FBQ04sV0FBSyxjQUFjLEtBQUssR0FBRztBQUFBLElBQzVCO0FBQ0EsU0FBSyxxQkFBcUI7QUFBQSxFQUMzQjtBQUFBLEVBRVEsbUJBQXlCO0FBQ2hDLFNBQUssTUFBTSxXQUFXLEtBQUssYUFBYTtBQUN4QyxTQUFLLG1CQUFtQjtBQUFBLEVBQ3pCO0FBQUE7QUFBQSxFQUdBLFdBQVcsTUFBZ0IsY0FBOEI7QUFDeEQsU0FBSyxNQUFNLE9BQU87QUFDbEIsU0FBSyxNQUFNLGVBQWU7QUFDMUIsU0FBSyxPQUFPO0FBQUEsRUFDYjtBQUNEOzs7QUNyTEE7QUFxQk8sSUFBTSxhQUFOLE1BQWlCO0FBQUEsRUFNdkIsWUFBWSxhQUEwQixPQUF3QjtBQUM3RCxTQUFLLGNBQWM7QUFDbkIsU0FBSyxRQUFRO0FBQUEsRUFDZDtBQUFBLEVBRVEsZ0JBQWdCLE1BQW9CO0FBQzNDLFVBQU0sSUFBSSxJQUFJLEtBQUssS0FBSyxRQUFRLElBQUksS0FBSyxrQkFBa0IsSUFBSSxHQUFLO0FBQ3BFLFdBQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUFBLEVBQ3BDO0FBQUEsRUFFQSxTQUFlO0FBQ2QsU0FBSyxZQUFZLE1BQU07QUFDdkIsU0FBSyxZQUFZLFNBQVMsYUFBYTtBQUd2QyxTQUFLLGNBQWM7QUFHbkIsU0FBSyxhQUFhO0FBR2xCLFNBQUssWUFBWTtBQUFBLEVBQ2xCO0FBQUEsRUFFUSxnQkFBc0I7QUFDN0IsVUFBTSxZQUFZLEtBQUssWUFBWSxVQUFVLHFCQUFxQjtBQUdsRSxVQUFNLFVBQVUsVUFBVSxVQUFVLG1CQUFtQjtBQUN2RCxVQUFNLFNBQVMsUUFBUSxVQUFVLGtCQUFrQjtBQUNuRCxXQUFPLGNBQWMsS0FBSyxnQkFBZ0IsS0FBSyxNQUFNLGdCQUFnQixJQUFJLEtBQUssQ0FBQztBQUMvRSxXQUFPLFNBQVMsV0FBVztBQUMzQixXQUFPLGlCQUFpQixTQUFTLE1BQU07QUFDdEMsV0FBSyxlQUFlO0FBQUEsSUFDckIsQ0FBQztBQUNELFVBQU0sY0FBYyxRQUFRLFVBQVUsdUJBQXVCO0FBQzdELGdCQUFZLGNBQWMsR0FBRyxLQUFLLGtCQUFrQixJQUFJLEtBQUssTUFBTSxlQUFlLFFBQVEsQ0FBQztBQUczRixVQUFNLFlBQVksVUFBVSxVQUFVLHFCQUFxQjtBQUUzRCxVQUFNLFVBQVUsVUFBVSxVQUFVLG1CQUFtQjtBQUN2RCxVQUFNLGNBQWMsUUFBUSxXQUFXLGtCQUFrQjtBQUN6RCxnQkFBWSxjQUFjLEVBQUUsV0FBVztBQUN2QyxVQUFNLGNBQWMsUUFBUSxXQUFXLHVCQUF1QjtBQUM5RCxnQkFBWSxjQUFjLEdBQUcsS0FBSyxrQkFBa0IsSUFBSSxLQUFLLE1BQU0sVUFBVSxlQUFlO0FBRTVGLFVBQU0sWUFBWSxVQUFVLFVBQVUsbUJBQW1CO0FBQ3pELFVBQU0sZ0JBQWdCLFVBQVUsV0FBVyxrQkFBa0I7QUFDN0Qsa0JBQWMsY0FBYyxFQUFFLGFBQWE7QUFDM0MsVUFBTSxnQkFBZ0IsVUFBVSxXQUFXLHVCQUF1QjtBQUNsRSxrQkFBYyxjQUFjLEdBQUcsS0FBSyxrQkFBa0IsSUFBSSxLQUFLLE1BQU0sYUFBYSxlQUFlO0FBQUEsRUFDbEc7QUFBQSxFQUVRLGVBQXFCO0FBQzVCLFVBQU0sV0FBVyxLQUFLLFlBQVksVUFBVSxvQkFBb0I7QUFDaEUsVUFBTSxhQUE0QjtBQUFBLE1BQ2pDLE1BQU0sS0FBSyxNQUFNO0FBQUEsTUFDakIsY0FBYyxLQUFLLE1BQU07QUFBQSxNQUN6QixZQUFZLEtBQUssTUFBTTtBQUFBLE1BQ3ZCLFdBQVc7QUFBQSxJQUNaO0FBQ0EsU0FBSyxvQkFBb0IsSUFBSSxTQUFTLFVBQVUsVUFBVTtBQUMxRCxTQUFLLGtCQUFrQixPQUFPO0FBQUEsRUFDL0I7QUFBQSxFQUVRLG9CQUE0QjtBQUNuQyxXQUFPLEVBQUUsaUJBQWlCO0FBQUEsRUFDM0I7QUFBQSxFQUVRLGNBQW9CO0FBQzNCLFVBQU0sVUFBVSxLQUFLLFlBQVksVUFBVSxtQkFBbUI7QUFDOUQsVUFBTSxTQUFTLFFBQVEsU0FBUyxRQUFRO0FBQ3hDLFdBQU8sS0FBSztBQUNaLFdBQU8sUUFBUTtBQUNmLFdBQU8sU0FBUztBQUdoQixTQUFLLGtCQUFrQixNQUFNO0FBQUEsRUFDOUI7QUFBQSxFQUVRLGtCQUFrQixRQUFpQztBQUMxRCxRQUFJLEtBQUssTUFBTSxZQUFZLFNBQVM7QUFBRztBQUV2QyxVQUFNLE1BQU0sT0FBTyxXQUFXLElBQUk7QUFDbEMsUUFBSSxDQUFDO0FBQUs7QUFHVixVQUFNLE9BQU8sT0FBTyxzQkFBc0I7QUFDMUMsV0FBTyxRQUFRLEtBQUs7QUFDcEIsV0FBTyxTQUFTLEtBQUs7QUFFckIsVUFBTSxRQUFRLE9BQU87QUFDckIsVUFBTSxTQUFTLE9BQU87QUFDdEIsVUFBTSxNQUFNO0FBR1osVUFBTSxTQUFTLEtBQUssTUFBTSxZQUFZLElBQUksT0FBSyxFQUFFLEtBQUs7QUFDdEQsVUFBTSxXQUFXLEtBQUssSUFBSSxHQUFHLE1BQU07QUFDbkMsVUFBTSxXQUFXLEtBQUssSUFBSSxHQUFHLE1BQU07QUFDbkMsVUFBTSxRQUFRLFdBQVc7QUFHekIsVUFBTSxjQUFjLFFBQVE7QUFFNUIsVUFBTSxPQUFPLENBQUMsTUFBYyxPQUFPLFFBQVEsSUFBSSxPQUFPLEtBQUssS0FBSyxNQUFNLFlBQVksU0FBUztBQUMzRixVQUFNLE9BQU8sQ0FBQyxNQUFjO0FBQzNCLFVBQUksYUFBYTtBQUNoQixjQUFNLFdBQVcsS0FBSyxJQUFJLElBQUksQ0FBQztBQUMvQixjQUFNLFNBQVMsS0FBSyxJQUFJLFdBQVcsQ0FBQztBQUNwQyxjQUFNLFNBQVMsS0FBSyxJQUFJLFdBQVcsQ0FBQztBQUNwQyxlQUFPLFNBQVMsT0FBUSxXQUFXLFVBQVUsS0FBSyxJQUFJLFNBQVMsUUFBUSxHQUFHLEtBQU0sU0FBUyxJQUFJO0FBQUEsTUFDOUYsT0FBTztBQUNOLGVBQU8sU0FBUyxPQUFRLElBQUksWUFBWSxLQUFLLElBQUksT0FBTyxHQUFHLEtBQU0sU0FBUyxJQUFJO0FBQUEsTUFDL0U7QUFBQSxJQUNEO0FBQ0EsVUFBTSxrQkFBa0IsQ0FBQyxNQUFjO0FBRXRDLFlBQU0sV0FBVyxLQUFLLElBQUksSUFBSSxDQUFDO0FBQy9CLFlBQU0sU0FBUyxLQUFLLElBQUksV0FBVyxDQUFDO0FBQ3BDLFlBQU0sU0FBUyxLQUFLLElBQUksV0FBVyxDQUFDO0FBRXBDLFVBQUksV0FBVztBQUFRLGVBQU87QUFFOUIsWUFBTUMsTUFBSyxXQUFXLFdBQVcsU0FBUztBQUcxQyxVQUFJQSxNQUFLLEtBQUs7QUFDYixjQUFNLElBQUksS0FBSyxNQUFNLElBQUlBLEtBQUksR0FBRztBQUNoQyxlQUFPLE9BQU87QUFBQSxNQUNmLE9BQU87QUFDTixjQUFNLElBQUksS0FBSyxPQUFPLElBQUksS0FBS0EsS0FBSSxRQUFRLEdBQUc7QUFDOUMsZUFBTyxXQUFXO0FBQUEsTUFDbkI7QUFBQSxJQUNEO0FBR0EsUUFBSSxVQUFVLEdBQUcsR0FBRyxPQUFPLE1BQU07QUFDakMsUUFBSSxZQUFZO0FBR2hCLGFBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxNQUFNLFlBQVksU0FBUyxHQUFHLEtBQUs7QUFDM0QsWUFBTSxLQUFLLEtBQUssTUFBTSxZQUFZLENBQUM7QUFDbkMsWUFBTSxLQUFLLEtBQUssTUFBTSxZQUFZLElBQUksQ0FBQztBQUN2QyxZQUFNLEtBQUssS0FBSyxDQUFDO0FBQ2pCLFlBQU0sS0FBSyxLQUFLLEdBQUcsS0FBSztBQUN4QixZQUFNLEtBQUssS0FBSyxJQUFJLENBQUM7QUFDckIsWUFBTSxLQUFLLEtBQUssR0FBRyxLQUFLO0FBRXhCLFVBQUksVUFBVTtBQUNkLFVBQUksY0FBYyxnQkFBZ0IsR0FBRyxLQUFLO0FBQzFDLFVBQUksT0FBTyxJQUFJLEVBQUU7QUFDakIsVUFBSSxPQUFPLElBQUksRUFBRTtBQUNqQixVQUFJLE9BQU87QUFBQSxJQUNaO0FBTUEsUUFBSSxrQkFBaUM7QUFDckMsUUFBSSxLQUFLLE1BQU0sY0FBYyxRQUFRLEtBQUssTUFBTSxjQUFjLFFBQVc7QUFDeEUsd0JBQWtCLEtBQUssTUFBTTtBQUFBLElBQzlCLFdBQVcsS0FBSyxNQUFNLGNBQWM7QUFDbkMsVUFBSTtBQUNILGNBQU0sUUFBUSxLQUFLLE1BQU0sWUFBWSxJQUFJLE9BQUssRUFBRSxLQUFLLFFBQVEsQ0FBQztBQUM5RCxjQUFNLFVBQVUsS0FBSyxJQUFJLEdBQUcsS0FBSztBQUNqQyxjQUFNLFVBQVUsS0FBSyxJQUFJLEdBQUcsS0FBSztBQUNqQyxjQUFNLE1BQU0sS0FBSyxNQUFNLGFBQWEsUUFBUTtBQUM1QyxjQUFNLFFBQVEsS0FBSyxJQUFJLFVBQVUsU0FBUyxDQUFDO0FBQzNDLGNBQU0sU0FBUyxNQUFNLFdBQVc7QUFDaEMsMEJBQWtCLE9BQU8sUUFBUSxJQUFJLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDO0FBQUEsTUFDM0UsU0FBUyxHQUFQO0FBQ0QsMEJBQWtCO0FBQUEsTUFDbkI7QUFBQSxJQUNEO0FBRUEsUUFBSSxvQkFBb0IsUUFBUSxvQkFBb0IsUUFBVztBQUM5RCxVQUFJLFVBQVU7QUFDZCxVQUFJLGNBQWM7QUFDbEIsVUFBSSxZQUFZO0FBQ2hCLFVBQUksT0FBTyxpQkFBaUIsQ0FBQztBQUM3QixVQUFJLE9BQU8saUJBQWlCLE1BQU07QUFDbEMsVUFBSSxPQUFPO0FBQUEsSUFDWjtBQUdBLFFBQUksQ0FBRSxPQUFlLGtCQUFrQjtBQUN0QyxNQUFDLE9BQWUsbUJBQW1CO0FBQ25DLGFBQU8saUJBQWlCLFNBQVMsQ0FBQyxPQUFtQjtBQTFOeEQ7QUEyTkksY0FBTSxLQUFLLFFBQVcsWUFBWCxZQUF1QixHQUFHLFVBQVUsT0FBTyxzQkFBc0IsRUFBRTtBQUM5RSxjQUFNLGNBQWMsS0FBSyxJQUFJLFFBQVEsSUFBSSxLQUFLLENBQUM7QUFDL0MsY0FBTSxRQUFRLEtBQUssSUFBSSxLQUFLLEtBQUssSUFBSSxPQUFPLGFBQWEsQ0FBQyxHQUFHLENBQUM7QUFDOUQsY0FBTSxNQUFNLEtBQUssTUFBTSxTQUFTLEtBQUssTUFBTSxZQUFZLFNBQVMsRUFBRTtBQUNsRSxjQUFNLGFBQWEsS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsR0FBRyxLQUFLLE1BQU0sWUFBWSxTQUFTLENBQUM7QUFDL0UsY0FBTSxhQUFhLEtBQUssTUFBTSxZQUFZLFVBQVUsRUFBRTtBQUV0RCxhQUFLLGdCQUFnQixHQUFHLFVBQVU7QUFFbEMsWUFBSSxLQUFLLE1BQU0sWUFBWTtBQUMxQixlQUFLLE1BQU0sV0FBVyxLQUFLLGdCQUFnQixVQUFVLENBQUM7QUFBQSxRQUN2RDtBQUVBLFlBQUksS0FBSyxNQUFNLGVBQWU7QUFDN0IsZUFBSyxNQUFNLGNBQWMsQ0FBQztBQUFBLFFBQzNCO0FBQUEsTUFDRCxDQUFDO0FBQUEsSUFDRjtBQUFBLEVBQ0Q7QUFBQTtBQUFBLEVBR0EsWUFBWSxhQUFvRDtBQUMvRCxTQUFLLE1BQU0sY0FBYztBQUN6QixVQUFNLFNBQVMsS0FBSyxZQUFZLGNBQWMsZUFBZTtBQUM3RCxRQUFJLFFBQVE7QUFDWCxXQUFLLGtCQUFrQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNEO0FBQUE7QUFBQSxFQUdBLGdCQUFnQixXQUEwQixjQUEyQjtBQUNwRSxTQUFLLE1BQU0sWUFBWTtBQUN2QixRQUFJLGNBQWM7QUFDakIsV0FBSyxNQUFNLGVBQWU7QUFDMUIsWUFBTSxZQUFZLEtBQUssWUFBWSxjQUFjLG1CQUFtQjtBQUNwRSxVQUFJLFdBQVc7QUFDZCxrQkFBVSxjQUFjLEtBQUssZ0JBQWdCLFlBQVk7QUFBQSxNQUMxRDtBQUFBLElBQ0Q7QUFDQSxVQUFNLFNBQVMsS0FBSyxZQUFZLGNBQWMsZUFBZTtBQUM3RCxRQUFJLFFBQVE7QUFDWCxXQUFLLGtCQUFrQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNEO0FBQUE7QUFBQSxFQUdBLGNBQWMsZ0JBQXdCLFdBQW1CLGNBQTRCO0FBQ3BGLFNBQUssTUFBTSxpQkFBaUI7QUFDNUIsU0FBSyxNQUFNLFlBQVk7QUFDdkIsU0FBSyxNQUFNLGVBQWU7QUFFMUIsVUFBTSxRQUFRLEtBQUssWUFBWSxjQUFjLHdCQUF3QjtBQUNyRSxRQUFJO0FBQU8sWUFBTSxjQUFjLEdBQUcsS0FBSyxrQkFBa0IsSUFBSSxlQUFlLFFBQVEsQ0FBQztBQUVyRixVQUFNLFNBQVMsS0FBSyxZQUFZLGlCQUFpQix3QkFBd0I7QUFDekUsUUFBSSxVQUFVLE9BQU8sU0FBUyxHQUFHO0FBQ2hDLFlBQU0sVUFBVSxPQUFPLENBQUM7QUFDeEIsVUFBSTtBQUFTLGdCQUFRLGNBQWMsR0FBRyxLQUFLLGtCQUFrQixJQUFJLFVBQVUsZUFBZTtBQUMxRixZQUFNLFlBQVksT0FBTyxDQUFDO0FBQzFCLFVBQUk7QUFBVyxRQUFDLFVBQTBCLGNBQWMsR0FBRyxLQUFLLGtCQUFrQixJQUFJLGFBQWEsZUFBZTtBQUFBLElBQ25IO0FBQUEsRUFDRDtBQUFBO0FBQUEsRUFHUSxpQkFBdUI7QUFFOUIsVUFBTSxPQUFPLFNBQVMsY0FBYyxLQUFLO0FBQ3pDLFNBQUssWUFBWTtBQUdqQixVQUFNLFNBQVMsU0FBUyxjQUFjLEtBQUs7QUFDM0MsV0FBTyxZQUFZO0FBR25CLFVBQU0sVUFBVSxTQUFTLGNBQWMsS0FBSztBQUM1QyxZQUFRLFlBQVk7QUFHcEIsVUFBTSxRQUFRLFNBQVMsY0FBYyxLQUFLO0FBQzFDLFVBQU0sWUFBWTtBQUNsQixVQUFNLGNBQWMsRUFBRSxXQUFXO0FBR2pDLFVBQU0saUJBQWlCLFNBQVMsY0FBYyxLQUFLO0FBQ25ELG1CQUFlLFlBQVk7QUFHM0IsVUFBTSxjQUFjLEtBQUssTUFBTSxnQkFBZ0IsSUFBSSxLQUFLO0FBQ3hELFVBQU0sY0FBYyxZQUFZLFlBQVk7QUFDNUMsVUFBTSxlQUFlLFlBQVksU0FBUyxJQUFJO0FBQzlDLFVBQU0sYUFBYSxZQUFZLFFBQVE7QUFHdkMsVUFBTSxhQUFhLEtBQUssa0JBQWtCLEVBQUUsV0FBVyxHQUFHLEtBQUssY0FBYyxXQUFXLEdBQUcsYUFBYSxDQUFDLFNBQVM7QUFDakgsV0FBSyxpQkFBaUIsV0FBVyxNQUFNLFlBQVksYUFBYTtBQUFBLElBQ2pFLEdBQUcsS0FBSztBQUdSLFVBQU0sY0FBYyxLQUFLLGtCQUFrQixFQUFFLFlBQVksR0FBRyxLQUFLLGVBQWUsR0FBRyxjQUFjLENBQUMsVUFBVTtBQUMzRyxXQUFLLGlCQUFpQixXQUFXLFdBQVcsZUFBZSxLQUFLO0FBQUEsSUFDakUsR0FBRyxJQUFJO0FBR1AsVUFBTSxZQUFZLEtBQUssa0JBQWtCLEVBQUUsVUFBVSxHQUFHLEtBQUssYUFBYSxhQUFhLFlBQVksR0FBRyxZQUFZLFFBQVcsSUFBSTtBQUVqSSxtQkFBZSxZQUFZLFdBQVcsT0FBTztBQUM3QyxtQkFBZSxZQUFZLFlBQVksT0FBTztBQUM5QyxtQkFBZSxZQUFZLFVBQVUsT0FBTztBQUc1QyxVQUFNLFVBQVUsU0FBUyxjQUFjLEtBQUs7QUFDNUMsWUFBUSxZQUFZO0FBRXBCLFVBQU0sWUFBWSxTQUFTLGNBQWMsUUFBUTtBQUNqRCxjQUFVLFlBQVk7QUFDdEIsY0FBVSxjQUFjLEVBQUUsZUFBZTtBQUV6QyxVQUFNLGFBQWEsU0FBUyxjQUFjLFFBQVE7QUFDbEQsZUFBVyxZQUFZO0FBQ3ZCLGVBQVcsY0FBYyxFQUFFLGdCQUFnQjtBQUczQyxZQUFRLFlBQVksU0FBUztBQUM3QixZQUFRLFlBQVksVUFBVTtBQUM5QixZQUFRLFlBQVksS0FBSztBQUN6QixZQUFRLFlBQVksY0FBYztBQUNsQyxZQUFRLFlBQVksT0FBTztBQUMzQixXQUFPLFlBQVksT0FBTztBQUMxQixTQUFLLFlBQVksTUFBTTtBQUd2QixhQUFTLEtBQUssWUFBWSxJQUFJO0FBRzlCLFVBQU0sY0FBYyxNQUFNO0FBQ3pCLGVBQVMsS0FBSyxZQUFZLElBQUk7QUFBQSxJQUMvQjtBQUVBLFNBQUssaUJBQWlCLFNBQVMsQ0FBQyxNQUFNO0FBQ3JDLFVBQUksRUFBRSxXQUFXLE1BQU07QUFDdEIsb0JBQVk7QUFBQSxNQUNiO0FBQUEsSUFDRCxDQUFDO0FBRUQsY0FBVSxpQkFBaUIsU0FBUyxXQUFXO0FBRS9DLGVBQVcsaUJBQWlCLFNBQVMsTUFBTTtBQUMxQyxZQUFNLE9BQU8sV0FBVztBQUN4QixZQUFNLFFBQVEsWUFBWTtBQUMxQixZQUFNLE1BQU0sVUFBVTtBQUN0QixZQUFNLGtCQUFrQixHQUFHLFFBQVEsTUFBTSxTQUFTLEVBQUUsU0FBUyxHQUFHLEdBQUcsS0FBSyxJQUFJLFNBQVMsRUFBRSxTQUFTLEdBQUcsR0FBRztBQUV0RyxVQUFJLEtBQUssTUFBTSxZQUFZO0FBQzFCLGFBQUssTUFBTSxXQUFXLGVBQWU7QUFBQSxNQUN0QztBQUNBLGtCQUFZO0FBQUEsSUFDYixDQUFDO0FBQUEsRUFDRjtBQUFBO0FBQUEsRUFHUSxjQUFjLGFBQStCO0FBQ3BELFVBQU0sVUFBVSxLQUFLLE1BQU0sV0FBWSxjQUFjO0FBQ3JELFVBQU0sVUFBVSxLQUFLLE1BQU0sV0FBWSxjQUFjO0FBRXJELFVBQU0sUUFBUSxDQUFDO0FBQ2YsYUFBUyxJQUFJLFNBQVMsS0FBSyxTQUFTLEtBQUs7QUFDeEMsWUFBTSxLQUFLLENBQUM7QUFBQSxJQUNiO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQTtBQUFBLEVBR1EsaUJBQTJCO0FBQ2xDLFdBQU8sTUFBTSxLQUFLLEVBQUUsUUFBUSxHQUFHLEdBQUcsQ0FBQyxHQUFHLE1BQU0sSUFBSSxDQUFDO0FBQUEsRUFDbEQ7QUFBQTtBQUFBLEVBR1EsYUFBYSxNQUFjLE9BQXlCO0FBQzNELFVBQU0sY0FBYyxJQUFJLEtBQUssTUFBTSxPQUFPLENBQUMsRUFBRSxRQUFRO0FBQ3JELFdBQU8sTUFBTSxLQUFLLEVBQUUsUUFBUSxZQUFZLEdBQUcsQ0FBQyxHQUFHLE1BQU0sSUFBSSxDQUFDO0FBQUEsRUFDM0Q7QUFBQTtBQUFBLEVBR1Esa0JBQWtCLFFBQWdCLFFBQWtCLGVBQXVCLFVBQW9DLGFBQXNCLE9BQXdEO0FBQ3BNLFVBQU0sU0FBUyxTQUFTLGNBQWMsS0FBSztBQUMzQyxXQUFPLFlBQVk7QUFFbkIsVUFBTSxZQUFZLFNBQVMsY0FBYyxLQUFLO0FBQzlDLGNBQVUsWUFBWTtBQUV0QixRQUFJLGdCQUFnQixPQUFPLFFBQVEsYUFBYTtBQUNoRCxRQUFJLHVCQUF1QjtBQUMzQixVQUFNLE1BQU0sRUFBRSxTQUFTLFFBQVEsZUFBZSxxQkFBcUI7QUFDbkUsVUFBTSxhQUFhO0FBRW5CLFFBQUksWUFBWTtBQUVmLFlBQU0sY0FBYztBQUNwQixZQUFNLGFBQWEsT0FBTyxTQUFTO0FBSW5DLFlBQU0sbUJBQW1CO0FBQ3pCLFlBQU0sbUJBQW1CLG1CQUFtQixPQUFPLFNBQVMsYUFBYSxnQkFBZ0I7QUFHekYsZUFBUyxTQUFTLEdBQUcsU0FBUyxhQUFhLFVBQVU7QUFDcEQsZUFBTyxRQUFRLENBQUMsT0FBTyxVQUFVO0FBQ2hDLGdCQUFNLE9BQU8sU0FBUyxjQUFjLEtBQUs7QUFDekMsZUFBSyxZQUFZO0FBQ2pCLGVBQUssY0FBYyxHQUFHLE1BQU0sU0FBUyxFQUFFLFNBQVMsR0FBRyxHQUFHLElBQUk7QUFDMUQsZUFBSyxRQUFRLFFBQVEsTUFBTSxTQUFTO0FBQ3BDLGVBQUssUUFBUSxTQUFTLFNBQVMsT0FBTyxTQUFTLE9BQU8sU0FBUztBQUMvRCxlQUFLLFFBQVEsWUFBWSxNQUFNLFNBQVM7QUFFeEMsb0JBQVUsWUFBWSxJQUFJO0FBQUEsUUFDM0IsQ0FBQztBQUFBLE1BQ0Y7QUFHQSxnQkFBVSxNQUFNLFNBQVMsR0FBRyxhQUFhO0FBRXpDLFlBQU0sbUJBQW1CLG1CQUFtQixPQUFPLFNBQVM7QUFDNUQsWUFBTSxRQUFRLE1BQU0sS0FBSyxVQUFVLGlCQUFpQixrQkFBa0IsQ0FBQztBQUN2RSxVQUFJLE1BQU0sZ0JBQWdCLEdBQUc7QUFDNUIsY0FBTSxRQUFRLENBQUMsSUFBSSxRQUFRLEdBQUcsVUFBVSxPQUFPLFlBQVksUUFBUSxnQkFBZ0IsQ0FBQztBQUFBLE1BQ3JGO0FBRUEsNEJBQXNCLE1BQU07QUFDM0Isa0JBQVUsWUFBWTtBQUFBLE1BQ3ZCLENBQUM7QUFHRCxVQUFJLGNBQWM7QUFDbEIsZ0JBQVUsaUJBQWlCLFVBQVUsTUFBTTtBQUMxQyxZQUFJO0FBQWE7QUFFakIsY0FBTSxZQUFZLFVBQVU7QUFDNUIsY0FBTSxlQUFlLEtBQUssTUFBTSxZQUFZLFVBQVU7QUFDdEQsY0FBTSxhQUFjLGVBQWUsT0FBTyxTQUFVLE9BQU8sVUFBVSxPQUFPO0FBQzVFLGNBQU0sWUFBWSxPQUFPLFNBQVM7QUFHbEMsa0JBQVUsaUJBQWlCLGtCQUFrQixFQUFFLFFBQVEsQ0FBQyxNQUFNLFVBQVU7QUFDdkUsZ0JBQU0sZ0JBQWdCLFFBQVEsT0FBTztBQUNyQyxlQUFLLFVBQVUsT0FBTyxZQUFZLGtCQUFrQixTQUFTO0FBQUEsUUFDOUQsQ0FBQztBQUVELHdCQUFnQjtBQUNoQiwrQkFBdUI7QUFDdkIsWUFBSSxnQkFBZ0I7QUFHcEIsWUFBSSxVQUFVO0FBQ2IsbUJBQVMsb0JBQW9CO0FBQUEsUUFDOUI7QUFHQSxjQUFNLGdCQUFnQixjQUFjLEtBQUssT0FBTyxTQUFTO0FBQ3pELGNBQU0sZUFBZSxPQUFPLFNBQVM7QUFFckMsWUFBSSxhQUFhLGNBQWM7QUFDOUIsd0JBQWM7QUFFZCxnQkFBTSxTQUFTLFlBQVk7QUFDM0Isb0JBQVUsWUFBWSxPQUFPLFNBQVMsYUFBYTtBQUNuRCxxQkFBVyxNQUFNO0FBQUUsMEJBQWM7QUFBQSxVQUFPLEdBQUcsRUFBRTtBQUFBLFFBQzlDLFdBQVcsYUFBYSxHQUFHO0FBQzFCLHdCQUFjO0FBRWQsZ0JBQU0sU0FBUztBQUNmLG9CQUFVLGFBQWEsY0FBYyxLQUFLLE9BQU8sU0FBUyxhQUFhO0FBQ3ZFLHFCQUFXLE1BQU07QUFBRSwwQkFBYztBQUFBLFVBQU8sR0FBRyxFQUFFO0FBQUEsUUFDOUM7QUFBQSxNQUNELENBQUM7QUFHRCxnQkFBVSxpQkFBaUIsU0FBUyxDQUFDLE9BQU87QUFDM0MsY0FBTSxTQUFTLEdBQUc7QUFDbEIsY0FBTSxTQUFTLFVBQVUsT0FBTyxVQUFXLE9BQU8sUUFBUSxrQkFBa0IsSUFBMkI7QUFDdkcsWUFBSSxDQUFDO0FBQVE7QUFDYixjQUFNLGVBQWUsT0FBTyxPQUFPLFFBQVEsU0FBUyxHQUFHO0FBQ3ZELGNBQU0sYUFBYyxlQUFlLE9BQU8sU0FBVSxPQUFPLFVBQVUsT0FBTztBQUM1RSxjQUFNLGNBQWMsbUJBQW1CLE9BQU8sU0FBUztBQUN2RCxrQkFBVSxZQUFZLGNBQWM7QUFDcEMsd0JBQWdCO0FBQ2hCLCtCQUF1QixPQUFPLFNBQVM7QUFDdkMsWUFBSSxnQkFBZ0I7QUFDcEIsWUFBSTtBQUFVLG1CQUFTLG9CQUFvQjtBQUFBLE1BQzVDLENBQUM7QUFBQSxJQUVGLE9BQU87QUFFTixhQUFPLFFBQVEsQ0FBQyxPQUFPLFVBQVU7QUFDaEMsY0FBTSxPQUFPLFNBQVMsY0FBYyxLQUFLO0FBQ3pDLGFBQUssWUFBWTtBQUNqQixhQUFLLGNBQWMsR0FBRyxNQUFNLFNBQVMsRUFBRSxTQUFTLEdBQUcsR0FBRyxJQUFJO0FBQzFELGFBQUssUUFBUSxRQUFRLE1BQU0sU0FBUztBQUNwQyxhQUFLLFFBQVEsUUFBUSxNQUFNLFNBQVM7QUFFcEMsWUFBSSxVQUFVLHNCQUFzQjtBQUNuQyxlQUFLLFVBQVUsSUFBSSxVQUFVO0FBQUEsUUFDOUI7QUFFQSxrQkFBVSxZQUFZLElBQUk7QUFBQSxNQUMzQixDQUFDO0FBR0QsZ0JBQVUsaUJBQWlCLFVBQVUsTUFBTTtBQUMxQyxjQUFNLFlBQVksVUFBVTtBQUM1QixjQUFNLFdBQVcsS0FBSyxNQUFNLFlBQVksVUFBVTtBQUVsRCxZQUFJLGFBQWEsaUJBQWlCLFlBQVksS0FBSyxXQUFXLE9BQU8sUUFBUTtBQUU1RSxvQkFBVSxpQkFBaUIsa0JBQWtCLEVBQUUsUUFBUSxDQUFDLE1BQU0sVUFBVTtBQUN2RSxpQkFBSyxVQUFVLE9BQU8sWUFBWSxVQUFVLFFBQVE7QUFBQSxVQUNyRCxDQUFDO0FBRUQsMEJBQWdCO0FBQ2hCLGlDQUF1QixPQUFPLFFBQVE7QUFDdEMsY0FBSSxnQkFBZ0I7QUFHcEIsY0FBSSxVQUFVO0FBQ2IscUJBQVMsb0JBQW9CO0FBQUEsVUFDOUI7QUFBQSxRQUNEO0FBQUEsTUFDRCxDQUFDO0FBR0QsZ0JBQVUsaUJBQWlCLFNBQVMsQ0FBQyxPQUFPO0FBQzNDLGNBQU0sU0FBUyxHQUFHO0FBQ2xCLGNBQU0sU0FBUyxVQUFVLE9BQU8sVUFBVyxPQUFPLFFBQVEsa0JBQWtCLElBQTJCO0FBQ3ZHLFlBQUksQ0FBQztBQUFRO0FBQ2IsY0FBTSxNQUFNLE9BQU8sT0FBTyxRQUFRLFNBQVMsR0FBRztBQUU5QyxrQkFBVSxpQkFBaUIsa0JBQWtCLEVBQUUsUUFBUSxDQUFDLElBQUksTUFBTTtBQUNqRSxhQUFHLFVBQVUsT0FBTyxZQUFZLE1BQU0sR0FBRztBQUFBLFFBQzFDLENBQUM7QUFDRCxrQkFBVSxZQUFZLE1BQU07QUFDNUIsd0JBQWdCO0FBQ2hCLCtCQUF1QixPQUFPLEdBQUc7QUFDakMsWUFBSSxnQkFBZ0I7QUFDcEIsWUFBSTtBQUFVLG1CQUFTLG9CQUFvQjtBQUFBLE1BQzVDLENBQUM7QUFHRCxpQkFBVyxNQUFNO0FBQ2hCLGtCQUFVLFlBQVksZ0JBQWdCO0FBQUEsTUFDdkMsR0FBRyxDQUFDO0FBQUEsSUFDTDtBQUVBLFdBQU8sWUFBWSxTQUFTO0FBRTVCLFdBQU87QUFBQSxFQUNSO0FBQUE7QUFBQSxFQUdRLGlCQUFpQixXQUE0RCxNQUFjLE9BQXFCO0FBQ3ZILFVBQU0sWUFBWSxVQUFVLFFBQVEsY0FBYyxtQkFBbUI7QUFDckUsVUFBTSxhQUFhLFVBQVU7QUFDN0IsVUFBTSxVQUFVLEtBQUssYUFBYSxNQUFNLEtBQUs7QUFHN0MsUUFBSyxVQUFrQixPQUFPO0FBQzdCLE1BQUMsVUFBa0IsTUFBTTtBQUFBLElBQzFCLE9BQU87QUFDTixhQUFPLFVBQVU7QUFBWSxrQkFBVSxZQUFZLFVBQVUsVUFBVTtBQUFBLElBQ3hFO0FBR0EsVUFBTSxTQUFTLEtBQUssSUFBSSxHQUFHLE9BQU87QUFDbEMsVUFBTSxjQUFjLEtBQUssSUFBSSxZQUFZLE1BQU07QUFDL0MsVUFBTSxnQkFBZ0IsUUFBUSxRQUFRLFdBQVc7QUFDakQsVUFBTSxhQUFhO0FBR25CLFVBQU0sY0FBYztBQUNwQixVQUFNLGFBQWEsUUFBUSxTQUFTO0FBR3BDLFVBQU0sbUJBQW1CO0FBQ3pCLFVBQU0sbUJBQW1CLG1CQUFtQixRQUFRLFNBQVMsYUFBYSxnQkFBZ0I7QUFHMUYsYUFBUyxTQUFTLEdBQUcsU0FBUyxhQUFhLFVBQVU7QUFDcEQsY0FBUSxRQUFRLENBQUMsS0FBSyxVQUFVO0FBQy9CLGNBQU0sT0FBTyxTQUFTLGNBQWMsS0FBSztBQUN6QyxhQUFLLFlBQVk7QUFDakIsYUFBSyxjQUFjLEdBQUcsSUFBSSxTQUFTLEVBQUUsU0FBUyxHQUFHLEdBQUc7QUFDcEQsYUFBSyxRQUFRLFFBQVEsSUFBSSxTQUFTO0FBQ2xDLGFBQUssUUFBUSxTQUFTLFNBQVMsUUFBUSxTQUFTLE9BQU8sU0FBUztBQUNoRSxhQUFLLFFBQVEsWUFBWSxJQUFJLFNBQVM7QUFFdEMsa0JBQVUsWUFBWSxJQUFJO0FBQUEsTUFDM0IsQ0FBQztBQUFBLElBQ0Y7QUFHQSxjQUFVLE1BQU0sU0FBUyxHQUFHLGFBQWE7QUFFekMsVUFBTSxzQkFBc0IsbUJBQW1CLFFBQVEsU0FBUztBQUNoRSxVQUFNLFdBQVcsTUFBTSxLQUFLLFVBQVUsaUJBQWlCLGtCQUFrQixDQUFDO0FBQzFFLFFBQUksU0FBUyxtQkFBbUIsR0FBRztBQUNsQyxlQUFTLFFBQVEsQ0FBQyxJQUFJLFFBQVEsR0FBRyxVQUFVLE9BQU8sWUFBWSxRQUFRLG1CQUFtQixDQUFDO0FBQUEsSUFDM0Y7QUFDQSwwQkFBc0IsTUFBTTtBQUMzQixnQkFBVSxZQUFZO0FBQUEsSUFDdkIsQ0FBQztBQUdELGNBQVUsZ0JBQWdCO0FBRzFCLFFBQUksY0FBYztBQUNsQixjQUFVLGlCQUFpQixVQUFVLE1BQU07QUFDMUMsVUFBSTtBQUFhO0FBRWpCLFlBQU0sWUFBWSxVQUFVO0FBQzVCLFlBQU0sZUFBZSxLQUFLLE1BQU0sWUFBWSxVQUFVO0FBQ3RELFlBQU0sWUFBWSxlQUFlLFFBQVE7QUFDekMsWUFBTSxZQUFZLFFBQVEsU0FBUztBQUduQyxnQkFBVSxpQkFBaUIsa0JBQWtCLEVBQUUsUUFBUSxDQUFDLE1BQU0sVUFBVTtBQUN2RSxjQUFNLGdCQUFnQixRQUFRLFFBQVE7QUFDdEMsYUFBSyxVQUFVLE9BQU8sWUFBWSxrQkFBa0IsU0FBUztBQUFBLE1BQzlELENBQUM7QUFFRCxnQkFBVSxnQkFBZ0I7QUFHMUIsWUFBTSxnQkFBZ0IsY0FBYyxLQUFLLFFBQVEsU0FBUztBQUMxRCxZQUFNLGVBQWUsUUFBUSxTQUFTO0FBRXRDLFVBQUksYUFBYSxjQUFjO0FBQzlCLHNCQUFjO0FBRWQsY0FBTSxTQUFTLFlBQVk7QUFDM0Isa0JBQVUsWUFBWSxRQUFRLFNBQVMsYUFBYTtBQUNwRCxtQkFBVyxNQUFNO0FBQUUsd0JBQWM7QUFBQSxRQUFPLEdBQUcsRUFBRTtBQUFBLE1BQzlDLFdBQVcsYUFBYSxHQUFHO0FBQzFCLHNCQUFjO0FBRWQsY0FBTSxTQUFTO0FBQ2Ysa0JBQVUsYUFBYSxjQUFjLEtBQUssUUFBUSxTQUFTLGFBQWE7QUFDeEUsbUJBQVcsTUFBTTtBQUFFLHdCQUFjO0FBQUEsUUFBTyxHQUFHLEVBQUU7QUFBQSxNQUM5QztBQUFBLElBQ0QsQ0FBQztBQUFBLEVBQ0Y7QUFDRDs7O0FGcnBCQTtBQUdPLElBQU0sbUJBQU4sY0FBK0IsMEJBQVM7QUFBQSxFQVk5QyxZQUFZLE1BQXFCLGlCQUFrQyxVQUFtQjtBQUNyRixVQUFNLElBQUk7QUFYWCxTQUFRLFNBQWtCLENBQUM7QUFLM0I7QUFBQSxTQUFRLGVBQXlCLENBQUM7QUFFbEM7QUFBQSxTQUFRLGNBQXNCO0FBQzNCLFNBQVEsV0FBNEQ7QUFJdEUsU0FBSyxrQkFBa0I7QUFDdkIsU0FBSyxXQUFXO0FBQ2hCLFNBQUssZUFBZSxJQUFJLEtBQUs7QUFBQSxFQUM5QjtBQUFBLEVBRUEsY0FBc0I7QUFDckIsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGlCQUF5QjtBQUN4QixXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsVUFBa0I7QUFDakIsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQU0sU0FBUztBQTFDaEI7QUEyQ0UsVUFBTSxFQUFFLFlBQVksSUFBSTtBQUN4QixnQkFBWSxNQUFNO0FBQ2xCLGdCQUFZLFNBQVMsV0FBVztBQUdoQyxTQUFLLHNCQUFzQjtBQUczQixRQUFJO0FBQ0gsWUFBTSxVQUFVLGdCQUFLLElBQVksWUFBakIsbUJBQTBCLFlBQTFCLG1CQUFvQztBQUNwRCxVQUFJLFVBQVUsT0FBTyxZQUFZLE9BQU8sU0FBUyxhQUFhO0FBQzdELGFBQUssV0FBVyxPQUFPLFNBQVM7QUFBQSxNQUNqQztBQUFBLElBQ0QsU0FBUyxHQUFQO0FBQUEsSUFBVztBQUdQLFFBQUksS0FBSyxVQUFVO0FBQ3hCLFdBQUssUUFBUSxLQUFLLFFBQVE7QUFDMUI7QUFBQSxJQUNEO0FBR0EsVUFBTSxPQUFPLFlBQVksVUFBVTtBQUNuQyxTQUFLLE1BQU0sVUFBVTtBQUNyQixTQUFLLE1BQU0sVUFBVTtBQUNyQixTQUFLLGNBQWMsRUFBRSx3QkFBd0I7QUFDN0M7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLFVBQVU7QUFDZixVQUFNLEVBQUUsWUFBWSxJQUFJO0FBQ3hCLGdCQUFZLE1BQU07QUFFbEIsUUFBSTtBQUFFLFdBQUssc0JBQXNCO0FBQUEsSUFBRyxTQUFTLEdBQVA7QUFBQSxJQUFXO0FBQ2pELEtBQUMsZ0NBQWdDLDJCQUEyQixFQUFFLFFBQVEsQ0FBQyxPQUFPO0FBQzdFLFlBQU0sS0FBSyxTQUFTLGVBQWUsRUFBRTtBQUNyQyxVQUFJLE1BQU0sR0FBRztBQUFlLFdBQUcsY0FBYyxZQUFZLEVBQUU7QUFBQSxJQUM1RCxDQUFDO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBYyxRQUFRLFVBQWtCO0FBRXZDLFVBQU0sU0FBVSxLQUFLLElBQVksUUFBUSxRQUFRLGFBQWE7QUFDOUQsUUFBSSxRQUFRO0FBQ1gsYUFBTyxrQkFBa0IsSUFBSSxnQkFBZ0IsS0FBSyxLQUFLLFFBQVE7QUFDL0QsV0FBSyxrQkFBa0IsT0FBTztBQUU5QixXQUFLLFdBQVc7QUFBQSxJQUNqQjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQWMsYUFBYTtBQUMxQixTQUFLLFNBQVMsTUFBTSxLQUFLLGdCQUFnQixRQUFRO0FBQ2pELFNBQUssYUFBYTtBQUFBLEVBQ25CO0FBQUEsRUFFUSxtQkFBbUI7QUFDMUIsVUFBTSxFQUFFLFlBQVksSUFBSTtBQUN4QixnQkFBWSxNQUFNO0FBQ2xCLGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0sRUFBRSx1QkFBdUIsRUFBRSxDQUFDO0FBQy9ELGdCQUFZLFNBQVMsS0FBSyxFQUFFLE1BQU0sRUFBRSxzQkFBc0IsRUFBRSxDQUFDO0FBRTdELFVBQU0sUUFBUSxLQUFLLElBQUksTUFBTSxpQkFBaUI7QUFDOUMsVUFBTSxXQUFXLFlBQVksVUFBVSxXQUFXO0FBRWxELFVBQU0sUUFBUSxVQUFRO0FBQ3JCLFlBQU0sV0FBVyxTQUFTLFVBQVUsV0FBVztBQUMvQyxlQUFTLFNBQVMsT0FBTyxFQUFFLE1BQU0sS0FBSyxLQUFLLENBQUM7QUFDNUMsZUFBUyxpQkFBaUIsU0FBUyxZQUFZO0FBRTlDLGNBQU0sU0FBVSxLQUFLLElBQVksUUFBUSxRQUFRLGFBQWE7QUFDOUQsWUFBSSxRQUFRO0FBQ1gsaUJBQU8sa0JBQWtCLElBQUksZ0JBQWdCLEtBQUssS0FBSyxLQUFLLElBQUk7QUFDaEUsZUFBSyxrQkFBa0IsT0FBTztBQUU5QixlQUFLLFdBQVc7QUFBQSxRQUNqQjtBQUFBLE1BQ0QsQ0FBQztBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0Y7QUFBQSxFQUVRLGVBQWU7QUFDdEIsVUFBTSxFQUFFLFlBQVksSUFBSTtBQUd4QixnQkFBWSxNQUFNO0FBQ2xCLGdCQUFZLFNBQVMsV0FBVztBQUdoQyxTQUFLLGlCQUFpQixXQUFXO0FBRWpDLFNBQUssZ0JBQWdCLFdBQVc7QUFFaEMsVUFBTSxrQkFBa0IsWUFBWSxVQUFVLGtCQUFrQjtBQUNoRSxTQUFLLGlCQUFpQixlQUFlO0FBQUEsRUFDdEM7QUFBQSxFQUVRLGlCQUFpQixpQkFBOEI7QUFDdEQsb0JBQWdCLE1BQU07QUFDdEIsUUFBSSxLQUFLLE9BQU8sV0FBVyxHQUFHO0FBQzdCLHNCQUFnQixTQUFTLEtBQUssRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLENBQUM7QUFDdkQ7QUFBQSxJQUNEO0FBQ0EsVUFBTSxXQUFXLEtBQUssZ0JBQWdCLElBQUksS0FBSztBQUMvQyxRQUFJLGdCQUFnQixLQUFLLE9BQU8sT0FBTyxPQUFLLEVBQUUsY0FBYyxRQUFRO0FBQ3BFLFFBQUksS0FBSyxhQUFhLFNBQVMsR0FBRztBQUNqQyxzQkFBZ0IsY0FBYyxPQUFPLE9BQUU7QUFySjFDO0FBcUo2Qyx1QkFBRSxTQUFGLG1CQUFRLEtBQUssQ0FBQUMsT0FBSyxLQUFLLGFBQWEsU0FBU0EsRUFBQztBQUFBLE9BQUU7QUFBQSxJQUMzRjtBQUVBLFFBQUksS0FBSyxlQUFlLEtBQUssWUFBWSxLQUFLLEdBQUc7QUFDaEQsWUFBTSxJQUFJLEtBQUssWUFBWSxLQUFLLEVBQUUsWUFBWTtBQUM5QyxzQkFBZ0IsY0FBYyxPQUFPLE9BQUs7QUFDekMsY0FBTSxXQUFXLEVBQUUsUUFBUSxJQUFJLFlBQVksRUFBRSxTQUFTLENBQUM7QUFDdkQsY0FBTSxVQUFVLEVBQUUsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFBQSxRQUFNQSxNQUFLLElBQUksWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzNFLGVBQU8sV0FBVztBQUFBLE1BQ25CLENBQUM7QUFBQSxJQUNGO0FBRU0sUUFBSSxLQUFLLGFBQWEsUUFBUTtBQUMxQixzQkFBZ0IsQ0FBQyxHQUFHLGFBQWEsRUFBRSxLQUFLLENBQUMsR0FBRyxNQUFNO0FBbEs5RDtBQW1LZ0IsWUFBSSxLQUFLLGFBQWEsYUFBYTtBQUMvQixnQkFBTSxRQUFRLEVBQUUsYUFBYSxRQUFRO0FBQ3JDLGdCQUFNLFFBQVEsRUFBRSxhQUFhLFFBQVE7QUFDckMsaUJBQU8sUUFBUTtBQUFBLFFBQ25CO0FBQ0EsWUFBSSxLQUFLLGFBQWEsYUFBYTtBQUMvQixpQkFBTyxPQUFPLEVBQUUsU0FBUyxDQUFDLElBQUksT0FBTyxFQUFFLFNBQVMsQ0FBQztBQUFBLFFBQ3JEO0FBQ0EsWUFBSSxLQUFLLGFBQWEsWUFBWTtBQUM5QixnQkFBTSxPQUFLLGFBQUUsZUFBRixtQkFBYyxZQUFkLGdDQUE2QjtBQUN4QyxnQkFBTSxPQUFLLGFBQUUsZUFBRixtQkFBYyxZQUFkLGdDQUE2QjtBQUN4QyxpQkFBTyxLQUFLO0FBQUEsUUFDaEI7QUFDQSxlQUFPO0FBQUEsTUFDWCxDQUFDO0FBQUEsSUFDTDtBQUNOLGtCQUFjLFFBQVEsV0FBUztBQUM5QixZQUFNLFlBQVksQ0FBQyxFQUFFLE1BQU0sWUFBWSxNQUFNLFlBQVk7QUFDekQsWUFBTSxVQUFVLFlBQVksTUFBTSxTQUFVLFlBQVksRUFBRSxNQUFNLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxZQUFZO0FBQ3hGLFlBQU0sVUFBVSxnQkFBZ0IsVUFBVSxZQUFZO0FBQ3RELFVBQUk7QUFBVyxnQkFBUSxTQUFTLHFCQUFxQjtBQUNyRCxVQUFJLE1BQU07QUFBUSxnQkFBUSxTQUFTLFFBQVE7QUFFM0MsWUFBTSxTQUFTLFFBQVEsVUFBVSxZQUFZO0FBQzdDLFlBQU0sVUFBVSxPQUFPLFVBQVUsYUFBYTtBQUM5QyxjQUFRLGNBQWMsR0FBRyxNQUFNLFFBQVEsTUFBTTtBQUM3QyxZQUFNLFNBQVMsT0FBTyxVQUFVLFlBQVk7QUFDNUMsYUFBTyxjQUFjLEdBQUcsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLE1BQU0sYUFBYSxRQUFRLEVBQUUsQ0FBQyxNQUFNLE1BQU0sV0FBVyxZQUFZLEVBQUUsTUFBTSxHQUFHLEVBQUUsQ0FBQyxPQUFPLE1BQU0sV0FBVyxVQUFVLEVBQUUsWUFBWTtBQUNsTCxZQUFNLGlCQUFpQixPQUFPLFVBQVUscUJBQXFCO0FBQzdELE9BQUMsTUFBTSxRQUFRLENBQUMsR0FBRyxRQUFRLFNBQU87QUFDakMsY0FBTSxRQUFRLGVBQWUsV0FBVyxLQUFLO0FBQzdDLGNBQU0sY0FBYztBQUFBLE1BQ3JCLENBQUM7QUFDRCxZQUFNLFVBQVUsUUFBUSxVQUFVLGFBQWE7QUFDL0MsWUFBTSxZQUFZLFFBQVEsVUFBVSxrQkFBa0I7QUFDdEQsWUFBTSxZQUFZLFVBQVUsVUFBVSxhQUFhO0FBQ25ELGdCQUFVLGNBQWMsR0FBRyxFQUFFLFlBQVk7QUFDekMsWUFBTSxZQUFZLFVBQVUsVUFBVSxpQkFBaUI7QUFDdkQsZ0JBQVUsY0FBYyxLQUFLLGtCQUFrQixJQUFJLEdBQUcsTUFBTSxhQUFhLFFBQVEsRUFBRSxRQUFRLENBQUM7QUFDNUYsWUFBTSxZQUFZLFFBQVEsVUFBVSxhQUFhO0FBQ2pELGdCQUFVLGNBQWMsR0FBRyxFQUFFLFlBQVksS0FBSyxLQUFLLGtCQUFrQixJQUFJLE1BQU07QUFDL0UsWUFBTSxjQUFjLFFBQVEsVUFBVSxhQUFhO0FBQ25ELGtCQUFZLGNBQWMsR0FBRyxFQUFFLG1CQUFtQixLQUFLLEtBQUssa0JBQWtCLElBQUksTUFBTTtBQUN4RixVQUFJLGVBQWU7QUFDbkIsY0FBUSxpQkFBaUIsU0FBUyxDQUFDLE1BQU07QUFDeEMsWUFBSSxjQUFjO0FBQ2pCLHlCQUFlO0FBQ2YsWUFBRSxlQUFlO0FBQ2pCLFlBQUUsZ0JBQWdCO0FBQ2xCO0FBQUEsUUFDRDtBQUNBLFlBQUksZUFBZSxLQUFLLEtBQUssS0FBSyxpQkFBaUIsT0FBTyxNQUFNLEtBQUssV0FBVyxDQUFDLEVBQUUsS0FBSztBQUFBLE1BQ3pGLENBQUM7QUFHRCxVQUFJLGFBQTRCO0FBQ2hDLFlBQU0sYUFBYSxDQUFDLE9BQWlDO0FBRXBELFlBQUksTUFBTSxZQUFZLE1BQU0sT0FBTyxHQUFHLFdBQVcsWUFBWSxHQUFHLFdBQVc7QUFBRztBQUM5RSxZQUFJO0FBQVksaUJBQU8sYUFBYSxVQUFVO0FBQzlDLHFCQUFhLE9BQU8sV0FBVyxNQUFNO0FBQ3BDLHlCQUFlO0FBQ2YsZ0JBQU0sU0FBUyxDQUFDLE1BQU07QUFDdEIsa0JBQVEsVUFBVSxPQUFPLFVBQVUsTUFBTSxNQUFNO0FBQy9DLGVBQUssc0JBQXNCO0FBQUEsUUFDNUIsR0FBRyxHQUFHO0FBQUEsTUFDUDtBQUNBLFlBQU0sY0FBYyxNQUFNO0FBQUUsWUFBSSxZQUFZO0FBQUUsaUJBQU8sYUFBYSxVQUFVO0FBQUcsdUJBQWE7QUFBQSxRQUFNO0FBQUEsTUFBRTtBQUNwRyxjQUFRLGlCQUFpQixhQUFhLFVBQVU7QUFDaEQsY0FBUSxpQkFBaUIsY0FBYyxZQUFZLEVBQUUsU0FBUyxLQUFLLENBQVE7QUFDM0UsY0FBUSxpQkFBaUIsV0FBVyxXQUFXO0FBQy9DLGNBQVEsaUJBQWlCLGNBQWMsV0FBVztBQUNsRCxjQUFRLGlCQUFpQixZQUFZLFdBQVc7QUFDaEQsY0FBUSxpQkFBaUIsZUFBZSxPQUFPLE1BQU07QUFDcEQsVUFBRSxlQUFlO0FBQ2pCLGNBQU0sS0FBSyxNQUFNLElBQUksYUFBYSxFQUFFLDJCQUEyQixFQUFFLE1BQU0sTUFBTSxLQUFLLENBQUMsR0FBRyxFQUFFLGVBQWUsR0FBRyxFQUFFLGVBQWUsR0FBRyxJQUFJLEVBQUUsS0FBSztBQUN6SSxZQUFJLENBQUM7QUFBSTtBQUNULGNBQU0sS0FBSyxnQkFBZ0IsWUFBWSxNQUFNLEVBQUU7QUFDL0MsYUFBSyxXQUFXO0FBQUEsTUFDakIsQ0FBQztBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0Y7QUFBQTtBQUFBLEVBR1Esd0JBQXdCO0FBQy9CLFFBQUksQ0FBQyxLQUFLO0FBQXFCO0FBQy9CLFVBQU0sV0FBVyxLQUFLLGdCQUFnQixJQUFJLEtBQUs7QUFDL0MsVUFBTSxlQUFlLEtBQUssT0FBTyxPQUFPLE9BQUssRUFBRSxTQUFTLFFBQVEsS0FBSyxDQUFDLEVBQUUsTUFBTTtBQUM5RSxVQUFNLHVCQUF1QixLQUFLLGVBQWUsWUFBWTtBQUM3RCxVQUFNLFlBQVkscUJBQXFCLE9BQU8sQ0FBQyxLQUFLLE1BQU0sTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUMxRSxVQUFNLGVBQWUscUJBQXFCLE9BQU8sQ0FBQyxLQUFLLE1BQU0sTUFBTSxFQUFFLGNBQWMsQ0FBQztBQUNwRixVQUFNLGlCQUFpQixxQkFBcUIsT0FBTyxDQUFDLEtBQUssTUFBTSxNQUFNLEVBQUUsYUFBYSxRQUFRLEdBQUcsQ0FBQztBQUNoRyxTQUFLLG9CQUFvQixjQUFjLGdCQUFnQixXQUFXLFlBQVk7QUFBQSxFQUMvRTtBQUFBO0FBQUEsRUFHUSxnQkFBZ0IsYUFBMEI7QUFDakQsU0FBSyxzQkFBc0I7QUFDM0IsVUFBTSxNQUFNLFlBQVksVUFBVSxvQkFBb0I7QUFDdEQsU0FBSyxjQUFjO0FBR25CLFVBQU0sVUFBVSxJQUFJLFVBQVUsRUFBRSxLQUFLLHFCQUFxQixNQUFNLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxFQUFFLENBQUM7QUFDM0YsWUFBUSxZQUFZLEtBQUssUUFBUSxDQUFDO0FBQ2xDLFlBQVEsaUJBQWlCLFNBQVMsQ0FBQyxNQUFNO0FBQ3hDLFFBQUUsZUFBZTtBQUVqQixVQUFJO0FBQUUsYUFBSyxLQUFLLE9BQU87QUFBQSxNQUFHLFNBQVMsR0FBUDtBQUFBLE1BQVc7QUFBQSxJQUN4QyxDQUFDO0FBR0QsVUFBTSxhQUFhLElBQUksVUFBVSxzQkFBc0I7QUFDdkQsVUFBTSxnQkFBZ0IsV0FBVyxTQUFTLFVBQVUsRUFBRSxLQUFLLDRCQUE0QixNQUFNLEVBQUUsTUFBTSxVQUFVLGNBQWMsRUFBRSxrQkFBa0IsRUFBRSxFQUFFLENBQUM7QUFDdEosa0JBQWMsWUFBWSxLQUFLLFVBQVUsQ0FBQztBQUMxQyxVQUFNLGNBQWMsV0FBVyxTQUFTLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxRQUFRLGFBQWEsRUFBRSx5QkFBeUIsRUFBRSxFQUFFLENBQUM7QUFDdEgsUUFBSSxLQUFLO0FBQWEsa0JBQVksUUFBUSxLQUFLO0FBQy9DLGtCQUFjLGlCQUFpQixTQUFTLE1BQU0sWUFBWSxNQUFNLENBQUM7QUFDakUsZ0JBQVksaUJBQWlCLFNBQVMsTUFBTTtBQUMzQyxXQUFLLGNBQWMsWUFBWSxTQUFTO0FBQ3hDLFdBQUsscUJBQXFCO0FBQUEsSUFDM0IsQ0FBQztBQUdELFVBQU0sVUFBVSxJQUFJLFVBQVUsdUJBQXVCO0FBQ3JELFVBQU0sVUFBVSxRQUFRLFVBQVUsRUFBRSxLQUFLLHFCQUFxQixNQUFNLEVBQUUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLEVBQUUsQ0FBQztBQUNyRyxZQUFRLFlBQVksS0FBSyxRQUFRLENBQUM7QUFDbEMsVUFBTSxvQkFBb0IsTUFBTTtBQUMvQixjQUFRLFVBQVUsT0FBTyxVQUFVLEtBQUssYUFBYSxNQUFNO0FBQzNELGNBQVEsUUFBUSxhQUFhLEtBQUssUUFBUTtBQUMxQyxjQUFRLFFBQVEsZ0JBQWdCLE9BQU8sS0FBSyxhQUFhLE1BQU0sQ0FBQztBQUNoRSxZQUFNLFFBQVEsS0FBSyxhQUFhLGNBQWMsRUFBRSwyQkFBMkIsSUFDeEUsS0FBSyxhQUFhLGNBQWMsRUFBRSwyQkFBMkIsSUFDN0QsS0FBSyxhQUFhLGFBQWEsRUFBRSwwQkFBMEIsSUFDM0QsRUFBRSxpQkFBaUI7QUFDYixjQUFRLFFBQVEsU0FBUyxLQUFLO0FBQUEsSUFDeEM7QUFDQSxzQkFBa0I7QUFDWixZQUFRLGlCQUFpQixTQUFTLENBQUMsTUFBTTtBQUNyQyxRQUFFLGVBQWU7QUFDakIsV0FBSyxhQUFhLFNBQVMsQ0FBQyxTQUFTO0FBQ2pDLGFBQUssV0FBVztBQUNoQiwwQkFBa0I7QUFDbEIsYUFBSyxxQkFBcUI7QUFBQSxNQUM5QixDQUFDO0FBQUEsSUFDTCxDQUFDO0FBRVAsVUFBTSxTQUFTLFFBQVEsVUFBVSxFQUFFLEtBQUssb0JBQW9CLE1BQU0sRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLEVBQUUsQ0FBQztBQUM1RixXQUFPLFlBQVksS0FBSyxRQUFRLENBQUM7QUFDakMsV0FBTyxpQkFBaUIsU0FBUyxNQUFNO0FBQ3RDLFVBQUksZUFBZSxLQUFLLEtBQUssS0FBSyxpQkFBaUIsUUFBVyxNQUFNLEtBQUssV0FBVyxDQUFDLEVBQUUsS0FBSztBQUFBLElBQzdGLENBQUM7QUFBQSxFQUNGO0FBQUEsRUFFUSx1QkFBdUI7QUFDOUIsVUFBTSxFQUFFLFlBQVksSUFBSTtBQUN4QixVQUFNLFNBQVMsWUFBWSxjQUFjLG1CQUFtQjtBQUM1RCxRQUFJLFFBQVE7QUFDWCxNQUFDLE9BQXVCLE9BQU87QUFDL0IsWUFBTSxVQUFVLFlBQVksVUFBVSxrQkFBa0I7QUFDeEQsV0FBSyxpQkFBaUIsT0FBTztBQUFBLElBQzlCO0FBQUEsRUFDRDtBQUFBLEVBRVEsd0JBQXdCO0FBQy9CLFVBQU0sV0FBVztBQUNqQixRQUFJLFNBQVMsZUFBZSxRQUFRO0FBQUc7QUFDdkMsVUFBTSxRQUFRLFNBQVMsY0FBYyxPQUFPO0FBQzVDLFVBQU0sS0FBSztBQUNYLFVBQU0sY0FBYztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUE4QnBCLGFBQVMsS0FBSyxZQUFZLEtBQUs7QUFBQSxFQUNoQztBQUFBLEVBRVEsd0JBQXdCO0FBQy9CLFVBQU0sV0FBVztBQUNqQixRQUFJLFNBQVMsZUFBZSxRQUFRO0FBQUc7QUFDdkMsVUFBTSxRQUFRLFNBQVMsY0FBYyxPQUFPO0FBQzVDLFVBQU0sS0FBSztBQUNYLFVBQU0sY0FBYztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWFwQixhQUFTLEtBQUssWUFBWSxLQUFLO0FBQUEsRUFDaEM7QUFBQSxFQUVXLGFBQWEsVUFBdUIsVUFBMkU7QUFFbkgsU0FBSyxzQkFBc0I7QUFFM0IsVUFBTSxPQUFPLFNBQVMsc0JBQXNCO0FBQzVDLFVBQU0sT0FBTyxTQUFTLGNBQWMsS0FBSztBQUN6QyxTQUFLLFlBQVk7QUFFakIsVUFBTSxZQUFZLENBQUMsT0FBZSxVQUEyRDtBQUN6RixZQUFNLE9BQU8sU0FBUyxjQUFjLEtBQUs7QUFDekMsV0FBSyxZQUFZLGVBQWUsS0FBSyxhQUFhLFFBQVEsWUFBWTtBQUN0RSxXQUFLLGNBQWM7QUFDbkIsV0FBSyxpQkFBaUIsU0FBUyxDQUFDLE9BQU87QUFDbkMsV0FBRyxnQkFBZ0I7QUFDbkIsY0FBTSxPQUFPLEtBQUssYUFBYSxRQUFRLFNBQVM7QUFDaEQsaUJBQVMsSUFBVztBQUNwQixhQUFLLHNCQUFzQjtBQUFBLE1BQy9CLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUVOLFNBQUssWUFBWSxVQUFVLEVBQUUsMEJBQTBCLEdBQUcsV0FBVyxDQUFDO0FBQ3RFLFNBQUssWUFBWSxVQUFVLEVBQUUsMEJBQTBCLEdBQUcsV0FBVyxDQUFDO0FBQ3RFLFNBQUssWUFBWSxVQUFVLEVBQUUseUJBQXlCLEdBQUcsVUFBVSxDQUFDO0FBRTlELGFBQVMsS0FBSyxZQUFZLElBQUk7QUFFOUIsVUFBTSxNQUFNLEtBQUssU0FBUztBQUMxQixVQUFNLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSSxHQUFHLEtBQUssSUFBSSxHQUFHLE9BQU8sYUFBYSxHQUFHO0FBQ3JFLFNBQUssTUFBTSxNQUFNLEdBQUc7QUFDcEIsU0FBSyxNQUFNLE9BQU8sR0FBRztBQUUzQixVQUFNLGFBQWEsQ0FBQyxPQUFtQjtBQUN0QyxVQUFJLENBQUMsS0FBSyxTQUFTLEdBQUcsTUFBYztBQUFHLGFBQUssc0JBQXNCO0FBQUEsSUFDbkU7QUFDQSxVQUFNLFFBQVEsQ0FBQyxPQUFzQjtBQUNwQyxVQUFJLEdBQUcsUUFBUTtBQUFVLGFBQUssc0JBQXNCO0FBQUEsSUFDckQ7QUFFQSxTQUFLLGlCQUFpQixVQUFVLGFBQWEsWUFBbUIsRUFBRSxNQUFNLEtBQUssQ0FBUTtBQUNyRixTQUFLLGlCQUFpQixVQUFVLFdBQVcsT0FBYyxFQUFFLE1BQU0sS0FBSyxDQUFRO0FBQzlFLElBQUMsS0FBYSxXQUFXO0FBQUEsRUFDdkI7QUFBQTtBQUFBLEVBR0EsV0FBZ0I7QUFDWixXQUFPLEVBQUUsVUFBVSxLQUFLLFNBQVM7QUFBQSxFQUNyQztBQUFBLEVBRUEsTUFBTSxTQUFTLE9BQVksUUFBNEI7QUFDbkQsVUFBTSxXQUFXLCtCQUFPO0FBQ3hCLFFBQUksWUFBWSxhQUFhLEtBQUssVUFBVTtBQUN4QyxXQUFLLFdBQVc7QUFDaEIsWUFBTSxLQUFLLFFBQVEsUUFBUTtBQUMzQjtBQUFBLElBQ0o7QUFFQSxVQUFNLEVBQUUsWUFBWSxJQUFJO0FBQ3hCLGdCQUFZLE1BQU07QUFDbEIsZ0JBQVksU0FBUyxXQUFXO0FBQ2hDLFVBQU0sT0FBTyxZQUFZLFVBQVU7QUFDbkMsU0FBSyxNQUFNLFVBQVU7QUFDckIsU0FBSyxNQUFNLFVBQVU7QUFDckIsU0FBSyxjQUFjO0FBQUEsRUFDdkI7QUFBQSxFQUVRLHdCQUF3QjtBQUM1QixVQUFNLFdBQVcsU0FBUyxjQUFjLGdCQUFnQjtBQUN4RCxRQUFJLFVBQVU7QUFDVixZQUFNLFVBQVcsU0FBaUI7QUFDbEMsVUFBSTtBQUFTLGdCQUFRO0FBQ3JCLGVBQVMsT0FBTztBQUFBLElBQ3BCO0FBQUEsRUFDSjtBQUFBLEVBRUssWUFBMkI7QUFDbEMsVUFBTSxNQUFNLFNBQVMsZ0JBQWdCLDhCQUE4QixLQUFLO0FBQ3hFLFFBQUksYUFBYSxXQUFXLFdBQVc7QUFDdkMsUUFBSSxhQUFhLFFBQVEsTUFBTTtBQUMvQixVQUFNLFNBQVMsU0FBUyxnQkFBZ0IsOEJBQThCLFFBQVE7QUFDOUUsV0FBTyxhQUFhLE1BQU0sSUFBSTtBQUM5QixXQUFPLGFBQWEsTUFBTSxJQUFJO0FBQzlCLFdBQU8sYUFBYSxLQUFLLEdBQUc7QUFDNUIsV0FBTyxhQUFhLFVBQVUsY0FBYztBQUM1QyxXQUFPLGFBQWEsZ0JBQWdCLEdBQUc7QUFDdkMsUUFBSSxZQUFZLE1BQU07QUFDdEIsVUFBTSxPQUFPLFNBQVMsZ0JBQWdCLDhCQUE4QixNQUFNO0FBQzFFLFNBQUssYUFBYSxNQUFNLElBQUk7QUFDNUIsU0FBSyxhQUFhLE1BQU0sSUFBSTtBQUM1QixTQUFLLGFBQWEsTUFBTSxPQUFPO0FBQy9CLFNBQUssYUFBYSxNQUFNLE9BQU87QUFDL0IsU0FBSyxhQUFhLFVBQVUsY0FBYztBQUMxQyxTQUFLLGFBQWEsZ0JBQWdCLEdBQUc7QUFDckMsU0FBSyxhQUFhLGtCQUFrQixPQUFPO0FBQzNDLFFBQUksWUFBWSxJQUFJO0FBQ3BCLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFUSxVQUF5QjtBQUNoQyxVQUFNLE1BQU0sU0FBUyxnQkFBZ0IsOEJBQThCLEtBQUs7QUFDeEUsUUFBSSxhQUFhLFdBQVcsV0FBVztBQUN2QyxRQUFJLGFBQWEsUUFBUSxNQUFNO0FBQy9CLFVBQU0sT0FBTyxTQUFTLGdCQUFnQiw4QkFBOEIsTUFBTTtBQUMxRSxTQUFLLGFBQWEsS0FBSyxrQkFBa0I7QUFDekMsU0FBSyxhQUFhLFVBQVUsY0FBYztBQUMxQyxTQUFLLGFBQWEsZ0JBQWdCLEdBQUc7QUFDckMsU0FBSyxhQUFhLGtCQUFrQixPQUFPO0FBQzNDLFFBQUksWUFBWSxJQUFJO0FBQ3BCLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFUSxVQUF5QjtBQUNoQyxVQUFNLE1BQU0sU0FBUyxnQkFBZ0IsOEJBQThCLEtBQUs7QUFDeEUsUUFBSSxhQUFhLFdBQVcsV0FBVztBQUN2QyxRQUFJLGFBQWEsUUFBUSxNQUFNO0FBQy9CLFVBQU0sS0FBSyxTQUFTLGdCQUFnQiw4QkFBOEIsTUFBTTtBQUN4RSxPQUFHLGFBQWEsS0FBSyxjQUFjO0FBQ25DLE9BQUcsYUFBYSxVQUFVLGNBQWM7QUFDeEMsT0FBRyxhQUFhLGdCQUFnQixHQUFHO0FBQ25DLE9BQUcsYUFBYSxrQkFBa0IsT0FBTztBQUN6QyxPQUFHLGFBQWEsbUJBQW1CLE9BQU87QUFDMUMsUUFBSSxZQUFZLEVBQUU7QUFDbEIsVUFBTSxLQUFLLFNBQVMsZ0JBQWdCLDhCQUE4QixNQUFNO0FBQ3hFLE9BQUcsYUFBYSxLQUFLLGlCQUFpQjtBQUN0QyxPQUFHLGFBQWEsVUFBVSxjQUFjO0FBQ3hDLE9BQUcsYUFBYSxnQkFBZ0IsR0FBRztBQUNuQyxPQUFHLGFBQWEsa0JBQWtCLE9BQU87QUFDekMsT0FBRyxhQUFhLG1CQUFtQixPQUFPO0FBQzFDLFFBQUksWUFBWSxFQUFFO0FBQ2xCLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFUSxVQUF5QjtBQUNoQyxVQUFNLE1BQU0sU0FBUyxnQkFBZ0IsOEJBQThCLEtBQUs7QUFDeEUsUUFBSSxhQUFhLFdBQVcsV0FBVztBQUN2QyxRQUFJLGFBQWEsUUFBUSxNQUFNO0FBQy9CLFVBQU0sT0FBTyxTQUFTLGdCQUFnQiw4QkFBOEIsTUFBTTtBQUMxRSxTQUFLLGFBQWEsS0FBSyxpQkFBaUI7QUFDeEMsU0FBSyxhQUFhLFVBQVUsY0FBYztBQUMxQyxTQUFLLGFBQWEsZ0JBQWdCLEdBQUc7QUFDckMsU0FBSyxhQUFhLGtCQUFrQixPQUFPO0FBQzNDLFNBQUssYUFBYSxtQkFBbUIsT0FBTztBQUM1QyxRQUFJLFlBQVksSUFBSTtBQUNwQixXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRVEsaUJBQWlCLGFBQTBCO0FBRWxELFVBQU0sV0FBVyxLQUFLLGdCQUFnQixJQUFJLEtBQUs7QUFDL0MsVUFBTSxlQUFlLEtBQUssT0FBTyxPQUFPLFdBQVMsTUFBTSxTQUFTLFFBQVEsS0FBSyxDQUFDLE1BQU0sTUFBTTtBQUMxRixVQUFNLHVCQUF1QixLQUFLLGVBQWUsWUFBWTtBQUM3RCxVQUFNLFlBQVkscUJBQXFCLE9BQU8sQ0FBQyxLQUFLLFVBQVUsTUFBTSxNQUFNLE9BQU8sQ0FBQztBQUNsRixVQUFNLGVBQWUscUJBQXFCLE9BQU8sQ0FBQyxLQUFLLFVBQVUsTUFBTSxNQUFNLGNBQWMsQ0FBQztBQUM1RixVQUFNLGlCQUFpQixxQkFBcUIsT0FBTyxDQUFDLEtBQUssVUFBVSxNQUFNLE1BQU0sYUFBYSxRQUFRLEdBQUcsQ0FBQztBQUd4RyxVQUFNLFVBQVUsb0JBQUksSUFBWTtBQUNoQyxTQUFLLE9BQU8sUUFBUSxXQUFTO0FBQzVCLE9BQUMsTUFBTSxRQUFRLENBQUMsR0FBRyxRQUFRLFNBQU8sUUFBUSxJQUFJLEdBQUcsQ0FBQztBQUFBLElBQ25ELENBQUM7QUFDRCxVQUFNLFdBQVcsSUFBSSxLQUFLLFNBQVMsTUFBTSxFQUFFLGFBQWEsUUFBUSxTQUFTLEtBQUssQ0FBQztBQUMvRSxVQUFNLFlBQVksTUFBTSxLQUFLLE9BQU8sRUFBRSxLQUFLLENBQUMsR0FBRyxNQUFNLFNBQVMsUUFBUSxHQUFHLENBQUMsQ0FBQztBQUczRSxVQUFNLGNBQWMsSUFBSSxLQUFLLEVBQUUsWUFBWTtBQUMzQyxVQUFNLFVBQVUsY0FBYztBQUU5QixRQUFJLFVBQVU7QUFDZCxRQUFJLEtBQUssT0FBTyxTQUFTLEdBQUc7QUFFM0IsWUFBTSxlQUFlLEtBQUssSUFBSSxHQUFHLEtBQUssT0FBTyxJQUFJLFdBQVMsTUFBTSxXQUFXLFlBQVksQ0FBQyxDQUFDO0FBQ3pGLGdCQUFVO0FBQUEsSUFDWDtBQUdBLFVBQU0sY0FBYyxLQUFLLGdCQUFnQixzQkFBc0IsRUFBRTtBQUVqRSxZQUFRLElBQUkscURBQWE7QUFBQSxNQUN4QixjQUFjLGFBQWE7QUFBQSxNQUMzQjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0EsV0FBVyxFQUFFLFNBQVMsUUFBUTtBQUFBLElBQy9CLENBQUM7QUFHRCxVQUFNLGVBQWUsWUFBWSxVQUFVO0FBQzNDLFVBQU0sa0JBQW1DO0FBQUEsTUFDeEM7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0EsTUFBTTtBQUFBLE1BQ04sY0FBYyxLQUFLO0FBQUEsTUFDbkIsWUFBWSxDQUFDLFFBQTJCO0FBRXZDLFlBQUksTUFBTSxRQUFRLEdBQUcsR0FBRztBQUN2QixlQUFLLGVBQWUsQ0FBQyxHQUFHLElBQUksSUFBSSxHQUFHLENBQUM7QUFBQSxRQUNyQyxPQUFPO0FBQ04sY0FBSSxLQUFLLGFBQWEsU0FBUyxHQUFHLEdBQUc7QUFDcEMsaUJBQUssZUFBZSxLQUFLLGFBQWEsT0FBTyxDQUFBQSxPQUFLQSxPQUFNLEdBQUc7QUFBQSxVQUM1RCxPQUFPO0FBQ04saUJBQUssZUFBZSxDQUFDLEdBQUcsS0FBSyxjQUFjLEdBQUc7QUFBQSxVQUMvQztBQUFBLFFBQ0Q7QUFFQSxhQUFLLGFBQWE7QUFBQSxNQUNuQjtBQUFBLE1BQ0E7QUFBQSxNQUNBLGNBQWMsS0FBSztBQUFBLE1BQ25CLGVBQWUsQ0FBQyxNQUFjO0FBQzdCLGdCQUFRLElBQUksNkJBQVMsQ0FBQztBQUFBLE1BRXZCO0FBQUEsTUFDQSxjQUFjLENBQUMsTUFBYztBQUM1QixnQkFBUSxJQUFJLDZCQUFTLENBQUM7QUFBQSxNQUN2QjtBQUFBLE1BQ0EsWUFBWSxDQUFDLFlBQW9CO0FBQ2hDLGdCQUFRLElBQUksNkJBQVMsT0FBTztBQUU1QixjQUFNLGVBQWUsSUFBSSxLQUFLLE9BQU87QUFDckMsYUFBSyxlQUFlO0FBQ3BCLFlBQUksS0FBSyxxQkFBcUI7QUFDN0IsZUFBSyxvQkFBb0IsZ0JBQWdCLE1BQU0sWUFBWTtBQUUzRCxnQkFBTUMsWUFBVztBQUNqQixnQkFBTUMsZ0JBQWUsS0FBSyxPQUFPLE9BQU8sV0FBUyxNQUFNLFNBQVNELFNBQVEsS0FBSyxDQUFDLE1BQU0sTUFBTTtBQUMxRixnQkFBTUUsd0JBQXVCLEtBQUssZUFBZUQsYUFBWTtBQUM3RCxnQkFBTUUsYUFBWUQsc0JBQXFCLE9BQU8sQ0FBQyxLQUFLLFVBQVUsTUFBTSxNQUFNLE9BQU8sQ0FBQztBQUNsRixnQkFBTUUsZ0JBQWVGLHNCQUFxQixPQUFPLENBQUMsS0FBSyxVQUFVLE1BQU0sTUFBTSxjQUFjLENBQUM7QUFDNUYsZ0JBQU1HLGtCQUFpQkgsc0JBQXFCLE9BQU8sQ0FBQyxLQUFLLFVBQVUsTUFBTSxNQUFNLGFBQWFGLFNBQVEsR0FBRyxDQUFDO0FBQ3hHLGVBQUssb0JBQW9CLGNBQWNLLGlCQUFnQkYsWUFBV0MsYUFBWTtBQUFBLFFBQy9FO0FBRUEsY0FBTSxFQUFFLGFBQUFFLGFBQVksSUFBSTtBQUN4QixjQUFNLFNBQVNBLGFBQVksY0FBYyxtQkFBbUI7QUFDNUQsWUFBSSxRQUFRO0FBRVgsVUFBQyxPQUF1QixPQUFPO0FBQy9CLGdCQUFNLFVBQVVBLGFBQVksVUFBVSxrQkFBa0I7QUFDeEQsZUFBSyxpQkFBaUIsT0FBTztBQUFBLFFBQzlCLE9BQU87QUFFTixlQUFLLGFBQWE7QUFBQSxRQUNuQjtBQUFBLE1BQ0Q7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0Q7QUFFQSxTQUFLLHNCQUFzQixJQUFJLFdBQVcsY0FBYyxlQUFlO0FBQ3ZFLFNBQUssb0JBQW9CLE9BQU87QUFHaEMsU0FBSyxxQ0FBcUMsb0JBQW9CO0FBRTlELFlBQVEsSUFBSSwyREFBYyxZQUFZO0FBQUEsRUFDdkM7QUFBQSxFQUVRLG9CQUE0QjtBQUNuQyxXQUFPLEVBQUUsaUJBQWlCO0FBQUEsRUFDM0I7QUFBQTtBQUFBLEVBR1EscUNBQXFDLFFBQWlCO0FBQzdELFFBQUksT0FBTyxXQUFXO0FBQUc7QUFHekIsUUFBSSxjQUFjO0FBQ2xCLFdBQU8sUUFBUSxPQUFLO0FBQ25CLFlBQU0sS0FBSyxFQUFFO0FBQ2IsVUFBSSxJQUFJO0FBQ1AsY0FBTVAsS0FBSSxHQUFHLFFBQVE7QUFDckIsWUFBSUEsTUFBS0EsS0FBSTtBQUFhLHdCQUFjQTtBQUFBLE1BQ3pDO0FBQUEsSUFDRCxDQUFDO0FBQ0QsVUFBTSxNQUFNLElBQUksS0FBSztBQUNyQixVQUFNLFVBQVUsZUFBZSxjQUFjLElBQUksUUFBUSxJQUFJLElBQUksS0FBSyxXQUFXLElBQUk7QUFHckYsVUFBTSxnQkFBZ0IsS0FBSyxnQkFBZ0IsUUFBUSxJQUFJLFFBQVcsT0FBTztBQUN6RSxRQUFJLEtBQUsscUJBQXFCO0FBQzdCLFdBQUssb0JBQW9CLFlBQVksYUFBYTtBQUFBLElBQ25EO0FBR0EsZUFBVyxZQUFZO0FBQ3RCLFlBQU0sY0FBMkQsQ0FBQztBQUNsRSxlQUFTLElBQUksR0FBRyxJQUFJLGNBQWMsU0FBUyxHQUFHLEtBQUs7QUFDbEQsb0JBQVk7QUFBQSxVQUNYLFFBQVEsUUFBUSxLQUFLLGdCQUFnQixRQUFRLElBQUksY0FBYyxDQUFDLEVBQUUsTUFBTSxjQUFjLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLEtBQUssZUFBYTtBQUNySCxnQkFBSSxJQUFJO0FBQUcscUJBQU8sVUFBVSxNQUFNLENBQUM7QUFDbkMsbUJBQU87QUFBQSxVQUNSLENBQUM7QUFBQSxRQUNGO0FBQUEsTUFDRDtBQUNBLFlBQU0sYUFBYSxNQUFNLFFBQVEsSUFBSSxXQUFXO0FBQ2hELFlBQU0sYUFBYSxXQUFXLEtBQUs7QUFDbkMsVUFBSSxLQUFLLHFCQUFxQjtBQUM3QixhQUFLLG9CQUFvQixZQUFZLFVBQVU7QUFBQSxNQUNoRDtBQUFBLElBQ0QsR0FBRyxHQUFHO0FBQUEsRUFDUDtBQUFBO0FBQUEsRUFHUSxlQUFlLE9BQXlCO0FBQy9DLFFBQUksQ0FBQyxLQUFLLGdCQUFnQixLQUFLLGFBQWEsV0FBVztBQUFHLGFBQU87QUFDakUsV0FBTyxNQUFNLE9BQU8sT0FBRTtBQXByQnhCO0FBb3JCMkIscUJBQUUsU0FBRixtQkFBUSxLQUFLLENBQUFBLE9BQUssS0FBSyxhQUFhLFNBQVNBLEVBQUM7QUFBQSxLQUFFO0FBQUEsRUFDMUU7QUFBQSxFQUVRLGdCQUFnQixRQUFpQixPQUFlLFVBQWlCLFFBQWdEO0FBQ3hILFFBQUksT0FBTyxXQUFXO0FBQUcsYUFBTyxDQUFDO0FBRWpDLFVBQU0sTUFBTSxJQUFJLEtBQUs7QUFDckIsVUFBTSxVQUFVLFlBQVksSUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLE9BQU8sSUFBSSxPQUFLLEVBQUUsV0FBVyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3pGLFVBQU0sY0FBYyxLQUFLLElBQUksR0FBRyxPQUFPLElBQUksT0FBSztBQUMvQyxZQUFNLEtBQUssRUFBRTtBQUNiLFVBQUksSUFBSTtBQUNQLGNBQU1BLEtBQUksR0FBRyxRQUFRO0FBQ3JCLFlBQUksQ0FBQyxNQUFNQSxFQUFDO0FBQUcsaUJBQU9BO0FBQUEsTUFDdkI7QUFDQSxhQUFPLElBQUksUUFBUTtBQUFBLElBQ3BCLENBQUMsQ0FBQztBQUNGLFVBQU0sVUFBVSxVQUFVLElBQUksS0FBSyxXQUFXO0FBRTlDLFVBQU0sU0FBMEMsQ0FBQztBQUNqRCxhQUFTLElBQUksR0FBRyxJQUFJLE9BQU8sS0FBSztBQUMvQixZQUFNQSxLQUFJLFFBQVEsUUFBUSxLQUFLLFFBQVEsUUFBUSxJQUFJLFFBQVEsUUFBUSxLQUFLLEtBQUssUUFBUTtBQUNyRixZQUFNLE9BQU8sSUFBSSxLQUFLQSxFQUFDO0FBQ3ZCLFVBQUksWUFBWTtBQUdoQixhQUFPLFFBQVEsT0FBSztBQUNuQixjQUFNLE9BQU8sS0FBSyxjQUFjLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsVUFBVSxJQUFJO0FBQ3ZGLFlBQUksU0FBUyxJQUFJO0FBQUcsdUJBQWE7QUFBQSxNQUNsQyxDQUFDO0FBRUQsYUFBTyxLQUFLLEVBQUUsTUFBTSxPQUFPLFVBQVUsQ0FBQztBQUFBLElBQ3ZDO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQTtBQUFBLEVBR1EsY0FBYyxPQUFlLFNBQWlCLE1BQVksSUFBNkIsS0FBbUI7QUFDakgsUUFBSSxDQUFDO0FBQU0sYUFBTztBQUNsQixVQUFNLE9BQU8sS0FBSyxPQUFPLElBQUksUUFBUSxJQUFJLEtBQUssUUFBUSxLQUFLLEtBQVEsSUFBSTtBQUN2RSxRQUFJLENBQUMsTUFBTSxLQUFLLEtBQUs7QUFDcEIsZ0JBQVU7QUFBQSxJQUNYO0FBQ0EsUUFBSSxDQUFDLFNBQVMsSUFBSSxLQUFLLFFBQVE7QUFBRyxhQUFPO0FBQ3pDLFVBQU0sVUFBVSxPQUFPLEtBQUssSUFBSSxPQUFPLFdBQVcsQ0FBQyxLQUFLO0FBQ3hELFdBQU8sU0FBUyxNQUFNLElBQUksU0FBUztBQUFBLEVBQ3BDO0FBRUQ7OztBR251QkEsSUFBQVEsbUJBQStDO0FBRy9DO0FBR08sSUFBTSx1QkFBTixjQUFtQyxrQ0FBaUI7QUFBQSxFQUcxRCxZQUFZLEtBQVUsUUFBMEI7QUFDL0MsVUFBTSxLQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDZjtBQUFBLEVBRUEsVUFBZ0I7QUFDZixVQUFNLEVBQUUsWUFBWSxJQUFJO0FBRXhCLGdCQUFZLE1BQU07QUFFbEIsZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixFQUFFLENBQUM7QUFHeEQsZ0JBQVksU0FBUyxLQUFLLEVBQUUsTUFBTSxFQUFFLGtCQUFrQixHQUFHLEtBQUssMkJBQTJCLENBQUM7QUFDMUYsVUFBTSxlQUFlLEVBQUUsd0JBQXdCO0FBQy9DLGdCQUFZLFNBQVMsT0FBTyxFQUFFLE1BQU0sY0FBYyxLQUFLLDJCQUEyQixDQUFDO0FBQ25GLGdCQUFZLFNBQVMsS0FBSyxFQUFFLE1BQU0sRUFBRSxxQkFBcUIsR0FBRyxLQUFLLDJCQUEyQixDQUFDO0FBQzdGLFVBQU0sZUFBZSxFQUFFLHdCQUF3QjtBQUMvQyxnQkFBWSxTQUFTLE9BQU8sRUFBRSxNQUFNLGNBQWMsS0FBSywyQkFBMkIsQ0FBQztBQUNuRixnQkFBWSxTQUFTLEtBQUssRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSywyQkFBMkIsQ0FBQztBQUV4RixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxFQUFFLHlCQUF5QixDQUFDLEVBQ3BDLFFBQVEsRUFBRSx5QkFBeUIsQ0FBQyxFQUNwQyxRQUFRLFVBQVEsS0FDZixlQUFlLHdCQUF3QixFQUN2QyxTQUFTLEtBQUssT0FBTyxTQUFTLGFBQWEsd0JBQXdCLEVBQ25FLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLGFBQVksK0JBQU8sV0FBVTtBQUNsRCxZQUFNLEtBQUssT0FBTyxhQUFhO0FBRS9CLFdBQUssT0FBTyxrQkFBa0IsSUFBSSxnQkFBZ0IsS0FBSyxLQUFLLEtBQUssT0FBTyxTQUFTLFNBQVM7QUFBQSxJQUMzRixDQUFDLENBQUM7QUFFSixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxFQUFFLDJCQUEyQixDQUFDLEVBQ3RDLFFBQVEsRUFBRSwyQkFBMkIsQ0FBQyxFQUN0QyxVQUFVLFlBQVUsT0FDbkIsU0FBUyxLQUFLLE9BQU8sU0FBUyxpQkFBaUIsRUFDL0MsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsb0JBQW9CLENBQUMsQ0FBQztBQUMzQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBRUosUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEsRUFBRSwyQkFBMkIsQ0FBQyxFQUN0QyxRQUFRLEVBQUUsMkJBQTJCLENBQUMsRUFDdEMsWUFBWSxVQUFRO0FBQ3BCLFdBQUssVUFBVSxRQUFRLEVBQUUsa0NBQWtDLENBQUM7QUFDNUQsV0FBSyxVQUFVLGFBQWEsRUFBRSx1Q0FBdUMsQ0FBQztBQUN0RSxXQUFLLFVBQVUsYUFBYSxFQUFFLHVDQUF1QyxDQUFDO0FBQ3RFLFdBQUssVUFBVSxZQUFZLEVBQUUsc0NBQXNDLENBQUM7QUFDcEUsV0FBSyxTQUFTLEtBQUssT0FBTyxTQUFTLGVBQWUsTUFBTTtBQUN4RCxXQUFLLFNBQVMsT0FBTyxVQUFVO0FBQzlCLGNBQU0sSUFBSztBQUNYLGFBQUssT0FBTyxTQUFTLGNBQWM7QUFDbkMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGLENBQUM7QUFFRixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxFQUFFLDJCQUEyQixDQUFDLEVBQ3RDLFFBQVEsRUFBRSwyQkFBMkIsQ0FBQyxFQUN0QyxRQUFRLFVBQVE7QUFDaEIsWUFBTSx1QkFBdUIsQ0FBQyxVQUEwQjtBQUN2RCxjQUFNLEtBQUssU0FBUyxJQUFJLE1BQU0sZ0NBQWdDO0FBQzlELGVBQU8sSUFBSSxFQUFFLENBQUMsSUFBSTtBQUFBLE1BQ25CO0FBQ0EsV0FDRSxlQUFlLEVBQUUsa0NBQWtDLENBQUMsRUFDcEQsU0FBUyxLQUFLLE9BQU8sU0FBUyxXQUFXLEVBQ3pDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGNBQU0sUUFBUSxxQkFBcUIsS0FBSztBQUN4QyxZQUFLLEtBQWEsV0FBWSxLQUFhLFFBQVEsVUFBVSxPQUFPO0FBQ25FLFVBQUMsS0FBYSxRQUFRLFFBQVE7QUFBQSxRQUMvQjtBQUNBLGFBQUssT0FBTyxTQUFTLGNBQWM7QUFDbkMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFDRixZQUFNLFVBQVcsS0FBYTtBQUM5QixVQUFJLFNBQVM7QUFDWixnQkFBUSxpQkFBaUIsU0FBUyxNQUFNO0FBQ3ZDLHFCQUFXLE1BQU07QUFDaEIsa0JBQU0sUUFBUSxxQkFBcUIsUUFBUSxTQUFTLEVBQUU7QUFDdEQsZ0JBQUksUUFBUSxVQUFVO0FBQU8sc0JBQVEsUUFBUTtBQUM3QyxpQkFBSyxPQUFPLFNBQVMsY0FBYztBQUNuQyxpQkFBSyxPQUFPLGFBQWE7QUFBQSxVQUMxQixHQUFHLENBQUM7QUFBQSxRQUNMLENBQUM7QUFBQSxNQUNGO0FBQUEsSUFDRCxDQUFDO0FBR0YsUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEsRUFBRSxzQkFBc0IsQ0FBQyxFQUNqQyxRQUFRLEVBQUUsc0JBQXNCLENBQUMsRUFDakMsWUFBWSxVQUFRO0FBRXBCLFdBQUssVUFBVSxRQUFRLEVBQUUsNkJBQTZCLENBQUM7QUFDdkQsV0FBSyxVQUFVLE1BQU0sY0FBSTtBQUN6QixXQUFLLFVBQVUsTUFBTSxTQUFTO0FBQzlCLFdBQUssU0FBUyxLQUFLLE9BQU8sU0FBUyxVQUFVLE1BQU07QUFDbkQsV0FBSyxTQUFTLE9BQU8sVUFBVTtBQUM5QixhQUFLLE9BQU8sU0FBUyxTQUFVO0FBQy9CLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFFL0IsYUFBSyxRQUFRO0FBQUEsTUFDZCxDQUFDO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDSDtBQUNEOzs7QVQ3R0EsSUFBcUIsbUJBQXJCLGNBQThDLHdCQUFPO0FBQUEsRUFJcEQsTUFBTSxTQUFTO0FBQ2QsVUFBTSxLQUFLLGFBQWE7QUFHeEIsY0FBVSxLQUFLLFNBQVMsVUFBVSxNQUFNO0FBR3hDLFNBQUssa0JBQWtCLElBQUksZ0JBQWdCLEtBQUssS0FBSyxLQUFLLFNBQVMsYUFBYSx3QkFBd0I7QUFHeEcsU0FBSyxhQUFhLG9CQUFvQixDQUFDLFNBQVMsSUFBSSxpQkFBaUIsTUFBTSxLQUFLLGVBQWUsQ0FBQztBQUdoRyxTQUFLO0FBQUEsTUFDSixLQUFLLElBQUksVUFBVSxHQUFHLGFBQWEsQ0FBQyxNQUFNLFNBQVM7QUFDbEQsWUFBSSxDQUFDLEtBQUssU0FBUztBQUFtQjtBQUN0QyxZQUFJLGdCQUFnQiwwQkFBUyxLQUFLLGNBQWMsTUFBTTtBQUNyRCxlQUFLLFFBQVEsQ0FBQyxTQUFTO0FBQ3RCLGlCQUNFLFNBQVMsRUFBRSxlQUFlLENBQUMsRUFDM0IsUUFBUSxTQUFTLEVBQ2pCLFFBQVEsTUFBTTtBQUVkLG9CQUFNLE9BQU8sS0FBSyxJQUFJLFVBQVUsUUFBUSxLQUFLO0FBQzdDLG1CQUFLLGFBQWE7QUFBQSxnQkFDakIsTUFBTTtBQUFBLGdCQUNOLE9BQU8sRUFBRSxVQUFVLEtBQUssS0FBSztBQUFBLGdCQUM3QixRQUFRO0FBQUEsY0FDVCxDQUFDO0FBQ0QsbUJBQUssSUFBSSxVQUFVLFdBQVcsSUFBSTtBQUFBLFlBQ25DLENBQUM7QUFBQSxVQUNILENBQUM7QUFBQSxRQUNGO0FBQUEsTUFDRCxDQUFDO0FBQUEsSUFDRjtBQUdBLFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTSxFQUFFLGNBQWM7QUFBQSxNQUN0QixVQUFVLFlBQVk7QUFDckIsY0FBTSxZQUFZLEtBQUssU0FBUyxhQUFhO0FBQzdDLGNBQU0scUJBQXFCLE9BQU8sZUFBdUI7QUFDeEQsZ0JBQU0sU0FBUyxLQUFLLElBQUksTUFBTSxzQkFBc0IsVUFBVTtBQUM5RCxjQUFJLENBQUMsUUFBUTtBQUNaLGtCQUFNLEtBQUssSUFBSSxNQUFNLGFBQWEsVUFBVTtBQUFBLFVBQzdDO0FBQUEsUUFDRDtBQUdBLGNBQU0sWUFBWSxLQUFLLElBQUksTUFBTSxzQkFBc0IsU0FBUztBQUNoRSxZQUFJLENBQUMsV0FBVztBQUNmLGdCQUFNLFFBQVEsVUFBVSxNQUFNLEdBQUc7QUFDakMsZ0JBQU0sYUFBYSxNQUFNLE1BQU0sR0FBRyxFQUFFLEVBQUUsS0FBSyxHQUFHLEtBQUs7QUFDbkQsY0FBSTtBQUFZLGtCQUFNLG1CQUFtQixVQUFVO0FBR25ELGdCQUFNLGNBQWM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNwQixnQkFBTSxLQUFLLElBQUksTUFBTSxPQUFPLFdBQVcsV0FBVztBQUdsRCxnQkFBTSxnQkFBZ0IsQ0FBQyxNQUFjLE1BQWMsT0FBZSxNQUFjLElBQWEsU0FBa0IsU0FBb0I7QUFDbEksa0JBQU0sUUFBa0IsQ0FBQztBQUN6QixrQkFBTSxLQUFLLFdBQVcsT0FBTztBQUM3QixrQkFBTSxLQUFLLEVBQUU7QUFDYixrQkFBTSxLQUFLLFNBQVM7QUFDcEIsa0JBQU0sS0FBSyxXQUFXLE9BQU87QUFDN0Isa0JBQU0sS0FBSyxFQUFFO0FBQ2Isa0JBQU0sS0FBSyxVQUFVO0FBQ3JCLGtCQUFNLEtBQUssV0FBVyxPQUFPO0FBQzdCLGtCQUFNLEtBQUssa0JBQWtCLE9BQU87QUFDcEMsa0JBQU0sS0FBSyxnQkFBZ0IsTUFBTSxLQUFLO0FBQ3RDLGtCQUFNLEtBQUssbUJBQW1CLDRCQUFXLEdBQUc7QUFDNUMsa0JBQU0sS0FBSyxZQUFZLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQUMsT0FBSyxJQUFJQSxLQUFJLEVBQUUsS0FBSyxJQUFJLElBQUk7QUFDbkUsa0JBQU0sS0FBSyxFQUFFO0FBQ2IsbUJBQU8sTUFBTSxLQUFLLElBQUk7QUFBQSxVQUN2QjtBQUVBLGdCQUFNLGVBQWUsY0FBYztBQUNuQyxnQkFBTSxtQkFBbUIsWUFBWTtBQUNyQyxnQkFBTSxZQUFZO0FBQUEsWUFDakIsRUFBRSxJQUFJLDZCQUFTLE1BQU0sZ0JBQU0sT0FBTyxLQUFLLE1BQU0sY0FBYyxJQUFJLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQyxnQkFBTSxjQUFJLEVBQUU7QUFBQSxZQUNsRyxFQUFFLElBQUksNkJBQVMsTUFBTSxhQUFNLE9BQU8sS0FBSyxNQUFNLGNBQWMsSUFBSSxJQUFJLFNBQVMsR0FBRyxNQUFNLENBQUMsZ0JBQU0sY0FBSSxFQUFFO0FBQUEsWUFDbEcsRUFBRSxJQUFJLG1DQUFVLE1BQU0sYUFBTSxPQUFPLEtBQUssTUFBTSxjQUFjLElBQUksSUFBSSxTQUFTLElBQUksTUFBTSxDQUFDLGNBQUksRUFBRTtBQUFBLFVBQy9GO0FBQ0EscUJBQVcsS0FBSyxXQUFXO0FBQzFCLGtCQUFNLFdBQVcsR0FBRyxnQkFBZ0IsRUFBRTtBQUN0QyxrQkFBTSxTQUFTLEtBQUssSUFBSSxNQUFNLHNCQUFzQixRQUFRO0FBQzNELGdCQUFJLENBQUMsUUFBUTtBQUNaLG9CQUFNLEtBQUssSUFBSSxNQUFNLE9BQU8sVUFBVSxjQUFjLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDO0FBQUEsWUFDNUc7QUFBQSxVQUNGO0FBQUEsUUFDRDtBQUdBLFlBQUksVUFBVTtBQUNkLFlBQUk7QUFDSCxnQkFBTSxJQUFJLEtBQUssSUFBSSxNQUFNLHNCQUFzQixTQUFTO0FBQ3hELGNBQUksS0FBSyxhQUFhLHdCQUFPO0FBQzVCLGtCQUFNLE1BQU0sTUFBTSxLQUFLLElBQUksTUFBTSxLQUFLLENBQUM7QUFFdkMsa0JBQU0sZ0JBQWdCLElBQUksUUFBUSxxQkFBcUIsQ0FBQyxJQUFJLE9BQU8sSUFBSSxPQUFPLEVBQUUsRUFBRSxLQUFLLElBQUk7QUFFM0Ysa0JBQU0sWUFBWSx3Q0FBd0MsS0FBSyxhQUFhO0FBRTVFLGtCQUFNLFlBQVksY0FBYyxNQUFNLGdDQUFnQztBQUN0RSxrQkFBTSxXQUFVLHVDQUFZLE9BQU07QUFFbEMsa0JBQU0sZUFBZSxjQUFjLE1BQU0sd0NBQXdDO0FBQ2pGLGdCQUFJLG9CQUFvQjtBQUN4QixnQkFBSSxnQkFBZ0IsYUFBYSxDQUFDLEdBQUc7QUFDcEMsb0JBQU0sVUFBVSxhQUFhLENBQUM7QUFDOUIsa0NBQW9CLGVBQWUsS0FBSyxPQUFPLEtBQUssMkJBQTJCLEtBQUssT0FBTztBQUFBLFlBQzVGO0FBQ0Esc0JBQVUsQ0FBQyxhQUFhLFlBQVksVUFBVSxDQUFDO0FBQUEsVUFDaEQsT0FBTztBQUNOLHNCQUFVO0FBQUEsVUFDWDtBQUFBLFFBQ0QsU0FBUyxHQUFQO0FBQ0Qsb0JBQVU7QUFBQSxRQUNYO0FBQ0EsWUFBSTtBQUFTLGNBQUksd0JBQU8sRUFBRSxxQkFBcUIsQ0FBQztBQUdoRCxhQUFLLGtCQUFrQixJQUFJLGdCQUFnQixLQUFLLEtBQUssU0FBUztBQUM5RCxjQUFNLE9BQU8sS0FBSyxJQUFJLFVBQVUsUUFBUSxLQUFLO0FBQzdDLGNBQU0sS0FBSyxhQUFhO0FBQUEsVUFDdkIsTUFBTTtBQUFBLFVBQ04sT0FBTyxFQUFFLFVBQVUsVUFBVTtBQUFBLFVBQzdCLFFBQVE7QUFBQSxRQUNULENBQUM7QUFDRCxhQUFLLElBQUksVUFBVSxXQUFXLElBQUk7QUFBQSxNQUNuQztBQUFBLElBQ0QsQ0FBQztBQUlELFNBQUssY0FBYyxJQUFJLHFCQUFxQixLQUFLLEtBQUssSUFBSSxDQUFDO0FBRzNELFNBQUssaUJBQWlCLEVBQUUsUUFBUSxhQUFhO0FBQUEsRUFDOUM7QUFBQSxFQUVBLFdBQVc7QUFBQSxFQUVYO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsa0JBQWtCLE1BQU0sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUMxRTtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUVqQyxjQUFVLEtBQUssU0FBUyxVQUFVLE1BQU07QUFBQSxFQUN6QztBQUNEOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAidCIsICJpbXBvcnRfb2JzaWRpYW4iLCAidCIsICJfYSIsICJfYiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiX2EiLCAidCIsICJ0IiwgInQiLCAiY2FsY0RhdGUiLCAiYWN0aXZlQXNzZXRzIiwgImZpbHRlcmVkQWN0aXZlQXNzZXRzIiwgInRvdGFsQ29zdCIsICJ0b3RhbFJlY3ljbGUiLCAidG90YWxEYWlseUNvc3QiLCAiY29udGFpbmVyRWwiLCAiaW1wb3J0X29ic2lkaWFuIiwgInQiXQp9Cg==
