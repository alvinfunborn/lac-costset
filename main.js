/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// i18n.ts
var i18n_exports = {};
__export(i18n_exports, {
  getCurrentLocale: () => getCurrentLocale,
  resolveLocale: () => resolveLocale,
  setLocale: () => setLocale,
  t: () => t
});
function resolveLocale(locale) {
  if (!locale || locale === "auto") {
    try {
      const lang = (navigator.language || "").toLowerCase();
      return lang.startsWith("zh") ? "zh" : "en";
    } catch (_) {
      return "en";
    }
  }
  return locale;
}
function setLocale(locale) {
  currentLocale = resolveLocale(locale);
}
function getCurrentLocale() {
  return currentLocale;
}
function formatVars(input, vars) {
  if (!vars)
    return input;
  return input.replace(/\{(\w+)\}/g, (_m, k) => {
    var _a;
    return String((_a = vars[k]) != null ? _a : "");
  });
}
function t(key, vars, locale) {
  var _a, _b;
  const lang = locale || currentLocale;
  const entry = dict[key];
  if (!entry)
    return key;
  const raw = (_b = (_a = entry[lang]) != null ? _a : entry.en) != null ? _b : key;
  return formatVars(raw, vars);
}
var currentLocale, dict;
var init_i18n = __esm({
  "i18n.ts"() {
    currentLocale = "zh";
    dict = {
      // Currency
      "currency.symbol": { zh: "\xA5", en: "$" },
      // Common
      "common.confirm": { zh: "\u786E\u5B9A", en: "Confirm" },
      "common.cancel": { zh: "\u53D6\u6D88", en: "Cancel" },
      "common.delete": { zh: "\u5220\u9664", en: "Delete" },
      "common.save": { zh: "\u4FDD\u5B58", en: "Save" },
      "common.back": { zh: "\u8FD4\u56DE", en: "Back" },
      "common.add": { zh: "\u6DFB\u52A0", en: "Add" },
      "common.search": { zh: "\u641C\u7D22", en: "Search" },
      // Menu / Command
      "menu.openWith": { zh: "\u7528 LaC.CostSet \u6253\u5F00", en: "Open with LaC.CostSet" },
      "command.open": { zh: "\u6253\u5F00", en: "Open" },
      "notice.invalidEntry": {
        zh: '\u5165\u53E3\u6587\u4EF6\u5185\u5BB9\u683C\u5F0F\u4E0D\u6B63\u786E\uFF1A\u9700\u4E3A TOML\uFF0C\u4E14 type = "root"\uFF0Crenders \u5FC5\u987B\u5305\u542B "costset"',
        en: 'Entry file invalid: must be TOML with type = "root" and renders must include "costset"'
      },
      "notice.saveFailed": { zh: "\u4FDD\u5B58\u5931\u8D25: {msg}", en: "Save failed: {msg}" },
      // Settings
      "settings.title": { zh: "Lac.CostSet \u8BBE\u7F6E", en: "Lac.CostSet Settings" },
      "settings.guide.1": {
        zh: "\u91CD\u8981\uFF1A\u5165\u53E3\u6587\u4EF6\u4E0E\u8D44\u4EA7\u6587\u4EF6\u7684\u201C\u5185\u5BB9\u683C\u5F0F\u4E3A TOML\u201D\uFF0C\u6587\u4EF6\u6269\u5C55\u540D\u53EF\u4E3A .md\u3002\u5141\u8BB8 # \u5F00\u5934\u7684\u6CE8\u91CA\u3002\u552F\u4E00\u7684\u975E TOML \u4F8B\u5916\u662F\uFF1A\u6587\u4EF6\u6B63\u6587\u4E2D\u7684 [[\u8D44\u4EA7\u6587\u4EF6\u540D]] \u53CC\u94FE\u53EF\u7701\u7565\u5F15\u53F7\uFF0C\u63D2\u4EF6\u5728\u89E3\u6790\u65F6\u4F1A\u4E34\u65F6\u4E3A\u5176\u52A0\u4E0A\u5F15\u53F7\u540E\u6309 TOML \u5904\u7406\u3002\u9664\u8FD9\u70B9\u5916\uFF0C\u4E0D\u5E94\u6DF7\u5165\u666E\u901A Markdown \u6587\u672C\u3002",
        en: "Important: Entry and asset files must be TOML content (extension can be .md). Comments starting with # are allowed. The only non-TOML exception: [[asset filename]] wikilinks in the body can omit quotes; the plugin will temporarily quote them for TOML parsing. No other regular Markdown should be mixed."
      },
      "settings.entry.example": {
        zh: '# \u5165\u53E3\u6587\u4EF6\u6700\u5C0F\u793A\u4F8B\n\n# \u9876\u90E8 TOML\uFF1A\u5FC5\u987B\u6EE1\u8DB3\n# type = "root"\n# renders = ["costset"]\n\ntype = "root"\nrenders = ["costset"]\n\n# \u6B63\u6587\uFF1A\u7528\u53CC\u94FE\u5217\u51FA\u8D44\u4EA7\u6587\u4EF6\u540D\uFF08\u4E0D\u9700\u8981\u6269\u5C55\u540D\uFF09\n\n[[\u952E\u76D8]]\n[[\u8033\u673A]]\n',
        en: '# Minimal entry file example\n\n# Top TOML must include\n# type = "root"\n# renders = ["costset"]\n\ntype = "root"\nrenders = ["costset"]\n\n# Body: list asset filenames using wikilinks (no extension)\n\n[[keyboard]]\n[[headphones]]\n'
      },
      "settings.asset.desc": {
        zh: "\u8D44\u4EA7\u6587\u4EF6\u540C\u6837\u662F Markdown\uFF0C\u4F46\u5185\u5BB9\u4EE5 TOML \u5B57\u6BB5\u4E3A\u4E3B\uFF08\u63D2\u4EF6\u4F1A\u4FDD\u7559\u4F60\u5199\u7684\u6CE8\u91CA\uFF09\u3002\u4EE5\u4E0B\u4E3A\u6700\u5C0F\u793A\u4F8B\uFF1A",
        en: "Asset files are also Markdown, but mainly TOML fields (comments are preserved). Minimal example:"
      },
      "settings.asset.example": {
        zh: 'name = "\u952E\u76D8"\n\n[style]\nicon = "\u2328\uFE0F"\n\n[detail]\nprice = 399\nactive_from = "2024-01-01"\nactive_to = ""\nrecycle_price = 0\ntags = ["\u6570\u7801", "\u952E\u76D8"]\n',
        en: 'name = "Keyboard"\n\n[style]\nicon = "\u2328\uFE0F"\n\n[detail]\nprice = 399\nactive_from = "2024-01-01"\nactive_to = ""\nrecycle_price = 0\ntags = ["Digital", "Keyboard"]\n'
      },
      "settings.usage": {
        zh: "\u7528\u6CD5\uFF1A\u5728\u201C\u5165\u53E3\u6587\u4EF6\u201D\u4E0A\u53F3\u952E \u2192 \u9009\u62E9\u201C\u7528 LaC.CostSet \u6253\u5F00\u201D\u3002\u4E5F\u53EF\u5728\u547D\u4EE4\u9762\u677F\u6267\u884C\u201C\u6253\u5F00LaC.CostSet\u201D\uFF08\u5C06\u4F7F\u7528\u4E0B\u65B9\u914D\u7F6E\u7684\u5165\u53E3\u6587\u4EF6\uFF09\u3002",
        en: 'Usage: Right-click on the entry file \u2192 choose "Open with LaC.CostSet". Or run the command "Open LaC.CostSet" (uses the configured entry file below).'
      },
      "settings.entryFile.name": { zh: "\u5165\u53E3\u6587\u4EF6", en: "Entry file" },
      "settings.entryFile.desc": { zh: "\u4F5C\u4E3A\u8D44\u4EA7\u5165\u53E3\u7684 Markdown \u6587\u4EF6\u8DEF\u5F84\uFF0C\u4F8B\u5982 costset/costset.md", en: "Path to the Markdown entry file, e.g., costset/costset.md" },
      "settings.contextMenu.name": { zh: "\u542F\u7528\u53F3\u952E\u83DC\u5355 \u201C\u7528 LaC.CostSet \u6253\u5F00\u201D", en: 'Enable context menu "Open with LaC.CostSet"' },
      "settings.contextMenu.desc": { zh: "\u5728 Markdown \u6587\u4EF6\u7684\u53F3\u952E\u83DC\u5355\u4E2D\u663E\u793A\u5165\u53E3", en: "Show entry in Markdown file context menu" },
      "settings.defaultSort.name": { zh: "\u9ED8\u8BA4\u6392\u5E8F", en: "Default sort" },
      "settings.defaultSort.desc": { zh: "\u6253\u5F00\u89C6\u56FE\u65F6\u7684\u521D\u59CB\u6392\u5E8F\u65B9\u5F0F", en: "Initial sort when opening the view" },
      "settings.defaultSort.option.none": { zh: "\u6587\u672C\u987A\u5E8F", en: "Text order" },
      "settings.defaultSort.option.dailyDesc": { zh: "\u65E5\u5747\u4EF7\u683C", en: "Daily cost" },
      "settings.defaultSort.option.priceDesc": { zh: "\u4EF7\u683C", en: "Price" },
      "settings.defaultSort.option.dateDesc": { zh: "\u8D2D\u5165\u65E5\u671F", en: "Purchase date" },
      "settings.defaultIcon.name": { zh: "\u9ED8\u8BA4\u56FE\u6807", en: "Default icon" },
      "settings.defaultIcon.desc": { zh: "\u65B0\u8D44\u4EA7\u7684\u9ED8\u8BA4\u56FE\u6807\uFF0C\u4EC5\u652F\u6301 1 \u4E2A Emoji", en: "Default icon for new assets (single Emoji only)" },
      "settings.defaultIcon.placeholder": { zh: "\u{1F4E6}", en: "\u{1F4E6}" },
      "settings.locale.name": { zh: "\u8BED\u8A00", en: "Language" },
      "settings.locale.desc": { zh: "\u754C\u9762\u8BED\u8A00", en: "Interface language" },
      "settings.locale.option.auto": { zh: "\u8DDF\u968F\u7CFB\u7EDF", en: "Auto" },
      "settings.locale.option.zh": { zh: "\u4E2D\u6587", en: "Chinese" },
      "settings.locale.option.en": { zh: "\u82F1\u6587", en: "English" },
      // AssetManagerView
      "view.hint.openFromMenu": { zh: "\u4ECE\u6587\u4EF6\u7684\u53F3\u952E\u83DC\u5355\u4E2D\u9009\u62E9 \u201C\u7528 LaC.CostSet \u6253\u5F00\u201D\u3002", en: 'Use file context menu: "Open with LaC.CostSet".' },
      "view.selectRoot.title": { zh: "\u9009\u62E9\u8D44\u4EA7\u6839\u6587\u4EF6", en: "Select root asset file" },
      "view.selectRoot.desc": { zh: "\u8BF7\u9009\u62E9\u4E00\u4E2A\u5305\u542B\u8D44\u4EA7\u5F15\u7528\u7684\u6587\u4EF6\u4F5C\u4E3A\u5165\u53E3", en: "Please choose a file containing asset references as entry" },
      "view.empty": { zh: "\u6682\u65E0\u8D44\u4EA7", en: "No assets" },
      "view.toNow": { zh: "\u81F3\u4ECA", en: "Present" },
      "view.usedDays": { zh: "\u5DF2\u7528{days}\u5929", en: "{days} days used" },
      "view.daily": { zh: "\u65E5\u5747", en: "Daily" },
      "view.price": { zh: "\u4EF7\u683C", en: "Price" },
      "view.recyclePrice": { zh: "\u56DE\u6536\u4EF7", en: "Recycle" },
      "view.back": { zh: "\u8FD4\u56DE", en: "Back" },
      "view.search.aria": { zh: "\u641C\u7D22", en: "Search" },
      "view.search.placeholder": { zh: "\u641C\u7D22\u540D\u79F0\u6216\u6807\u7B7E", en: "Search name or tags" },
      "view.sort.title": { zh: "\u6392\u5E8F", en: "Sort" },
      "view.sort.title.dailyDesc": { zh: "\u6309\u65E5\u5747\u6210\u672C (\u964D\u5E8F)", en: "By daily cost (desc)" },
      "view.sort.title.priceDesc": { zh: "\u6309\u4EF7\u683C (\u964D\u5E8F)", en: "By price (desc)" },
      "view.sort.title.dateDesc": { zh: "\u6309\u8D2D\u5165\u65E5\u671F (\u964D\u5E8F)", en: "By purchase date (desc)" },
      "view.sort.menu.dailyDesc": { zh: "\u6309\u65E5\u5747\u6210\u672C", en: "By daily cost" },
      "view.sort.menu.priceDesc": { zh: "\u6309\u4EF7\u683C", en: "By price" },
      "view.sort.menu.dateDesc": { zh: "\u6309\u8D2D\u5165\u65E5\u671F", en: "By purchase date" },
      "view.add": { zh: "\u6DFB\u52A0", en: "Add" },
      "view.confirmDeleteAsset": { zh: '\u786E\u5B9A\u8981\u5220\u9664\u8D44\u4EA7 "{name}" \u5417\uFF1F', en: 'Delete asset "{name}"?' },
      // Top summary
      "top.total": { zh: "\u603B\u6210\u672C ", en: "Total " },
      "top.recycle": { zh: "\u53EF\u56DE\u6536 ", en: "Recyclable " },
      "date.pick": { zh: "\u9009\u62E9\u65E5\u671F", en: "Pick date" },
      "date.year": { zh: "\u5E74", en: "" },
      "date.month": { zh: "\u6708", en: "" },
      "date.day": { zh: "\u65E5", en: "" },
      // Confirm modal
      "confirm.title": { zh: "\u786E\u8BA4\u64CD\u4F5C", en: "Confirm" },
      // Form modal
      "form.name": { zh: "\u540D\u79F0", en: "Name" },
      "form.icon": { zh: "\u56FE\u6807", en: "Icon" },
      "form.price": { zh: "\u4EF7\u683C", en: "Price" },
      "form.purchaseOn": { zh: "\u8D2D\u5165\u4E8E", en: "Purchased on" },
      "form.purchaseDate": { zh: "\u8D2D\u5165\u65E5\u671F", en: "Purchase date" },
      "form.endDate": { zh: "\u5230\u671F", en: "End date" },
      "form.endDatePlaceholder": { zh: "(\u8BA1\u5212)\u62A5\u5E9F/\u56DE\u6536/\u5230\u671F\u65F6\u95F4", en: "Planned scrap/recycle/end date" },
      "form.recyclePrice": { zh: "\u56DE\u6536\u4EF7", en: "Recycle price" },
      "form.tags": { zh: "\u6807\u7B7E", en: "Tags" },
      "form.assetName.placeholder": { zh: "\u8D44\u4EA7\u540D\u79F0", en: "Asset name" },
      "form.icon.placeholder": { zh: "\u8BF7\u8F93\u5165\u4E00\u4E2A Emoji \u4F5C\u4E3A\u56FE\u6807", en: "Please enter one Emoji as icon" },
      "form.price.placeholder": { zh: "\u8D2D\u5165\u4EF7\u683C\uFF08\u5143\uFF09", en: "Purchase price" },
      "form.recycle.placeholder": { zh: "\u56DE\u6536\u4EF7\u683C\uFF08\u5143\uFF09", en: "Recycle price" },
      "form.tags.placeholder": { zh: "\u8F93\u5165\u6807\u7B7E\uFF0C\u56DE\u8F66\u786E\u8BA4", en: "Type tags and press Enter" },
      "form.action.cancel": { zh: "\u53D6\u6D88", en: "Cancel" },
      "form.action.delete": { zh: "\u5220\u9664", en: "Delete" },
      "form.action.save": { zh: "\u4FDD\u5B58", en: "Save" },
      "form.error.nameRequired": { zh: "\u8BF7\u586B\u5199\u540D\u79F0", en: "Please enter a name" },
      "form.error.priceInvalid": { zh: "\u8BF7\u586B\u5199\u6709\u6548\u7684\u4EF7\u683C", en: "Please enter a valid price" },
      "form.error.fromRequired": { zh: "\u8BF7\u9009\u62E9\u8D2D\u5165\u65E5\u671F", en: "Please select a purchase date" },
      "form.error.toBeforeFrom": { zh: "\u5230\u671F\u65E5\u671F\u9700\u4E0D\u65E9\u4E8E\u8D2D\u5165\u65E5\u671F", en: "End date must not be earlier than purchase date" },
      "form.error.recycleInvalid": { zh: "\u56DE\u6536\u4EF7\u683C\u683C\u5F0F\u4E0D\u6B63\u786E", en: "Invalid recycle price format" },
      "form.error.recycleGtPrice": { zh: "\u56DE\u6536\u4EF7\u4E0D\u80FD\u5927\u4E8E\u4EF7\u683C", en: "Recycle price must not exceed price" },
      // Tag panel
      "tags.search.placeholder": { zh: "\u641C\u7D22\u6807\u7B7E", en: "Search tags" },
      "tags.selectAll": { zh: "\u5168\u9009", en: "Select all" },
      "tags.deselectAll": { zh: "\u53D6\u6D88\u5168\u9009", en: "Deselect all" }
    };
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LacCostSetPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// types.ts
var DEFAULT_SETTINGS = {
  defaultIcon: "\u{1F4E6}",
  entryFile: "costset/costset.md",
  enableContextMenu: true,
  defaultSort: "none",
  locale: "auto"
};

// main.ts
init_i18n();

// repositories/AssetRepository.ts
var import_obsidian = require("obsidian");

// models/Asset.ts
var Asset = class {
  constructor(idOrRawData, tomlData) {
    var _a, _b, _c, _d, _e, _f, _g;
    if (typeof idOrRawData === "string" && tomlData) {
      this.id = idOrRawData;
      const src = tomlData.costset ? tomlData.costset : tomlData;
      this.name = src.name || "";
      this.icon = (_d = (_c = (_a = src.style) == null ? void 0 : _a.icon) != null ? _c : (_b = tomlData.style) == null ? void 0 : _b.icon) != null ? _d : "\u{1F4E6}";
      const detail = (_f = (_e = src.detail) != null ? _e : tomlData.detail) != null ? _f : {};
      this.price = Number(detail.price) || 0;
      this.activeFrom = this.parseDate(detail.active_from) || new Date();
      this.activeTo = this.parseDate(detail.active_to) || void 0;
      this.recyclePrice = Number(detail.recycle_price) || 0;
      this.tags = Array.isArray(detail.tags) ? detail.tags : (detail.tags || "").split(",").map((l) => l.trim()).filter((tag) => tag);
      this.hidden = !!((_g = detail.hidden) != null ? _g : src.hidden);
    } else if (typeof idOrRawData === "object") {
      this.id = idOrRawData.id || "";
      this.name = idOrRawData.name || "";
      this.icon = idOrRawData.icon || "\u{1F4E6}";
      this.price = Number(idOrRawData.price) || 0;
      this.activeFrom = this.parseDate(idOrRawData.active_from || idOrRawData.activeFrom) || new Date();
      this.activeTo = this.parseDate(idOrRawData.active_to || idOrRawData.activeTo) || void 0;
      this.recyclePrice = Number(idOrRawData.recycle_price) || 0;
      this.tags = Array.isArray(idOrRawData.tags) ? idOrRawData.tags : (idOrRawData.tags || "").split(",").map((l) => l.trim()).filter((tag) => tag);
      this.hidden = !!idOrRawData.hidden;
    } else {
      throw new Error("Invalid asset data");
    }
  }
  parseDate(dateStr) {
    if (!dateStr)
      return void 0;
    const date = new Date(dateStr);
    return isNaN(date.getTime()) ? void 0 : date;
  }
  getName() {
    return this.name;
  }
  getPrice() {
    return this.price;
  }
  getDailyCost(now = new Date()) {
    const from = this.activeFrom;
    const end = this.activeTo && this.activeTo.getTime() < now.getTime() ? this.activeTo : now;
    const days = Math.max(1, Math.floor((end.getTime() - from.getTime()) / 864e5));
    return (this.price - this.recyclePrice) / days;
  }
  getUsageDays(now = new Date()) {
    const from = this.activeFrom;
    const end = this.activeTo && this.activeTo.getTime() < now.getTime() ? this.activeTo : now;
    return Math.max(1, Math.floor((end.getTime() - from.getTime()) / 864e5));
  }
  isActive(date = new Date()) {
    return this.activeFrom <= date && (!this.activeTo || date < this.activeTo);
  }
  toTomlString() {
    const formatDate = (date) => {
      if (!date)
        return "";
      return date.toISOString().split("T")[0];
    };
    return `name = "${this.name}"

[style]
icon = "${this.icon}"

[detail]
price = ${this.price}
active_from = "${formatDate(this.activeFrom)}"
active_to = "${formatDate(this.activeTo)}"
recycle_price = ${this.recyclePrice}
tags = [${this.tags.map((tag) => `"${tag}"`).join(", ")}]
`;
  }
  // 仅输出 costset 命名空间的 TOML 片段（用于安全合并）
  toCostsetTomlSections() {
    const formatDate = (date) => {
      if (!date)
        return "";
      return date.toISOString().split("T")[0];
    };
    const tagsStr = this.tags.map((tag) => `"${tag}"`).join(", ");
    return `[costset]
name = "${this.name}"
hidden = ${this.hidden ? "true" : "false"}

[costset.style]
icon = "${this.icon}"

[costset.detail]
price = ${this.price}
active_from = "${formatDate(this.activeFrom)}"
active_to = "${formatDate(this.activeTo)}"
recycle_price = ${this.recyclePrice}
tags = [${tagsStr}]
`;
  }
};

// repositories/AssetRepository.ts
var AssetRepository = class {
  constructor(app, rootFilePath) {
    this.app = app;
    this.rootFilePath = rootFilePath;
  }
  // 获取资产文件夹路径（从根文件路径推导）
  getAssetsFolder() {
    const pathParts = this.rootFilePath.split("/");
    if (pathParts.length > 1) {
      return pathParts.slice(0, -1).join("/");
    }
    return "assets";
  }
  // 加载所有资产
  async loadAll() {
    const rootFile = this.app.vault.getAbstractFileByPath(this.rootFilePath);
    if (!rootFile || !(rootFile instanceof import_obsidian.TFile)) {
      return [];
    }
    try {
      const content = await this.app.vault.read(rootFile);
      const matches = content.match(/\[\[([^\]]+)\]\]/g) || [];
      const linkTargets = matches.map((m) => m.replace(/^\[\[|\]\]$/g, "")).map((s) => {
        var _a;
        return (_a = s.split("|")[0]) == null ? void 0 : _a.trim();
      }).filter(Boolean);
      const assets = [];
      for (const target of linkTargets) {
        let file = null;
        try {
          file = this.app.metadataCache.getFirstLinkpathDest(target, this.rootFilePath);
        } catch (_) {
          file = null;
        }
        if (!file)
          continue;
        try {
          const fileContent = await this.app.vault.read(file);
          const data = this.parseToml(this.quoteWikilinksForToml(fileContent));
          const assetId = file.basename || target;
          const asset = new Asset(assetId, data);
          asset.hidden = false;
          assets.push(asset);
        } catch (e) {
          console.error(`Failed to load asset ${target}:`, e);
        }
      }
      return assets;
    } catch (e) {
      console.error("Failed to load assets:", e);
      return [];
    }
  }
  // 保存资产（仅修改与 costset 相关的键：name、style.icon、detail.*、hidden）
  async saveAsset(asset) {
    let targetFile = null;
    try {
      targetFile = this.app.metadataCache.getFirstLinkpathDest(asset.id, this.rootFilePath);
    } catch (_) {
      targetFile = null;
    }
    if (!targetFile) {
      let fileName = `${asset.id}.md`;
      let filePath = `${this.getAssetsFolder()}/${fileName}`;
      const folder = this.app.vault.getAbstractFileByPath(this.getAssetsFolder());
      if (!folder) {
        await this.app.vault.createFolder(this.getAssetsFolder());
      }
      const initialContent = this.dequoteWikilinks(asset.toTomlString());
      try {
        await this.app.vault.adapter.write(filePath, initialContent);
      } catch (e) {
        fileName = `${encodeURIComponent(asset.id)}.md`;
        filePath = `${this.getAssetsFolder()}/${fileName}`;
        await this.app.vault.adapter.write(filePath, initialContent);
      }
    } else {
      const existing = await this.app.vault.read(targetFile);
      const rewritten = this.rewriteTomlWithCommentsTop(existing, asset);
      await this.app.vault.modify(targetFile, this.dequoteWikilinks(rewritten));
    }
    await this.updateRootFile(asset.id, true);
  }
  // 删除资产
  async deleteAsset(id) {
    await this.updateRootFile(id, false);
  }
  // 注意：hidden 字段不持久化（仅内存使用），此处不提供 setHidden
  // 更新根文件
  async updateRootFile(assetId, isAdd) {
    const rootPath = this.rootFilePath;
    let rootContent = "";
    try {
      const rootFile = this.app.vault.getAbstractFileByPath(rootPath);
      if (rootFile && rootFile instanceof import_obsidian.TFile) {
        rootContent = await this.app.vault.read(rootFile);
      }
    } catch (e) {
    }
    if (isAdd) {
      const hasAnyLink = new RegExp(`\\[\\[${assetId}(\\|[^\\]]+)?\\]\\]`).test(rootContent);
      if (!hasAnyLink) {
        rootContent += `
[[${assetId}]]`;
      }
    } else {
      rootContent = rootContent.replace(new RegExp(`\\[\\[${assetId}(\\|[^\\]]+)?\\]\\]`, "g"), "");
      rootContent = rootContent.replace(/\n{3,}/g, "\n\n").trimEnd();
    }
    await this.app.vault.adapter.write(rootPath, rootContent);
  }
  // 解析TOML内容（支持嵌套节名，如 [costset.detail]）
  parseToml(content) {
    const lines = content.split("\n");
    const result = {};
    let currentPath = [];
    const ensurePath = (root, path) => {
      let node = root;
      for (const part of path) {
        if (!node[part] || typeof node[part] !== "object")
          node[part] = {};
        node = node[part];
      }
      return node;
    };
    for (const raw of lines) {
      const line = raw.trim();
      if (!line || line.startsWith("#"))
        continue;
      if (line.startsWith("[") && line.endsWith("]")) {
        const section = line.slice(1, -1).trim();
        currentPath = section.split(".").map((s) => s.trim()).filter(Boolean);
        ensurePath(result, currentPath);
        continue;
      }
      const eq = line.indexOf("=");
      if (eq === -1)
        continue;
      const cleanKey = line.slice(0, eq).trim();
      let cleanValue = line.slice(eq + 1).trim();
      let parsedValue = cleanValue;
      if (cleanValue.startsWith('"') && cleanValue.endsWith('"')) {
        parsedValue = cleanValue.slice(1, -1);
      } else if (cleanValue === "true" || cleanValue === "false") {
        parsedValue = cleanValue === "true";
      } else if (cleanValue.startsWith("[") && cleanValue.endsWith("]")) {
        const arrayContent = cleanValue.slice(1, -1).trim();
        parsedValue = arrayContent ? arrayContent.split(",").map((item) => item.trim().replace(/^"|"$/g, "")) : [];
      } else if (!isNaN(Number(cleanValue))) {
        parsedValue = Number(cleanValue);
      }
      if (currentPath.length > 0) {
        const node = ensurePath(result, currentPath);
        node[cleanKey] = parsedValue;
      } else {
        result[cleanKey] = parsedValue;
      }
    }
    return result;
  }
  // 纯 TOML 重写模式：解析→修改→stringify；将原有注释置顶保留
  rewriteTomlWithCommentsTop(existing, asset) {
    const commentLines = [];
    const otherLines = [];
    for (const raw of existing.split("\n")) {
      const t2 = raw.trim();
      if (t2.startsWith("#"))
        commentLines.push(raw);
      else
        otherLines.push(raw);
    }
    const parsed = this.parseToml(this.quoteWikilinksForToml(otherLines.join("\n"))) || {};
    parsed["name"] = asset.name;
    if (!parsed["style"] || typeof parsed["style"] !== "object")
      parsed["style"] = {};
    parsed["style"]["icon"] = asset.icon;
    if (!parsed["detail"] || typeof parsed["detail"] !== "object")
      parsed["detail"] = {};
    parsed["detail"]["price"] = Number(asset.price) || 0;
    parsed["detail"]["active_from"] = asset.activeFrom ? asset.activeFrom.toISOString().split("T")[0] : "";
    parsed["detail"]["active_to"] = asset.activeTo ? asset.activeTo.toISOString().split("T")[0] : "";
    parsed["detail"]["recycle_price"] = Number(asset.recyclePrice) || 0;
    parsed["detail"]["tags"] = Array.isArray(asset.tags) ? asset.tags : [];
    const tomlBody = this.stringifyToml(parsed);
    const commentBlock = commentLines.length > 0 ? commentLines.join("\n") + "\n\n" : "";
    return commentBlock + tomlBody;
  }
  // 将 JS 对象稳定地序列化为 TOML 文本（支持多层节名）
  stringifyToml(obj) {
    const isPlainObject = (v) => v && typeof v === "object" && !Array.isArray(v);
    const keys = Object.keys(obj || {});
    const scalarKeys = keys.filter((k) => !isPlainObject(obj[k]));
    const objectKeys = keys.filter((k) => isPlainObject(obj[k]));
    const lines = [];
    if (scalarKeys.includes("name")) {
      lines.push(this.renderTomlKeyValue("name", obj["name"]));
    }
    scalarKeys.filter((k) => k !== "name").sort((a, b) => a.localeCompare(b)).forEach((k) => lines.push(this.renderTomlKeyValue(k, obj[k])));
    const sectionOrder = ["style", "detail"];
    const orderedObjectKeys = [
      ...sectionOrder.filter((k) => objectKeys.includes(k)),
      ...objectKeys.filter((k) => !sectionOrder.includes(k)).sort((a, b) => a.localeCompare(b))
    ];
    for (const k of orderedObjectKeys) {
      lines.push("");
      this.renderTomlSection(lines, [k], obj[k]);
    }
    return lines.join("\n").replace(/\n{3,}/g, "\n\n").trim() + "\n";
  }
  renderTomlSection(out, path, value) {
    out.push(`[${path.join(".")}]`);
    const isPlainObject = (v) => v && typeof v === "object" && !Array.isArray(v);
    const keys = Object.keys(value || {});
    const scalarKeys = keys.filter((k) => !isPlainObject(value[k]));
    const objectKeys = keys.filter((k) => isPlainObject(value[k]));
    scalarKeys.sort((a, b) => a.localeCompare(b)).forEach((k) => {
      out.push(this.renderTomlKeyValue(k, value[k]));
    });
    const orderedObjectKeys = objectKeys.sort((a, b) => a.localeCompare(b));
    for (const k of orderedObjectKeys) {
      out.push("");
      this.renderTomlSection(out, [...path, k], value[k]);
    }
  }
  renderTomlKeyValue(key, val) {
    return `${key} = ${this.tomlValue(val)}`;
  }
  tomlValue(val) {
    if (val === null || val === void 0)
      return '""';
    if (Array.isArray(val)) {
      return `[${val.map((v) => this.tomlValue(v)).join(", ")}]`;
    }
    switch (typeof val) {
      case "number":
        return Number.isFinite(val) ? String(val) : "0";
      case "boolean":
        return val ? "true" : "false";
      case "string":
      default:
        return `"${String(val).replace(/\\/g, "\\\\").replace(/\"/g, '\\"')}"`;
    }
  }
  // 将裸的 [[...]] 或 [[...|alias]] 包裹为可被 TOML 解析的字符串
  quoteWikilinksForToml(content) {
    return content.replace(/\[\[[^\]]+\]\]/g, (match, offset, full) => {
      const before = offset > 0 ? full[offset - 1] : "";
      const after = offset + match.length < full.length ? full[offset + match.length] : "";
      if (before === '"' && after === '"' || before === "'" && after === "'") {
        return match;
      }
      return `"${match}"`;
    });
  }
  // 将 "[[...]]" 或 '[[...]]' 形式还原为裸的双链
  dequoteWikilinks(content) {
    return content.replace(/(["'])\[\[[^\]]+\]\]\1/g, (match) => match.slice(1, -1));
  }
};

// components/modals/AssetFormModal.ts
var import_obsidian2 = require("obsidian");

// components/modals/ConfirmModal.ts
var ConfirmModal = class {
  constructor(message, confirmText = "\u786E\u5B9A", cancelText = "\u53D6\u6D88", danger = false) {
    this.message = message;
    this.confirmText = confirmText;
    this.cancelText = cancelText;
    this.danger = danger;
  }
  open() {
    return new Promise((resolve) => {
      this.injectStylesOnce();
      this.maskEl = document.createElement("div");
      this.maskEl.className = "date-picker-mask";
      this.modalEl = document.createElement("div");
      this.modalEl.className = "date-picker-modal";
      const content = document.createElement("div");
      content.className = "date-picker-content";
      const title = document.createElement("div");
      title.className = "date-picker-title";
      try {
        const { t: t2 } = (init_i18n(), __toCommonJS(i18n_exports));
        title.textContent = t2("confirm.title");
      } catch (_) {
        title.textContent = "\u786E\u8BA4\u64CD\u4F5C";
      }
      const msgEl = document.createElement("div");
      msgEl.className = "confirm-message";
      msgEl.textContent = this.message;
      const actions = document.createElement("div");
      actions.className = "date-picker-actions";
      const cancelBtn = document.createElement("button");
      cancelBtn.className = "date-picker-btn date-picker-btn-cancel";
      cancelBtn.textContent = this.cancelText;
      const confirmBtn = document.createElement("button");
      confirmBtn.className = "date-picker-btn date-picker-btn-confirm";
      confirmBtn.textContent = this.confirmText;
      if (this.danger)
        confirmBtn.classList.add("danger");
      actions.appendChild(cancelBtn);
      actions.appendChild(confirmBtn);
      content.appendChild(title);
      content.appendChild(msgEl);
      content.appendChild(actions);
      this.modalEl.appendChild(content);
      this.maskEl.appendChild(this.modalEl);
      document.body.appendChild(this.maskEl);
      const close = (result) => {
        if (this.maskEl && this.maskEl.parentElement) {
          this.maskEl.parentElement.removeChild(this.maskEl);
        }
        this.maskEl = void 0;
        this.modalEl = void 0;
        resolve(result);
      };
      this.maskEl.addEventListener("click", (e) => {
        if (e.target === this.maskEl)
          close(false);
      });
      cancelBtn.addEventListener("click", () => close(false));
      confirmBtn.addEventListener("click", () => close(true));
    });
  }
  injectStylesOnce() {
    const STYLE_ID = "lac-confirm-modal-styles";
    if (document.getElementById(STYLE_ID))
      return;
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
            .date-picker-modal .confirm-message { color: #F5F6FA; line-height: 1.6; padding: 8px 0 16px; }
            .date-picker-modal .date-picker-btn.danger { background: #7a1e1e; color: #fff; }
            .date-picker-modal .date-picker-btn.danger:hover { background: #992525; }
        `;
    document.head.appendChild(style);
  }
};

// components/modals/AssetFormModal.ts
init_i18n();
var AssetFormModal = class {
  constructor(app, assetRepository, asset, onSaved) {
    this.app = app;
    this.assetRepository = assetRepository;
    this.asset = asset;
    this.onSaved = onSaved;
  }
  open() {
    var _a, _b;
    this.maskEl = document.createElement("div");
    this.maskEl.className = "date-picker-mask";
    this.modalEl = document.createElement("div");
    this.modalEl.className = "date-picker-modal asset-form-modal";
    this.injectAssetFormStyles();
    const content = document.createElement("div");
    content.className = "date-picker-content";
    content.style.gap = "0px";
    const form = document.createElement("form");
    form.className = "asset-form asset-form--horizontal";
    form.style.display = "grid";
    form.style.gridTemplateColumns = "1fr";
    form.style.rowGap = "0px";
    form.style.gap = "0px";
    const ensureErrorEl = (group) => {
      let err = group.querySelector(".field-error");
      if (!err) {
        const field = group.querySelector(".form-field");
        err = document.createElement("div");
        err.className = "field-error";
        if (field)
          field.appendChild(err);
        else
          group.appendChild(err);
      }
      return err;
    };
    const setError = (group, message) => {
      group.classList.add("has-error");
      const input = group.querySelector("input, textarea, select");
      if (input)
        input.setAttribute("aria-invalid", "true");
      ensureErrorEl(group).textContent = message;
    };
    const clearError = (group) => {
      group.classList.remove("has-error");
      const input = group.querySelector("input, textarea, select");
      if (input)
        input.setAttribute("aria-invalid", "false");
      const err = group.querySelector(".field-error");
      if (err)
        err.remove();
    };
    const nameGroup = document.createElement("div");
    nameGroup.className = "form-group";
    {
      const lbl = this.createLabel(t("form.name"));
      lbl.classList.add("label-required");
      nameGroup.appendChild(lbl);
    }
    const nameInput = document.createElement("input");
    nameInput.type = "text";
    nameInput.placeholder = t("form.assetName.placeholder");
    if (this.asset)
      nameInput.value = this.asset.name;
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(nameInput);
      nameGroup.appendChild(field);
    }
    this.applyRowLayout(nameGroup);
    form.appendChild(nameGroup);
    const validateName = () => {
      const v = (nameInput.value || "").trim();
      if (!v) {
        setError(nameGroup, t("form.error.nameRequired"));
        return false;
      }
      clearError(nameGroup);
      return true;
    };
    nameInput.addEventListener("input", validateName);
    nameInput.addEventListener("blur", validateName);
    const iconGroup = document.createElement("div");
    iconGroup.className = "form-group";
    iconGroup.appendChild(this.createLabel(t("form.icon")));
    const iconInput = document.createElement("input");
    iconInput.type = "text";
    iconInput.placeholder = "\u{1F60A}" + t("form.icon.placeholder");
    if (this.asset)
      iconInput.value = this.asset.icon;
    else {
      try {
        const plugin = (_b = (_a = this.app.plugins) == null ? void 0 : _a.plugins) == null ? void 0 : _b["lac-costset"];
        const fallback = "\u{1F4E6}";
        iconInput.value = plugin && plugin.settings && plugin.settings.defaultIcon ? plugin.settings.defaultIcon : fallback;
      } catch (_) {
        iconInput.value = "\u{1F4E6}";
      }
    }
    const enforceSingleEmoji = () => {
      const first = this.getFirstEmojiGrapheme(iconInput.value || "");
      iconInput.value = first || "";
    };
    iconInput.addEventListener("input", enforceSingleEmoji);
    iconInput.addEventListener("paste", (e) => {
      setTimeout(enforceSingleEmoji, 0);
    });
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(iconInput);
      iconGroup.appendChild(field);
    }
    this.applyRowLayout(iconGroup);
    form.appendChild(iconGroup);
    const priceGroup = document.createElement("div");
    priceGroup.className = "form-group";
    {
      const lbl = this.createLabel(t("form.price"));
      lbl.classList.add("label-required");
      priceGroup.appendChild(lbl);
    }
    const priceInput = document.createElement("input");
    priceInput.type = "number";
    priceInput.placeholder = t("form.price.placeholder");
    priceInput.step = "0.01";
    if (this.asset)
      priceInput.value = this.asset.price.toString();
    const sanitizeNumeric = (el) => {
      el.value = this.sanitizeNumericString(el.value || "");
    };
    const limitTwoDecimals = (el) => {
      el.value = this.clampTwoDecimalsString(el.value || "");
    };
    priceInput.addEventListener("input", () => sanitizeNumeric(priceInput));
    priceInput.addEventListener("blur", () => {
      sanitizeNumeric(priceInput);
      limitTwoDecimals(priceInput);
    });
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(priceInput);
      priceGroup.appendChild(field);
    }
    this.applyRowLayout(priceGroup);
    form.appendChild(priceGroup);
    const validatePrice = () => {
      const str = (priceInput.value || "").trim();
      const num = this.parseMoney(str);
      if (num === null) {
        setError(priceGroup, t("form.error.priceInvalid"));
        return false;
      }
      clearError(priceGroup);
      return true;
    };
    priceInput.addEventListener("input", validatePrice);
    priceInput.addEventListener("blur", validatePrice);
    const fromGroup = document.createElement("div");
    fromGroup.className = "form-group";
    {
      const lbl = this.createLabel(t("form.purchaseOn"));
      lbl.classList.add("label-required");
      fromGroup.appendChild(lbl);
    }
    const fromInput = document.createElement("input");
    fromInput.type = "text";
    fromInput.readOnly = true;
    fromInput.placeholder = t("form.purchaseDate");
    fromInput.value = this.asset ? this.formatDateLocal(this.asset.activeFrom) : "";
    fromInput.addEventListener("click", () => {
      var _a2;
      this.openDatePicker(fromInput.value ? new Date(fromInput.value) : ((_a2 = this.asset) == null ? void 0 : _a2.activeFrom) || new Date(), (picked) => {
        fromInput.value = this.formatDateLocal(picked);
        clearError(fromGroup);
      });
    });
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(fromInput);
      fromGroup.appendChild(field);
    }
    this.applyRowLayout(fromGroup);
    form.appendChild(fromGroup);
    const validateFrom = () => {
      if (!fromInput.value) {
        setError(fromGroup, t("form.error.fromRequired"));
        return false;
      }
      clearError(fromGroup);
      return true;
    };
    fromInput.addEventListener("blur", validateFrom);
    const toGroup = document.createElement("div");
    toGroup.className = "form-group";
    toGroup.appendChild(this.createLabel(t("form.endDate")));
    const toInput = document.createElement("input");
    toInput.type = "text";
    toInput.readOnly = true;
    toInput.placeholder = t("form.endDatePlaceholder");
    toInput.value = this.asset && this.asset.activeTo ? this.formatDateLocal(this.asset.activeTo) : "";
    let clearBtn;
    const updateToClear = () => {
      if (clearBtn)
        clearBtn.style.display = toInput.value ? "inline-flex" : "none";
    };
    toInput.addEventListener("click", () => {
      var _a2;
      this.openDatePicker(toInput.value ? new Date(toInput.value) : ((_a2 = this.asset) == null ? void 0 : _a2.activeTo) || new Date(), (picked) => {
        toInput.value = this.formatDateLocal(picked);
        updateToClear();
        if (fromInput.value) {
          const fd = new Date(fromInput.value);
          const td = new Date(toInput.value);
          if (td.getTime() < fd.getTime())
            setError(toGroup, t("form.error.toBeforeFrom"));
          else
            clearError(toGroup);
        }
      });
    });
    {
      const field = document.createElement("div");
      field.className = "form-field";
      const wrap = document.createElement("div");
      wrap.className = "input-with-clear";
      wrap.appendChild(toInput);
      clearBtn = document.createElement("button");
      clearBtn.type = "button";
      clearBtn.className = "input-clear";
      clearBtn.textContent = "\xD7";
      clearBtn.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        toInput.value = "";
        updateToClear();
      });
      wrap.appendChild(clearBtn);
      field.appendChild(wrap);
      toGroup.appendChild(field);
    }
    this.applyRowLayout(toGroup);
    form.appendChild(toGroup);
    updateToClear();
    const recycleGroup = document.createElement("div");
    recycleGroup.className = "form-group";
    recycleGroup.appendChild(this.createLabel(t("form.recyclePrice")));
    const recycleInput = document.createElement("input");
    recycleInput.type = "number";
    recycleInput.placeholder = t("form.recycle.placeholder");
    recycleInput.step = "0.01";
    if (this.asset)
      recycleInput.value = this.asset.recyclePrice.toString();
    recycleInput.addEventListener("input", () => sanitizeNumeric(recycleInput));
    recycleInput.addEventListener("blur", () => {
      sanitizeNumeric(recycleInput);
      limitTwoDecimals(recycleInput);
    });
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(recycleInput);
      recycleGroup.appendChild(field);
    }
    this.applyRowLayout(recycleGroup);
    form.appendChild(recycleGroup);
    const tagsGroup = document.createElement("div");
    tagsGroup.className = "form-group";
    tagsGroup.appendChild(this.createLabel(t("form.tags")));
    let currentTags = this.asset ? [...this.asset.tags || []] : [];
    const tagsWrapper = document.createElement("div");
    tagsWrapper.className = "tags-input";
    const tagsInput = document.createElement("input");
    tagsInput.type = "text";
    tagsInput.placeholder = t("form.tags.placeholder");
    tagsWrapper.appendChild(tagsInput);
    {
      const field = document.createElement("div");
      field.className = "form-field";
      field.appendChild(tagsWrapper);
      tagsGroup.appendChild(field);
    }
    this.applyRowLayout(tagsGroup);
    form.appendChild(tagsGroup);
    const normalize = (tstr) => tstr.trim();
    const addTag = (raw) => {
      const pieces = raw.split(/[，,\s]+/).map(normalize).filter(Boolean);
      pieces.forEach((p) => {
        if (!currentTags.includes(p))
          currentTags.push(p);
      });
      syncChips();
      tagsInput.value = "";
    };
    const removeTag = (value) => {
      currentTags = currentTags.filter((tg) => tg !== value);
      syncChips();
    };
    const syncChips = () => {
      Array.from(tagsWrapper.querySelectorAll(".tag-chip")).forEach((el) => el.remove());
      currentTags.forEach((tag) => {
        const chip = document.createElement("span");
        chip.className = "tag-chip";
        chip.textContent = tag;
        const rm = document.createElement("button");
        rm.type = "button";
        rm.className = "remove";
        rm.textContent = "\xD7";
        rm.addEventListener("click", () => removeTag(tag));
        chip.appendChild(rm);
        tagsWrapper.insertBefore(chip, tagsInput);
      });
    };
    syncChips();
    tagsInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === "," || e.key === "\uFF0C") {
        e.preventDefault();
        if (tagsInput.value.trim())
          addTag(tagsInput.value);
      }
      if (e.key === "Backspace" && !tagsInput.value && currentTags.length > 0) {
        e.preventDefault();
        removeTag(currentTags[currentTags.length - 1]);
      }
    });
    tagsInput.addEventListener("blur", () => {
      if (tagsInput.value.trim())
        addTag(tagsInput.value);
    });
    const actions = document.createElement("div");
    actions.className = "form-actions";
    const cancelBtn = document.createElement("button");
    cancelBtn.type = "button";
    cancelBtn.textContent = t("form.action.cancel");
    cancelBtn.className = "form-btn form-btn-secondary";
    const deleteBtn = document.createElement("button");
    deleteBtn.type = "button";
    deleteBtn.textContent = t("form.action.delete");
    deleteBtn.className = "form-btn form-btn-danger";
    const saveBtn = document.createElement("button");
    saveBtn.type = "submit";
    saveBtn.textContent = t("form.action.save");
    saveBtn.className = "form-btn form-btn-primary";
    actions.appendChild(cancelBtn);
    if (this.asset)
      actions.appendChild(deleteBtn);
    actions.appendChild(saveBtn);
    form.appendChild(actions);
    content.appendChild(form);
    this.modalEl.appendChild(content);
    this.maskEl.appendChild(this.modalEl);
    document.body.appendChild(this.maskEl);
    const close = () => this.close();
    this.maskEl.addEventListener("click", (e) => {
      if (e.target === this.maskEl)
        close();
    });
    cancelBtn.addEventListener("click", close);
    if (this.asset) {
      deleteBtn.addEventListener("click", async () => {
        if (!this.asset)
          return;
        const ok = await new ConfirmModal(t("view.confirmDeleteAsset", { name: this.asset.name }), t("common.delete"), t("common.cancel"), true).open();
        if (!ok)
          return;
        await this.assetRepository.deleteAsset(this.asset.id);
        if (this.onSaved)
          this.onSaved();
        close();
      });
    }
    form.addEventListener("submit", async (e) => {
      var _a2, _b2, _c;
      e.preventDefault();
      clearError(nameGroup);
      clearError(priceGroup);
      clearError(fromGroup);
      clearError(toGroup);
      clearError(recycleGroup);
      const nameVal = (nameInput.value || "").trim();
      const priceStr = (priceInput.value || "").trim();
      const priceNum = this.parseMoney(priceStr);
      let valid = true;
      if (!nameVal) {
        setError(nameGroup, t("form.error.nameRequired"));
        valid = false;
      }
      if (priceNum === null) {
        setError(priceGroup, t("form.error.priceInvalid"));
        valid = false;
      }
      if (!fromInput.value) {
        setError(fromGroup, t("form.error.fromRequired"));
        valid = false;
      }
      if (!valid) {
        const firstErr = [nameGroup, priceGroup, fromGroup].find((g) => g.classList.contains("has-error"));
        if (firstErr) {
          (_a2 = firstErr.querySelector("input")) == null ? void 0 : _a2.focus();
          firstErr.scrollIntoView({ behavior: "smooth", block: "center" });
        }
        return;
      }
      const fromDate = new Date(fromInput.value);
      const priceValue = priceNum;
      let toDate = void 0;
      if (toInput.value) {
        const d = new Date(toInput.value);
        if (d.getTime() < fromDate.getTime()) {
          setError(toGroup, t("form.error.toBeforeFrom"));
          (_b2 = toGroup.querySelector("input")) == null ? void 0 : _b2.focus();
          return;
        }
        toDate = d;
      }
      const recycleStr = (recycleInput.value || "").trim();
      const recycleNum = recycleStr ? this.parseMoney(recycleStr) : 0;
      if (recycleStr && recycleNum === null) {
        setError(recycleGroup, t("form.error.recycleInvalid"));
        return;
      }
      if ((recycleNum || 0) > priceValue) {
        setError(recycleGroup, t("form.error.recycleGtPrice"));
        return;
      }
      const assetData = {
        id: ((_c = this.asset) == null ? void 0 : _c.id) || nameVal,
        name: nameVal,
        icon: iconInput.value || "\u{1F4E6}",
        price: priceValue,
        activeFrom: fromDate,
        activeTo: toDate,
        recyclePrice: recycleNum || 0,
        tags: currentTags
      };
      try {
        const asset = new Asset(assetData);
        await this.assetRepository.saveAsset(asset);
        if (this.onSaved)
          this.onSaved();
        close();
      } catch (error) {
        new import_obsidian2.Notice(t("notice.saveFailed", { msg: error.message }));
      }
    });
  }
  injectAssetFormStyles() {
    const STYLE_ID = "asset-form-inline-styles";
    if (document.getElementById(STYLE_ID))
      return;
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
			/* \u5230\u671F\u8F93\u5165\u6E05\u9664\u6309\u94AE */
			.date-picker-modal.asset-form-modal .input-with-clear { position: relative; }
			.date-picker-modal.asset-form-modal .input-with-clear .input-clear { position: absolute; right: 6px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; border-radius: 50%; display: none; align-items: center; justify-content: center; font-size: 14px; line-height: 18px; }
			/* \u5F39\u7A97\u5BB9\u5668\u66F4\u7D27\u51D1 */
			.date-picker-modal.asset-form-modal { max-height: 80vh; overflow: auto; }
			.date-picker-modal.asset-form-modal .date-picker-content { padding: 16px 20px; display: flex; flex-direction: column; gap: 0 !important; }
			.date-picker-modal.asset-form-modal .date-picker-title { font-size: 14px; margin-bottom: 6px; }

			/* \u6A2A\u5411\u8868\u5355\u5E03\u5C40\uFF0C\u538B\u7F29\u5782\u76F4\u7A7A\u767D */
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal { font-size: 15.5px; display: grid !important; grid-template-columns: 1fr; row-gap: 8px !important; column-gap: 0 !important; gap: 8px !important; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .form-group { display: grid !important; grid-template-columns: 64px 1fr; align-items: center; column-gap: 8px; row-gap: 0; margin: 0 !important; padding: 0 !important; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal label { min-width: 64px; margin: 0; text-align: right; justify-self: end; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .form-field { width: 100%; margin: 0 !important; padding: 0 !important; }
			/* \u538B\u7F29\u8F93\u5165\u63A7\u4EF6\u9AD8\u5EA6\u4E0E\u5185\u8FB9\u8DDD */
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal input[type="text"],
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal input[type="number"] { height: 32px; padding: 4px 10px; font-size: 15.5px; line-height: 1.45; }
			/* \u6807\u7B7E\u8F93\u5165\u4E0E chip \u66F4\u7D27\u51D1 */
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .tags-input { display: flex; flex-wrap: wrap; gap: 4px; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .tag-chip { font-size: 12px; height: 18px; line-height: 18px; padding: 0 6px; border-radius: 4px; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .tag-chip .remove { width: 16px; height: 16px; line-height: 16px; font-size: 12px; margin-left: 4px; }
			.date-picker-modal.asset-form-modal .asset-form.asset-form--horizontal .tags-input input { flex: 1; min-width: 120px; height: 28px; padding: 4px 10px; font-size: 14.5px; }

			/* \u5FC5\u586B\u4E0E\u9519\u8BEF\u6837\u5F0F */
			.date-picker-modal.asset-form-modal .label-required::after { content: ' *'; color: #ff4d4f; margin-left: 2px; }
			.date-picker-modal.asset-form-modal .form-group.has-error input[type="text"],
			.date-picker-modal.asset-form-modal .form-group.has-error input[type="number"] { border-color: #ff4d4f !important; box-shadow: 0 0 0 1px #ff4d4f inset; }
			.date-picker-modal.asset-form-modal .field-error { margin-top: 4px; color: #ff8587; font-size: 12px; line-height: 1.3; }
			.date-picker-modal.asset-form-modal .field-error:empty { display: none; margin-top: 0; }

			/* \u64CD\u4F5C\u6309\u94AE\u533A\u66F4\u7D27\u51D1 */
			.date-picker-modal.asset-form-modal .form-actions { margin-top: 12px; gap: 16px; display: flex; justify-content: center; }
			.date-picker-modal.asset-form-modal .form-btn { height: 34px; padding: 0 14px; font-size: 14px; }
		`;
    document.head.appendChild(style);
  }
  applyRowLayout(group) {
    group.style.display = "grid";
    group.style.gridTemplateColumns = "72px 1fr";
    group.style.alignItems = "center";
    group.style.columnGap = "8px";
    group.style.rowGap = "0px";
    group.style.margin = "0";
    const label = group.querySelector("label");
    if (label) {
      label.style.minWidth = "72px";
      label.style.display = "inline-block";
      label.style.margin = "0";
    }
    const field = group.querySelector(".form-field");
    if (field) {
      field.style.width = "100%";
    }
  }
  close() {
    if (this.maskEl && this.maskEl.parentElement) {
      this.maskEl.parentElement.removeChild(this.maskEl);
    }
    this.maskEl = void 0;
    this.modalEl = void 0;
  }
  formatDateLocal(date) {
    const d = new Date(date.getTime() - date.getTimezoneOffset() * 6e4);
    return d.toISOString().split("T")[0];
  }
  // —— 金额字符串处理（成熟逻辑）——
  sanitizeNumericString(value) {
    let v = (value || "").replace(/[^\d.]/g, "");
    v = v.replace(/^\./, "");
    v = v.replace(/\.(?=.*\.)/g, "");
    return v;
  }
  clampTwoDecimalsString(value) {
    const m = (value || "").match(/^(\d+)(?:\.(\d*))?$/);
    if (!m)
      return "";
    const intPart = m[1];
    const decPart = (m[2] || "").slice(0, 2);
    return decPart ? `${intPart}.${decPart}` : intPart;
  }
  parseMoney(value) {
    const sanitized = this.sanitizeNumericString(value);
    const clamped = this.clampTwoDecimalsString(sanitized);
    if (clamped === "")
      return null;
    const num = Number(clamped);
    return Number.isFinite(num) && num >= 0 ? num : null;
  }
  // 与 costsetapp 对齐：用 surrogate pair 匹配获取第一个 emoji
  getFirstEmojiGrapheme(input) {
    const emojiRegex = /[\uD800-\uDBFF][\uDC00-\uDFFF]/;
    const m = (input || "").match(emojiRegex);
    return m ? m[0] : "";
  }
  // 弹出日期选择器（复用日期/标签弹窗风格）
  openDatePicker(currentDate, onConfirm) {
    const mask = document.createElement("div");
    mask.className = "date-picker-mask";
    const picker = document.createElement("div");
    picker.className = "date-picker-modal";
    const content = document.createElement("div");
    content.className = "date-picker-content";
    const title = document.createElement("div");
    title.className = "date-picker-title";
    title.textContent = t("date.pick");
    const wheelContainer = document.createElement("div");
    wheelContainer.className = "date-wheel-container";
    const currentYear = currentDate.getFullYear();
    const currentMonth = currentDate.getMonth() + 1;
    const currentDay = currentDate.getDate();
    const yearColumn = this.createWheelColumn(t("date.year"), this.generateYears(currentYear), currentYear, (year) => {
      this.updateDaysColumn(dayColumn, year, monthColumn.selectedValue);
    }, false);
    const monthColumn = this.createWheelColumn(t("date.month"), this.generateMonths(), currentMonth, (month) => {
      this.updateDaysColumn(dayColumn, yearColumn.selectedValue, month);
    }, true);
    const dayColumn = this.createWheelColumn(t("date.day"), this.generateDays(currentYear, currentMonth), currentDay, void 0, true);
    wheelContainer.appendChild(yearColumn.element);
    wheelContainer.appendChild(monthColumn.element);
    wheelContainer.appendChild(dayColumn.element);
    const actions = document.createElement("div");
    actions.className = "date-picker-actions";
    const cancelBtn = document.createElement("button");
    cancelBtn.className = "date-picker-btn date-picker-btn-cancel";
    cancelBtn.textContent = t("common.cancel");
    const confirmBtn = document.createElement("button");
    confirmBtn.className = "date-picker-btn date-picker-btn-confirm";
    confirmBtn.textContent = t("common.confirm");
    actions.appendChild(cancelBtn);
    actions.appendChild(confirmBtn);
    content.appendChild(title);
    content.appendChild(wheelContainer);
    content.appendChild(actions);
    picker.appendChild(content);
    mask.appendChild(picker);
    document.body.appendChild(mask);
    const closePicker = () => {
      document.body.removeChild(mask);
    };
    mask.addEventListener("click", (e) => {
      if (e.target === mask)
        closePicker();
    });
    cancelBtn.addEventListener("click", closePicker);
    confirmBtn.addEventListener("click", () => {
      const year = yearColumn.selectedValue;
      const month = monthColumn.selectedValue;
      const day = dayColumn.selectedValue;
      const picked = new Date(`${year}-${month.toString().padStart(2, "0")}-${day.toString().padStart(2, "0")}`);
      onConfirm(picked);
      closePicker();
    });
  }
  generateYears(currentYear) {
    const minYear = 1900;
    const nowYear = new Date().getFullYear();
    const maxYear = nowYear + 7;
    const years = [];
    for (let i = minYear; i <= maxYear; i++)
      years.push(i);
    return years;
  }
  generateMonths() {
    return Array.from({ length: 12 }, (_, i) => i + 1);
  }
  generateDays(year, month) {
    const daysInMonth = new Date(year, month, 0).getDate();
    return Array.from({ length: daysInMonth }, (_, i) => i + 1);
  }
  createWheelColumn(suffix, values, selectedValue, onChange, isInfinite = false) {
    const column = document.createElement("div");
    column.className = "date-wheel-column";
    const container = document.createElement("div");
    container.className = "date-wheel-items";
    let selectedIndex = values.indexOf(selectedValue);
    let currentSelectedValue = selectedValue;
    const api = { element: column, selectedValue: currentSelectedValue };
    const itemHeight = 40;
    if (isInfinite) {
      const repeatCount = 5;
      const totalItems = values.length * repeatCount;
      const middleGroupIndex = 2;
      const initialScrollTop = middleGroupIndex * values.length * itemHeight + selectedIndex * itemHeight;
      for (let repeat = 0; repeat < repeatCount; repeat++) {
        values.forEach((value, index) => {
          const item = document.createElement("div");
          item.className = "date-wheel-item";
          item.textContent = `${value.toString().padStart(2, "0")}${suffix}`;
          item.dataset.value = value.toString();
          item.dataset.index = (repeat * values.length + index).toString();
          item.dataset.realValue = value.toString();
          container.appendChild(item);
        });
      }
      container.style.height = `${totalItems * itemHeight}px`;
      const initialItemIndex = middleGroupIndex * values.length + selectedIndex;
      const items = Array.from(container.querySelectorAll(".date-wheel-item"));
      if (items[initialItemIndex]) {
        items.forEach((el, idx) => el.classList.toggle("selected", idx === initialItemIndex));
      }
      requestAnimationFrame(() => {
        container.scrollTop = initialScrollTop;
      });
      let isScrolling = false;
      container.addEventListener("scroll", () => {
        if (isScrolling)
          return;
        const scrollTop = container.scrollTop;
        const currentIndex = Math.round(scrollTop / itemHeight);
        const realIndex = (currentIndex % values.length + values.length) % values.length;
        const realValue = values[realIndex];
        container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
          const itemRealIndex = index % values.length;
          item.classList.toggle("selected", itemRealIndex === realIndex);
        });
        selectedIndex = realIndex;
        currentSelectedValue = realValue;
        api.selectedValue = realValue;
        if (onChange)
          onChange(currentSelectedValue);
        const maxScrollTop = (repeatCount - 1) * values.length * itemHeight;
        if (scrollTop >= maxScrollTop) {
          isScrolling = true;
          const offset = scrollTop - maxScrollTop;
          container.scrollTop = values.length * itemHeight + offset;
          setTimeout(() => {
            isScrolling = false;
          }, 50);
        } else if (scrollTop <= 0) {
          isScrolling = true;
          const offset = scrollTop;
          container.scrollTop = (repeatCount - 2) * values.length * itemHeight + offset;
          setTimeout(() => {
            isScrolling = false;
          }, 50);
        }
      });
      container.addEventListener("click", (ev) => {
        const target = ev.target;
        const itemEl = target && target.closest ? target.closest(".date-wheel-item") : null;
        if (!itemEl)
          return;
        const clickedIndex = Number(itemEl.dataset.index || "0");
        const realIndex = (clickedIndex % values.length + values.length) % values.length;
        const middleIndex = middleGroupIndex * values.length + realIndex;
        container.scrollTop = middleIndex * itemHeight;
        selectedIndex = realIndex;
        currentSelectedValue = values[realIndex];
        api.selectedValue = currentSelectedValue;
        if (onChange)
          onChange(currentSelectedValue);
      });
    } else {
      values.forEach((value, index) => {
        const item = document.createElement("div");
        item.className = "date-wheel-item";
        item.textContent = `${value.toString().padStart(2, "0")}${suffix}`;
        item.dataset.value = value.toString();
        item.dataset.index = index.toString();
        if (value === currentSelectedValue)
          item.classList.add("selected");
        container.appendChild(item);
      });
      container.addEventListener("scroll", () => {
        const scrollTop = container.scrollTop;
        const newIndex = Math.round(scrollTop / itemHeight);
        if (newIndex !== selectedIndex && newIndex >= 0 && newIndex < values.length) {
          container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
            item.classList.toggle("selected", index === newIndex);
          });
          selectedIndex = newIndex;
          currentSelectedValue = values[newIndex];
          api.selectedValue = currentSelectedValue;
          if (onChange)
            onChange(currentSelectedValue);
        }
      });
      container.addEventListener("click", (ev) => {
        const target = ev.target;
        const itemEl = target && target.closest ? target.closest(".date-wheel-item") : null;
        if (!itemEl)
          return;
        const idx = Number(itemEl.dataset.index || "0");
        container.querySelectorAll(".date-wheel-item").forEach((el, i) => {
          el.classList.toggle("selected", i === idx);
        });
        container.scrollTop = idx * itemHeight;
        selectedIndex = idx;
        currentSelectedValue = values[idx];
        api.selectedValue = currentSelectedValue;
        if (onChange)
          onChange(currentSelectedValue);
      });
      setTimeout(() => {
        container.scrollTop = selectedIndex * itemHeight;
      }, 0);
    }
    column.appendChild(container);
    return api;
  }
  updateDaysColumn(dayColumn, year, month) {
    const container = dayColumn.element.querySelector(".date-wheel-items");
    const currentDay = dayColumn.selectedValue;
    const newDays = this.generateDays(year, month);
    container.innerHTML = "";
    const repeatCount = 5;
    const itemHeight = 40;
    const middleGroupIndex = 2;
    const maxDay = Math.max(...newDays);
    const selectedDay = Math.min(currentDay, maxDay);
    const selectedIndex = newDays.indexOf(selectedDay);
    for (let repeat = 0; repeat < repeatCount; repeat++) {
      newDays.forEach((day, index) => {
        const item = document.createElement("div");
        item.className = "date-wheel-item";
        item.textContent = `${day.toString().padStart(2, "0")}${t("date.day")}`;
        item.dataset.value = day.toString();
        item.dataset.index = (repeat * newDays.length + index).toString();
        item.dataset.realValue = day.toString();
        container.appendChild(item);
      });
    }
    container.style.height = `${newDays.length * repeatCount * itemHeight}px`;
    const initialItemIndexDay = middleGroupIndex * newDays.length + selectedIndex;
    const dayItems = Array.from(container.querySelectorAll(".date-wheel-item"));
    if (dayItems[initialItemIndexDay]) {
      dayItems.forEach((el, idx) => el.classList.toggle("selected", idx === initialItemIndexDay));
    }
    requestAnimationFrame(() => {
      container.scrollTop = middleGroupIndex * newDays.length * itemHeight + selectedIndex * itemHeight;
    });
    let isScrolling = false;
    container.addEventListener("scroll", () => {
      if (isScrolling)
        return;
      const scrollTop = container.scrollTop;
      const currentIndex = Math.round(scrollTop / itemHeight);
      const realIndex = currentIndex % newDays.length;
      const realValue = newDays[realIndex];
      container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
        const itemRealIndex = index % newDays.length;
        item.classList.toggle("selected", itemRealIndex === realIndex);
      });
      dayColumn.selectedValue = realValue;
      const maxScrollTop = (repeatCount - 1) * newDays.length * itemHeight;
      if (scrollTop >= maxScrollTop) {
        isScrolling = true;
        const offset = scrollTop - maxScrollTop;
        container.scrollTop = newDays.length * itemHeight + offset;
        setTimeout(() => {
          isScrolling = false;
        }, 50);
      } else if (scrollTop <= 0) {
        isScrolling = true;
        const offset = scrollTop;
        container.scrollTop = (repeatCount - 2) * newDays.length * itemHeight + offset;
        setTimeout(() => {
          isScrolling = false;
        }, 50);
      }
    });
    container.addEventListener("click", (ev) => {
      const target = ev.target;
      const itemEl = target && target.closest ? target.closest(".date-wheel-item") : null;
      if (!itemEl)
        return;
      const clickedIndex = Number(itemEl.dataset.index || "0");
      const realIndex = clickedIndex % newDays.length;
      const middleIndex = middleGroupIndex * newDays.length + realIndex;
      container.scrollTop = middleIndex * itemHeight;
      dayColumn.selectedValue = newDays[realIndex];
    });
  }
  createLabel(text) {
    const el = document.createElement("label");
    el.textContent = text;
    return el;
  }
};

// components/AssetManagerView.ts
var import_obsidian3 = require("obsidian");

// components/TagPanel.ts
var TagPanel = class {
  // i18n 延后加载，避免硬依赖：使用动态导入
  constructor(containerEl, props) {
    this.panelVisible = false;
    this.panelSelected = [];
    this.searchKeyword = "";
    this.containerEl = containerEl;
    this.props = props;
    this.panelSelected = [...props.selectedTags];
  }
  render() {
    this.containerEl.empty();
    this.containerEl.addClass("top-summary-labels");
    if (this.props.maxHeight) {
      this.containerEl.style.maxHeight = this.props.maxHeight;
      this.containerEl.style.overflowY = this.props.maxHeight !== "auto" ? "auto" : "visible";
    }
    this.renderTagList();
    if (this.panelVisible) {
      this.renderSelectionPanel();
    }
  }
  renderTagList() {
    this.props.tags.forEach((tag) => {
      const labelEl = this.containerEl.createSpan("top-summary-label");
      labelEl.textContent = tag;
      if (this.props.selectedTags.includes(tag)) {
        labelEl.addClass("selected");
      }
      labelEl.addEventListener("click", (e) => {
        e.stopPropagation();
        this.props.onTagClick(tag);
      });
    });
    this.containerEl.addEventListener("click", () => {
      this.showSelectionPanel();
    });
  }
  showSelectionPanel() {
    this.panelVisible = true;
    this.panelSelected = [...this.props.selectedTags];
    this.render();
  }
  hideSelectionPanel() {
    this.panelVisible = false;
    if (this.maskEl && this.maskEl.parentElement) {
      this.maskEl.parentElement.removeChild(this.maskEl);
    }
    this.maskEl = void 0;
    this.panelEl = void 0;
    this.labelsEl = void 0;
    this.searchEl = void 0;
    this.render();
  }
  renderSelectionPanel() {
    var _a, _b, _c, _d, _e, _f;
    if (!this.maskEl) {
      this.maskEl = this.containerEl.createDiv("top-summary-panel-mask");
      this.maskEl.style.zIndex = "9999";
      this.maskEl.addEventListener("click", () => {
        this.confirmSelection();
      });
    }
    if (!this.panelEl) {
      this.panelEl = this.maskEl.createDiv("top-summary-panel");
      this.panelEl.style.zIndex = "10000";
      this.panelEl.addEventListener("click", (e) => {
        e.stopPropagation();
      });
    }
    if (!this.searchEl) {
      this.searchEl = this.panelEl.createEl("input", {
        cls: "top-summary-panel-search",
        placeholder: ((_b = (_a = (init_i18n(), __toCommonJS(i18n_exports))) == null ? void 0 : _a.t) == null ? void 0 : _b.call(_a, "tags.search.placeholder")) || "\u641C\u7D22\u6807\u7B7E",
        type: "text"
      });
      this.searchEl.addEventListener("input", () => {
        var _a2;
        this.searchKeyword = (((_a2 = this.searchEl) == null ? void 0 : _a2.value) || "").trim();
        this.renderSelectionPanel();
      });
    }
    if (this.searchEl) {
      this.searchEl.value = this.searchKeyword;
    }
    const prevScrollTop = this.labelsEl ? this.labelsEl.scrollTop : 0;
    if (!this.labelsEl) {
      this.labelsEl = this.panelEl.createDiv("top-summary-panel-labels");
    } else {
      this.labelsEl.empty();
    }
    const lower = this.searchKeyword.toLowerCase();
    const visibleTags = lower ? this.props.tags.filter((t2) => t2.toLowerCase().includes(lower)) : this.props.tags;
    visibleTags.forEach((tag) => {
      const labelEl = this.labelsEl.createSpan("top-summary-panel-label");
      labelEl.textContent = tag;
      if (this.panelSelected.includes(tag)) {
        labelEl.addClass("selected");
      }
      labelEl.addEventListener("click", () => {
        this.toggleTagSelection(tag);
      });
    });
    if (this.labelsEl) {
      this.labelsEl.scrollTop = prevScrollTop;
    }
    let actionsEl = this.panelEl.querySelector(".top-summary-panel-actions");
    if (!actionsEl) {
      actionsEl = this.panelEl.createDiv("top-summary-panel-actions");
      actionsEl.style.padding = "8px 16px 12px 16px";
      const selectAllBtn = actionsEl.createSpan("panel-btn");
      selectAllBtn.textContent = ((_d = (_c = (init_i18n(), __toCommonJS(i18n_exports))) == null ? void 0 : _c.t) == null ? void 0 : _d.call(_c, "tags.selectAll")) || "\u5168\u9009";
      selectAllBtn.addEventListener("click", () => {
        this.panelSelected = [...this.props.tags];
        this.renderSelectionPanel();
      });
      const deselectAllBtn = actionsEl.createSpan("panel-btn");
      deselectAllBtn.textContent = ((_f = (_e = (init_i18n(), __toCommonJS(i18n_exports))) == null ? void 0 : _e.t) == null ? void 0 : _f.call(_e, "tags.deselectAll")) || "\u53D6\u6D88\u5168\u9009";
      deselectAllBtn.addEventListener("click", () => {
        this.panelSelected = [];
        this.renderSelectionPanel();
      });
    }
  }
  toggleTagSelection(tag) {
    if (this.panelSelected.includes(tag)) {
      this.panelSelected = this.panelSelected.filter((t2) => t2 !== tag);
    } else {
      this.panelSelected.push(tag);
    }
    this.renderSelectionPanel();
  }
  confirmSelection() {
    this.props.onTagClick(this.panelSelected);
    this.hideSelectionPanel();
  }
  // 更新标签
  updateTags(tags, selectedTags) {
    this.props.tags = tags;
    this.props.selectedTags = selectedTags;
    this.render();
  }
};

// components/TopSummary.ts
init_i18n();
var TopSummary = class {
  constructor(containerEl, props) {
    this.containerEl = containerEl;
    this.props = props;
  }
  formatDateLocal(date) {
    const d = new Date(date.getTime() - date.getTimezoneOffset() * 6e4);
    return d.toISOString().split("T")[0];
  }
  render() {
    this.containerEl.empty();
    this.containerEl.addClass("top-summary");
    this.renderNumbers();
    this.renderLabels();
    this.renderChart();
  }
  renderNumbers() {
    const numbersEl = this.containerEl.createDiv("top-summary-numbers");
    const dailyEl = numbersEl.createDiv("top-summary-daily");
    const dateEl = dailyEl.createDiv("top-summary-date");
    dateEl.textContent = this.formatDateLocal(this.props.selectedDate || new Date());
    dateEl.addClass("clickable");
    dateEl.addEventListener("click", () => {
      this.showDatePicker();
    });
    const dailyCostEl = dailyEl.createDiv("top-summary-dailycost");
    dailyCostEl.textContent = `${this.getCurrencySymbol()}${this.props.totalDailyCost.toFixed(2)}`;
    const summaryEl = numbersEl.createDiv("top-summary-summary");
    const totalEl = summaryEl.createDiv("top-summary-total");
    const totalMetaEl = totalEl.createSpan("top-summary-meta");
    totalMetaEl.textContent = t("top.total");
    const totalCostEl = totalEl.createSpan("top-summary-totalcost");
    totalCostEl.textContent = `${this.getCurrencySymbol()}${this.props.totalCost.toLocaleString()}`;
    const recycleEl = summaryEl.createDiv("top-summary-total");
    const recycleMetaEl = recycleEl.createSpan("top-summary-meta");
    recycleMetaEl.textContent = t("top.recycle");
    const recycleCostEl = recycleEl.createSpan("top-summary-totalcost");
    recycleCostEl.textContent = `${this.getCurrencySymbol()}${this.props.totalRecycle.toLocaleString()}`;
  }
  renderLabels() {
    const labelsEl = this.containerEl.createDiv("top-summary-labels");
    const panelProps = {
      tags: this.props.tags,
      selectedTags: this.props.selectedTags,
      onTagClick: this.props.onTagClick,
      maxHeight: "48px"
    };
    this.tagPanelComponent = new TagPanel(labelsEl, panelProps);
    this.tagPanelComponent.render();
  }
  getCurrencySymbol() {
    return t("currency.symbol");
  }
  renderChart() {
    const chartEl = this.containerEl.createDiv("top-summary-chart");
    const canvas = chartEl.createEl("canvas");
    canvas.id = "trend-canvas";
    canvas.width = 100;
    canvas.height = 20;
    this.renderChartCanvas(canvas);
  }
  renderChartCanvas(canvas) {
    if (this.props.trendPoints.length < 2)
      return;
    const ctx = canvas.getContext("2d");
    if (!ctx)
      return;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width;
    canvas.height = rect.height;
    const width = canvas.width;
    const height = canvas.height;
    const pad = 0;
    const values = this.props.trendPoints.map((p) => p.value);
    const minValue = Math.min(...values);
    const maxValue = Math.max(...values);
    const range = maxValue - minValue;
    const useLogScale = range > 100;
    const getX = (i) => pad + (width - 2 * pad) * i / (this.props.trendPoints.length - 1);
    const getY = (v) => {
      if (useLogScale) {
        const logValue = Math.log(v + 1);
        const logMin = Math.log(minValue + 1);
        const logMax = Math.log(maxValue + 1);
        return height - pad - (logValue - logMin) / Math.max(logMax - logMin, 0.5) * (height - 2 * pad);
      } else {
        return height - pad - (v - minValue) / Math.max(range, 0.5) * (height - 2 * pad);
      }
    };
    const getColorByValue = (v) => {
      const logValue = Math.log(v + 1);
      const logMin = Math.log(minValue + 1);
      const logMax = Math.log(maxValue + 1);
      if (logMax === logMin)
        return "rgb(255,255,0)";
      const t2 = (logValue - logMin) / (logMax - logMin);
      if (t2 <= 0.5) {
        const r = Math.round(2 * t2 * 255);
        return `rgb(${r},255,0)`;
      } else {
        const g = Math.round((1 - 2 * (t2 - 0.5)) * 255);
        return `rgb(255,${g},0)`;
      }
    };
    ctx.clearRect(0, 0, width, height);
    ctx.lineWidth = 1;
    for (let i = 0; i < this.props.trendPoints.length - 1; i++) {
      const p1 = this.props.trendPoints[i];
      const p2 = this.props.trendPoints[i + 1];
      const x1 = getX(i);
      const y1 = getY(p1.value);
      const x2 = getX(i + 1);
      const y2 = getY(p2.value);
      ctx.beginPath();
      ctx.strokeStyle = getColorByValue(p1.value);
      ctx.moveTo(x1, y1);
      ctx.lineTo(x2, y2);
      ctx.stroke();
    }
    let selectedXToDraw = null;
    if (this.props.selectedX !== null && this.props.selectedX !== void 0) {
      selectedXToDraw = this.props.selectedX;
    } else if (this.props.selectedDate) {
      try {
        const times = this.props.trendPoints.map((p) => p.date.getTime());
        const minTime = Math.min(...times);
        const maxTime = Math.max(...times);
        const cur = this.props.selectedDate.getTime();
        const denom = Math.max(maxTime - minTime, 1);
        const ratio = (cur - minTime) / denom;
        selectedXToDraw = pad + (width - 2 * pad) * Math.min(Math.max(ratio, 0), 1);
      } catch (_) {
        selectedXToDraw = null;
      }
    }
    if (selectedXToDraw !== null && selectedXToDraw !== void 0) {
      ctx.beginPath();
      ctx.strokeStyle = "#FFD600";
      ctx.lineWidth = 1;
      ctx.moveTo(selectedXToDraw, 0);
      ctx.lineTo(selectedXToDraw, height);
      ctx.stroke();
    }
    if (!canvas._lac_click_bound) {
      canvas._lac_click_bound = true;
      canvas.addEventListener("click", (ev) => {
        var _a;
        const x = (_a = ev.offsetX) != null ? _a : ev.clientX - canvas.getBoundingClientRect().left;
        const usableWidth = Math.max(width - 2 * pad, 1);
        const ratio = Math.min(Math.max((x - pad) / usableWidth, 0), 1);
        const idx = Math.round(ratio * (this.props.trendPoints.length - 1));
        const clampedIdx = Math.min(Math.max(idx, 0), this.props.trendPoints.length - 1);
        const pickedDate = this.props.trendPoints[clampedIdx].date;
        this.updateSelection(x, pickedDate);
        if (this.props.onDatePick) {
          this.props.onDatePick(this.formatDateLocal(pickedDate));
        }
        if (this.props.onChartSelect) {
          this.props.onChartSelect(x);
        }
      });
    }
  }
  // 更新图表数据
  updateChart(trendPoints) {
    this.props.trendPoints = trendPoints;
    const canvas = this.containerEl.querySelector("#trend-canvas");
    if (canvas) {
      this.renderChartCanvas(canvas);
    }
  }
  // 更新选中状态
  updateSelection(selectedX, selectedDate) {
    this.props.selectedX = selectedX;
    if (selectedDate) {
      this.props.selectedDate = selectedDate;
      const dateLabel = this.containerEl.querySelector(".top-summary-date");
      if (dateLabel) {
        dateLabel.textContent = this.formatDateLocal(selectedDate);
      }
    }
    const canvas = this.containerEl.querySelector("#trend-canvas");
    if (canvas) {
      this.renderChartCanvas(canvas);
    }
  }
  // 只更新数字（不重绘图表数据）
  updateNumbers(totalDailyCost, totalCost, totalRecycle) {
    this.props.totalDailyCost = totalDailyCost;
    this.props.totalCost = totalCost;
    this.props.totalRecycle = totalRecycle;
    const daily = this.containerEl.querySelector(".top-summary-dailycost");
    if (daily)
      daily.textContent = `${this.getCurrencySymbol()}${totalDailyCost.toFixed(2)}`;
    const totals = this.containerEl.querySelectorAll(".top-summary-totalcost");
    if (totals && totals.length > 0) {
      const totalEl = totals[0];
      if (totalEl)
        totalEl.textContent = `${this.getCurrencySymbol()}${totalCost.toLocaleString()}`;
      const recycleEl = totals[1];
      if (recycleEl)
        recycleEl.textContent = `${this.getCurrencySymbol()}${totalRecycle.toLocaleString()}`;
    }
  }
  // 显示日期选择器
  showDatePicker() {
    const mask = document.createElement("div");
    mask.className = "date-picker-mask";
    const picker = document.createElement("div");
    picker.className = "date-picker-modal";
    const content = document.createElement("div");
    content.className = "date-picker-content";
    const title = document.createElement("div");
    title.className = "date-picker-title";
    title.textContent = t("date.pick");
    const wheelContainer = document.createElement("div");
    wheelContainer.className = "date-wheel-container";
    const currentDate = this.props.selectedDate || new Date();
    const currentYear = currentDate.getFullYear();
    const currentMonth = currentDate.getMonth() + 1;
    const currentDay = currentDate.getDate();
    const yearColumn = this.createWheelColumn(t("date.year"), this.generateYears(currentYear), currentYear, (year) => {
      this.updateDaysColumn(dayColumn, year, monthColumn.selectedValue);
    }, false);
    const monthColumn = this.createWheelColumn(t("date.month"), this.generateMonths(), currentMonth, (month) => {
      this.updateDaysColumn(dayColumn, yearColumn.selectedValue, month);
    }, true);
    const dayColumn = this.createWheelColumn(t("date.day"), this.generateDays(currentYear, currentMonth), currentDay, void 0, true);
    wheelContainer.appendChild(yearColumn.element);
    wheelContainer.appendChild(monthColumn.element);
    wheelContainer.appendChild(dayColumn.element);
    const actions = document.createElement("div");
    actions.className = "date-picker-actions";
    const cancelBtn = document.createElement("button");
    cancelBtn.className = "date-picker-btn date-picker-btn-cancel";
    cancelBtn.textContent = t("common.cancel");
    const confirmBtn = document.createElement("button");
    confirmBtn.className = "date-picker-btn date-picker-btn-confirm";
    confirmBtn.textContent = t("common.confirm");
    actions.appendChild(cancelBtn);
    actions.appendChild(confirmBtn);
    content.appendChild(title);
    content.appendChild(wheelContainer);
    content.appendChild(actions);
    picker.appendChild(content);
    mask.appendChild(picker);
    document.body.appendChild(mask);
    const closePicker = () => {
      document.body.removeChild(mask);
    };
    mask.addEventListener("click", (e) => {
      if (e.target === mask) {
        closePicker();
      }
    });
    cancelBtn.addEventListener("click", closePicker);
    confirmBtn.addEventListener("click", () => {
      const year = yearColumn.selectedValue;
      const month = monthColumn.selectedValue;
      const day = dayColumn.selectedValue;
      const selectedDateStr = `${year}-${month.toString().padStart(2, "0")}-${day.toString().padStart(2, "0")}`;
      if (this.props.onDatePick) {
        this.props.onDatePick(selectedDateStr);
      }
      closePicker();
    });
  }
  // 生成年份数组
  generateYears(currentYear) {
    const minYear = this.props.minYear || currentYear - 5;
    const maxYear = this.props.maxYear || currentYear + 5;
    const years = [];
    for (let i = minYear; i <= maxYear; i++) {
      years.push(i);
    }
    return years;
  }
  // 生成月份数组
  generateMonths() {
    return Array.from({ length: 12 }, (_, i) => i + 1);
  }
  // 生成日期数组
  generateDays(year, month) {
    const daysInMonth = new Date(year, month, 0).getDate();
    return Array.from({ length: daysInMonth }, (_, i) => i + 1);
  }
  // 创建滚轮列
  createWheelColumn(suffix, values, selectedValue, onChange, isInfinite = false) {
    const column = document.createElement("div");
    column.className = "date-wheel-column";
    const container = document.createElement("div");
    container.className = "date-wheel-items";
    let selectedIndex = values.indexOf(selectedValue);
    let currentSelectedValue = selectedValue;
    const api = { element: column, selectedValue: currentSelectedValue };
    const itemHeight = 40;
    if (isInfinite) {
      const repeatCount = 5;
      const totalItems = values.length * repeatCount;
      const middleGroupIndex = 2;
      const initialScrollTop = middleGroupIndex * values.length * itemHeight + selectedIndex * itemHeight;
      for (let repeat = 0; repeat < repeatCount; repeat++) {
        values.forEach((value, index) => {
          const item = document.createElement("div");
          item.className = "date-wheel-item";
          item.textContent = `${value.toString().padStart(2, "0")}${suffix}`;
          item.dataset.value = value.toString();
          item.dataset.index = (repeat * values.length + index).toString();
          item.dataset.realValue = value.toString();
          container.appendChild(item);
        });
      }
      container.style.height = `${totalItems * itemHeight}px`;
      const initialItemIndex = middleGroupIndex * values.length + selectedIndex;
      const items = Array.from(container.querySelectorAll(".date-wheel-item"));
      if (items[initialItemIndex]) {
        items.forEach((el, idx) => el.classList.toggle("selected", idx === initialItemIndex));
      }
      requestAnimationFrame(() => {
        container.scrollTop = initialScrollTop;
      });
      let isScrolling = false;
      container.addEventListener("scroll", () => {
        if (isScrolling)
          return;
        const scrollTop = container.scrollTop;
        const currentIndex = Math.round(scrollTop / itemHeight);
        const realIndex = (currentIndex % values.length + values.length) % values.length;
        const realValue = values[realIndex];
        container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
          const itemRealIndex = index % values.length;
          item.classList.toggle("selected", itemRealIndex === realIndex);
        });
        selectedIndex = realIndex;
        currentSelectedValue = realValue;
        api.selectedValue = realValue;
        if (onChange) {
          onChange(currentSelectedValue);
        }
        const maxScrollTop = (repeatCount - 1) * values.length * itemHeight;
        const minScrollTop = values.length * itemHeight;
        if (scrollTop >= maxScrollTop) {
          isScrolling = true;
          const offset = scrollTop - maxScrollTop;
          container.scrollTop = values.length * itemHeight + offset;
          setTimeout(() => {
            isScrolling = false;
          }, 50);
        } else if (scrollTop <= 0) {
          isScrolling = true;
          const offset = scrollTop;
          container.scrollTop = (repeatCount - 2) * values.length * itemHeight + offset;
          setTimeout(() => {
            isScrolling = false;
          }, 50);
        }
      });
      container.addEventListener("click", (ev) => {
        const target = ev.target;
        const itemEl = target && target.closest ? target.closest(".date-wheel-item") : null;
        if (!itemEl)
          return;
        const clickedIndex = Number(itemEl.dataset.index || "0");
        const realIndex = (clickedIndex % values.length + values.length) % values.length;
        const middleIndex = middleGroupIndex * values.length + realIndex;
        container.scrollTop = middleIndex * itemHeight;
        selectedIndex = realIndex;
        currentSelectedValue = values[realIndex];
        api.selectedValue = currentSelectedValue;
        if (onChange)
          onChange(currentSelectedValue);
      });
    } else {
      values.forEach((value, index) => {
        const item = document.createElement("div");
        item.className = "date-wheel-item";
        item.textContent = `${value.toString().padStart(2, "0")}${suffix}`;
        item.dataset.value = value.toString();
        item.dataset.index = index.toString();
        if (value === currentSelectedValue) {
          item.classList.add("selected");
        }
        container.appendChild(item);
      });
      container.addEventListener("scroll", () => {
        const scrollTop = container.scrollTop;
        const newIndex = Math.round(scrollTop / itemHeight);
        if (newIndex !== selectedIndex && newIndex >= 0 && newIndex < values.length) {
          container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
            item.classList.toggle("selected", index === newIndex);
          });
          selectedIndex = newIndex;
          currentSelectedValue = values[newIndex];
          api.selectedValue = currentSelectedValue;
          if (onChange) {
            onChange(currentSelectedValue);
          }
        }
      });
      container.addEventListener("click", (ev) => {
        const target = ev.target;
        const itemEl = target && target.closest ? target.closest(".date-wheel-item") : null;
        if (!itemEl)
          return;
        const idx = Number(itemEl.dataset.index || "0");
        container.querySelectorAll(".date-wheel-item").forEach((el, i) => {
          el.classList.toggle("selected", i === idx);
        });
        container.scrollTop = idx * itemHeight;
        selectedIndex = idx;
        currentSelectedValue = values[idx];
        api.selectedValue = currentSelectedValue;
        if (onChange)
          onChange(currentSelectedValue);
      });
      setTimeout(() => {
        container.scrollTop = selectedIndex * itemHeight;
      }, 0);
    }
    column.appendChild(container);
    return api;
  }
  // 更新日期列
  updateDaysColumn(dayColumn, year, month) {
    const container = dayColumn.element.querySelector(".date-wheel-items");
    const currentDay = dayColumn.selectedValue;
    const newDays = this.generateDays(year, month);
    container.innerHTML = "";
    const maxDay = Math.max(...newDays);
    const selectedDay = Math.min(currentDay, maxDay);
    const selectedIndex = newDays.indexOf(selectedDay);
    const itemHeight = 40;
    const repeatCount = 5;
    const totalItems = newDays.length * repeatCount;
    const middleGroupIndex = 2;
    const initialScrollTop = middleGroupIndex * newDays.length * itemHeight + selectedIndex * itemHeight;
    for (let repeat = 0; repeat < repeatCount; repeat++) {
      newDays.forEach((day, index) => {
        const item = document.createElement("div");
        item.className = "date-wheel-item";
        item.textContent = `${day.toString().padStart(2, "0")}\u65E5`;
        item.dataset.value = day.toString();
        item.dataset.index = (repeat * newDays.length + index).toString();
        item.dataset.realValue = day.toString();
        container.appendChild(item);
      });
    }
    container.style.height = `${totalItems * itemHeight}px`;
    const initialItemIndexDay = middleGroupIndex * newDays.length + selectedIndex;
    const dayItems = Array.from(container.querySelectorAll(".date-wheel-item"));
    if (dayItems[initialItemIndexDay]) {
      dayItems.forEach((el, idx) => el.classList.toggle("selected", idx === initialItemIndexDay));
    }
    requestAnimationFrame(() => {
      container.scrollTop = initialScrollTop;
    });
    dayColumn.selectedValue = selectedDay;
    let isScrolling = false;
    container.addEventListener("scroll", () => {
      if (isScrolling)
        return;
      const scrollTop = container.scrollTop;
      const currentIndex = Math.round(scrollTop / itemHeight);
      const realIndex = currentIndex % newDays.length;
      const realValue = newDays[realIndex];
      container.querySelectorAll(".date-wheel-item").forEach((item, index) => {
        const itemRealIndex = index % newDays.length;
        item.classList.toggle("selected", itemRealIndex === realIndex);
      });
      dayColumn.selectedValue = realValue;
      const maxScrollTop = (repeatCount - 1) * newDays.length * itemHeight;
      const minScrollTop = newDays.length * itemHeight;
      if (scrollTop >= maxScrollTop) {
        isScrolling = true;
        const offset = scrollTop - maxScrollTop;
        container.scrollTop = newDays.length * itemHeight + offset;
        setTimeout(() => {
          isScrolling = false;
        }, 50);
      } else if (scrollTop <= 0) {
        isScrolling = true;
        const offset = scrollTop;
        container.scrollTop = (repeatCount - 2) * newDays.length * itemHeight + offset;
        setTimeout(() => {
          isScrolling = false;
        }, 50);
      }
    });
  }
};

// components/AssetManagerView.ts
init_i18n();
var AssetManagerView = class extends import_obsidian3.ItemView {
  constructor(leaf, assetRepository, filePath) {
    super(leaf);
    this.assets = [];
    // 当前选择的日期
    this.selectedTags = [];
    // 顶部统计下方的按钮卡片
    this.searchQuery = "";
    this.sortMode = "none";
    this.assetRepository = assetRepository;
    this.filePath = filePath;
    this.selectedDate = new Date();
  }
  getViewType() {
    return "lac-costset-view";
  }
  getDisplayText() {
    return "LaC.CostSet";
  }
  getIcon() {
    return "package";
  }
  async onOpen() {
    var _a, _b;
    const { containerEl } = this;
    containerEl.empty();
    containerEl.addClass("page-root");
    this.injectHeaderFixStyles();
    try {
      const plugin = (_b = (_a = this.app.plugins) == null ? void 0 : _a.plugins) == null ? void 0 : _b["lac-costset"];
      if (plugin && plugin.settings && plugin.settings.defaultSort) {
        this.sortMode = plugin.settings.defaultSort;
      }
    } catch (_) {
    }
    if (this.filePath) {
      this.useFile(this.filePath);
      return;
    }
    const hint = containerEl.createDiv();
    hint.style.padding = "16px";
    hint.style.opacity = "0.8";
    hint.textContent = t("view.hint.openFromMenu");
    return;
    this.loadAssets();
  }
  async onClose() {
    const { containerEl } = this;
    containerEl.empty();
  }
  async useFile(filePath) {
    const plugin = this.app.plugins.plugins["lac-costset"];
    if (plugin) {
      plugin.assetRepository = new AssetRepository(this.app, filePath);
      this.assetRepository = plugin.assetRepository;
      this.loadAssets();
    }
  }
  async loadAssets() {
    this.assets = await this.assetRepository.loadAll();
    this.renderAssets();
  }
  showFileSelector() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: t("view.selectRoot.title") });
    containerEl.createEl("p", { text: t("view.selectRoot.desc") });
    const files = this.app.vault.getMarkdownFiles();
    const fileList = containerEl.createDiv("file-list");
    files.forEach((file) => {
      const fileItem = fileList.createDiv("file-item");
      fileItem.createEl("div", { text: file.path });
      fileItem.addEventListener("click", async () => {
        const plugin = this.app.plugins.plugins["lac-costset"];
        if (plugin) {
          plugin.assetRepository = new AssetRepository(this.app, file.path);
          this.assetRepository = plugin.assetRepository;
          this.loadAssets();
        }
      });
    });
  }
  renderAssets() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.addClass("page-root");
    this.renderTopSummary(containerEl);
    this.renderActionBar(containerEl);
    const assetsContainer = containerEl.createDiv("assets-container");
    this.renderAssetCards(assetsContainer);
  }
  renderAssetCards(assetsContainer) {
    assetsContainer.empty();
    if (this.assets.length === 0) {
      assetsContainer.createEl("p", { text: t("view.empty") });
      return;
    }
    const calcDate = this.selectedDate || new Date();
    let visibleAssets = this.assets.filter((a) => a.activeFrom <= calcDate);
    if (this.selectedTags.length > 0) {
      visibleAssets = visibleAssets.filter((a) => {
        var _a;
        return (_a = a.tags) == null ? void 0 : _a.some((t2) => this.selectedTags.includes(t2));
      });
    }
    if (this.searchQuery && this.searchQuery.trim()) {
      const q = this.searchQuery.trim().toLowerCase();
      visibleAssets = visibleAssets.filter((a) => {
        const nameHit = (a.name || "").toLowerCase().includes(q);
        const tagHit = (a.tags || []).some((t2) => (t2 || "").toLowerCase().includes(q));
        return nameHit || tagHit;
      });
    }
    if (this.sortMode !== "none") {
      visibleAssets = [...visibleAssets].sort((a, b) => {
        var _a, _b, _c, _d;
        if (this.sortMode === "dailyDesc") {
          const aCost = a.getDailyCost(calcDate);
          const bCost = b.getDailyCost(calcDate);
          return bCost - aCost;
        }
        if (this.sortMode === "priceDesc") {
          return Number(b.price || 0) - Number(a.price || 0);
        }
        if (this.sortMode === "dateDesc") {
          const at = ((_b = (_a = a.activeFrom) == null ? void 0 : _a.getTime) == null ? void 0 : _b.call(_a)) || 0;
          const bt = ((_d = (_c = b.activeFrom) == null ? void 0 : _c.getTime) == null ? void 0 : _d.call(_c)) || 0;
          return bt - at;
        }
        return 0;
      });
    }
    visibleAssets.forEach((asset) => {
      const isExpired = !!(asset.activeTo && asset.activeTo <= calcDate);
      const endText = isExpired ? asset.activeTo.toISOString().split("T")[0] : t("view.toNow");
      const assetEl = assetsContainer.createDiv("asset-card");
      if (isExpired)
        assetEl.addClass("asset-card--expired");
      if (asset.hidden)
        assetEl.addClass("hidden");
      assetEl.innerHTML = `
				<div class="asset-info">
					<div class="asset-title">${asset.icon} ${asset.name}</div>
					<div class="asset-date">${t("view.usedDays", { days: asset.getUsageDays(calcDate) })} (${asset.activeFrom.toISOString().split("T")[0]} ~ ${asset.activeTo ? endText : t("view.toNow")})</div>
					<div class="asset-labels-scroll">
						${asset.tags.map((tag) => `<span class="tag">${tag}</span>`).join("")}
					</div>
				</div>
				<div class="asset-costs">
					<div class="asset-costs-line">
						<div class="asset-price">${t("view.daily")}&nbsp;</div>
						<div class="asset-dailycost">\xA5${asset.getDailyCost(calcDate).toFixed(2)}</div>
					</div>
					<div class="asset-price">${t("view.price")} ${this.getCurrencySymbol()}${asset.price}</div>
					<div class="asset-price">${t("view.recyclePrice")} ${this.getCurrencySymbol()}${asset.recyclePrice}</div>
				</div>
			`;
      let didLongPress = false;
      assetEl.addEventListener("click", (e) => {
        if (didLongPress) {
          didLongPress = false;
          e.preventDefault();
          e.stopPropagation();
          return;
        }
        new AssetFormModal(this.app, this.assetRepository, asset, () => this.loadAssets()).open();
      });
      let pressTimer = null;
      const startPress = (ev) => {
        if (ev && "button" in ev && typeof ev.button === "number" && ev.button !== 0)
          return;
        if (pressTimer)
          window.clearTimeout(pressTimer);
        pressTimer = window.setTimeout(() => {
          didLongPress = true;
          asset.hidden = !asset.hidden;
          assetEl.classList.toggle("hidden", asset.hidden);
          this.refreshTopNumbersOnly();
        }, 500);
      };
      const cancelPress = () => {
        if (pressTimer) {
          window.clearTimeout(pressTimer);
          pressTimer = null;
        }
      };
      assetEl.addEventListener("mousedown", startPress);
      assetEl.addEventListener("touchstart", startPress, { passive: true });
      assetEl.addEventListener("mouseup", cancelPress);
      assetEl.addEventListener("mouseleave", cancelPress);
      assetEl.addEventListener("touchend", cancelPress);
      assetEl.addEventListener("contextmenu", async (e) => {
        e.preventDefault();
        const ok = await new ConfirmModal(t("view.confirmDeleteAsset", { name: asset.name }), t("common.delete"), t("common.cancel"), true).open();
        if (!ok)
          return;
        await this.assetRepository.deleteAsset(asset.id);
        this.loadAssets();
      });
    });
  }
  // 仅刷新顶部数字 (排除 hidden 资产)，不刷新图表、不重建列表
  refreshTopNumbersOnly() {
    if (!this.topSummaryComponent)
      return;
    const calcDate = this.selectedDate || new Date();
    const activeAssets = this.assets.filter((a) => a.isActive(calcDate) && !a.hidden);
    const filteredActiveAssets = this.applyTagFilter(activeAssets);
    const totalCost = filteredActiveAssets.reduce((sum, a) => sum + a.price, 0);
    const totalRecycle = filteredActiveAssets.reduce((sum, a) => sum + a.recyclePrice, 0);
    const totalDailyCost = filteredActiveAssets.reduce((sum, a) => sum + a.getDailyCost(calcDate), 0);
    this.topSummaryComponent.updateNumbers(totalDailyCost, totalCost, totalRecycle);
  }
  // 顶部统计下方的操作条（搜索 / 排序 / 添加）
  renderActionBar(containerEl) {
    this.injectActionBarStyles();
    const bar = containerEl.createDiv("lac-actionbar-card");
    this.actionBarEl = bar;
    const backBtn = bar.createDiv({ cls: "lac-icon-btn back", attr: { title: t("view.back") } });
    backBtn.innerHTML = this.svgBack();
    backBtn.addEventListener("click", (e) => {
      e.preventDefault();
      try {
        this.leaf.detach();
      } catch (_) {
      }
    });
    const searchWrap = bar.createDiv("lac-actionbar-search");
    const searchIconBtn = searchWrap.createEl("button", { cls: "lac-icon-btn search-icon", attr: { type: "button", "aria-label": t("view.search.aria") } });
    searchIconBtn.innerHTML = this.svgSearch();
    const searchInput = searchWrap.createEl("input", { attr: { type: "text", placeholder: t("view.search.placeholder") } });
    if (this.searchQuery)
      searchInput.value = this.searchQuery;
    searchIconBtn.addEventListener("click", () => searchInput.focus());
    searchInput.addEventListener("input", () => {
      this.searchQuery = searchInput.value || "";
      this.refreshAssetListOnly();
    });
    const actions = bar.createDiv("lac-actionbar-actions");
    const sortBtn = actions.createDiv({ cls: "lac-icon-btn sort", attr: { title: t("view.sort.title") } });
    sortBtn.innerHTML = this.svgSort();
    const applySortBtnState = () => {
      sortBtn.classList.toggle("active", this.sortMode !== "none");
      sortBtn.setAttr("data-mode", this.sortMode);
      sortBtn.setAttr("aria-pressed", String(this.sortMode !== "none"));
      const title = this.sortMode === "dailyDesc" ? t("view.sort.title.dailyDesc") : this.sortMode === "priceDesc" ? t("view.sort.title.priceDesc") : this.sortMode === "dateDesc" ? t("view.sort.title.dateDesc") : t("view.sort.title");
      sortBtn.setAttr("title", title);
    };
    applySortBtnState();
    sortBtn.addEventListener("click", (e) => {
      e.preventDefault();
      this.openSortMenu(sortBtn, (mode) => {
        this.sortMode = mode;
        applySortBtnState();
        this.refreshAssetListOnly();
      });
    });
    const addBtn = actions.createDiv({ cls: "lac-icon-btn add", attr: { title: t("view.add") } });
    addBtn.innerHTML = this.svgPlus();
    addBtn.addEventListener("click", () => {
      new AssetFormModal(this.app, this.assetRepository, void 0, () => this.loadAssets()).open();
    });
  }
  refreshAssetListOnly() {
    const { containerEl } = this;
    const listEl = containerEl.querySelector(".assets-container");
    if (listEl) {
      listEl.remove();
      const newList = containerEl.createDiv("assets-container");
      this.renderAssetCards(newList);
    }
  }
  injectActionBarStyles() {
    const STYLE_ID = "lac-costset-actionbar-styles";
    if (document.getElementById(STYLE_ID))
      return;
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
			/* \u6309\u94AE\u5361\u7247\uFF1A\u4E0E top-summary / asset-card \u540C\u98CE\u683C\uFF0C\u4EC5\u9AD8\u5EA6\u66F4\u5C0F */
			.lac-actionbar-card { display: flex; align-items: center; justify-content: space-between; gap: 10px; padding: 6px 10px; margin: 0px 14px 8px; border-radius: 8px; background: #23262F; box-shadow: 0 2px 8px rgba(0,0,0,0.18); }
			.lac-actionbar-search { position: relative; flex: 1; min-width: 0; }
			.lac-actionbar-search input { width: 100%; height: 30px; padding: 4px 8px 4px 30px; border-radius: 8px; border: 1px solid #3A3D46; background: #2A2D36; color: #F5F6FA; font-size: 13px; line-height: 20px; }
			.lac-actionbar-search input::placeholder { color: #A0A3B1; }
			.lac-actionbar-search .search-icon { position: absolute; left: 8px; top: 50%; transform: translateY(-50%); width: 16px; height: 16px; padding: 0; border: none; background: transparent; color: #C9CBD3; }
			.lac-actionbar-actions { display: flex; align-items: center; gap: 8px; }
			.lac-icon-btn { width: 32px; height: 32px; display: inline-flex; align-items: center; justify-content: center; border-radius: 8px; border: none !important; outline: none !important; background: transparent !important; box-shadow: none !important; color: #C9CBD3; cursor: pointer; }
			.lac-icon-btn.add { color: #f3e700; }
			.lac-icon-btn.back { display: inline-flex; color: #C9CBD3; }
			.lac-icon-btn:hover { filter: brightness(1.05); }
			.lac-icon-btn svg { width: 20px; height: 20px; display:block; }
			.lac-icon-btn svg * { stroke: currentColor !important; fill: none !important; stroke-width: 2 !important; }
			.lac-icon-btn.active { background: #2F3139; }
			/* \u9690\u85CF\u6001\u6837\u5F0F\uFF08\u5BF9\u9F50 costsetapp\uFF09 */
			.asset-card.hidden { opacity: 0.3; filter: grayscale(0.5); }
            /* \u6392\u5E8F\u83DC\u5355 */
            .lac-sort-menu { position: fixed; min-width: 160px; background: #23262F; color: #F5F6FA; border-radius: 10px; overflow: hidden; box-shadow: 0 8px 18px rgba(0,0,0,0.35); border: 1px solid #3A3D46; z-index: 9999; }
            .lac-sort-menu .menu-item { padding: 10px 14px; cursor: pointer; border-top: 1px solid #2E313A; transition: background 120ms ease, color 120ms ease; }
            .lac-sort-menu .menu-item:first-child { border-top: none; }
            .lac-sort-menu .menu-item:hover { background: rgba(255, 214, 0, 0.12); color: inherit; }
            .lac-sort-menu .menu-item.active { color: #FFD700; }

			/* \u5C0F\u4E8E 720px \u65F6\u7D27\u51D1\u5E03\u5C40 */
			@media (max-width: 720px) {
				.lac-actionbar-card { gap: 8px; }
				.lac-actionbar-search input { padding-left: 30px; }
			}
		`;
    document.head.appendChild(style);
  }
  injectHeaderFixStyles() {
    const STYLE_ID = "lac-costset-header-styles";
    if (document.getElementById(STYLE_ID))
      return;
    const style = document.createElement("style");
    style.id = STYLE_ID;
    style.textContent = `
			/* \u4EC5\u4F5C\u7528\u4E8E\u672C\u89C6\u56FE\uFF1A\u4FDD\u8BC1\u7A84\u5BBD\u65F6\u4E5F\u663E\u793A\u6807\u9898\u680F\u83DC\u5355/\u8FD4\u56DE\u533A\u57DF */
			.workspace-leaf[data-type="lac-costset-view"] .view-header { display: flex !important; }
			.workspace-leaf[data-type="lac-costset-view"] .view-header .view-actions { display: inline-flex !important; gap: 6px; }
			.workspace-leaf[data-type="lac-costset-view"] .view-header-title-container { min-width: 0; }
			.workspace-leaf[data-type="lac-costset-view"] .view-header-title { max-width: 60%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
			@media (max-width: 720px) {
				.workspace-leaf[data-type="lac-costset-view"] .view-header-title { max-width: 45%; }
			}
			@media (max-width: 560px) {
				.workspace-leaf[data-type="lac-costset-view"] .view-header-title { max-width: 35%; }
			}
		`;
    document.head.appendChild(style);
  }
  openSortMenu(anchorEl, onSelect) {
    this.closeExistingSortMenu();
    const rect = anchorEl.getBoundingClientRect();
    const menu = document.createElement("div");
    menu.className = "lac-sort-menu";
    const buildItem = (label, value) => {
      const item = document.createElement("div");
      item.className = "menu-item" + (this.sortMode === value ? " active" : "");
      item.textContent = label;
      item.addEventListener("click", (ev) => {
        ev.stopPropagation();
        const next = this.sortMode === value ? "none" : value;
        onSelect(next);
        this.closeExistingSortMenu();
      });
      return item;
    };
    menu.appendChild(buildItem(t("view.sort.menu.dailyDesc"), "dailyDesc"));
    menu.appendChild(buildItem(t("view.sort.menu.priceDesc"), "priceDesc"));
    menu.appendChild(buildItem(t("view.sort.menu.dateDesc"), "dateDesc"));
    document.body.appendChild(menu);
    const top = rect.bottom + 6;
    const left = Math.min(Math.max(8, rect.left), window.innerWidth - 180);
    menu.style.top = `${top}px`;
    menu.style.left = `${left}px`;
    const onDocClick = (ev) => {
      if (!menu.contains(ev.target))
        this.closeExistingSortMenu();
    };
    const onEsc = (ev) => {
      if (ev.key === "Escape")
        this.closeExistingSortMenu();
    };
    document.addEventListener("mousedown", onDocClick, { once: true });
    document.addEventListener("keydown", onEsc, { once: true });
    menu._cleanup = () => {
      document.removeEventListener("mousedown", onDocClick);
      document.removeEventListener("keydown", onEsc);
    };
  }
  // 让视图可被 setViewState 恢复与导航：保存/应用状态
  getState() {
    return { filePath: this.filePath };
  }
  async setState(state, result) {
    const nextPath = state == null ? void 0 : state.filePath;
    if (nextPath && nextPath !== this.filePath) {
      this.filePath = nextPath;
      await this.useFile(nextPath);
      return;
    }
    const { containerEl } = this;
    containerEl.empty();
    containerEl.addClass("page-root");
    const hint = containerEl.createDiv();
    hint.style.padding = "16px";
    hint.style.opacity = "0.8";
    hint.textContent = "\u4ECE\u6587\u4EF6\u7684\u53F3\u952E\u83DC\u5355\u4E2D\u9009\u62E9 \u201C\u7528 LaC.CostSet \u6253\u5F00\u201D\u3002";
  }
  closeExistingSortMenu() {
    const existing = document.querySelector(".lac-sort-menu");
    if (existing) {
      const cleanup = existing._cleanup;
      if (cleanup)
        cleanup();
      existing.remove();
    }
  }
  svgSearch() {
    return `
			<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/>
				<line x1="20" y1="20" x2="16.65" y2="16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
			</svg>
		`;
  }
  svgPlus() {
    return `
			<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
			</svg>
		`;
  }
  svgSort() {
    return `
			<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M8 9l4-4 4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				<path d="M16 15l-4 4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
			</svg>
		`;
  }
  svgBack() {
    return `
			<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
			</svg>
		`;
  }
  renderTopSummary(containerEl) {
    const calcDate = this.selectedDate || new Date();
    const activeAssets = this.assets.filter((asset) => asset.isActive(calcDate) && !asset.hidden);
    const filteredActiveAssets = this.applyTagFilter(activeAssets);
    const totalCost = filteredActiveAssets.reduce((sum, asset) => sum + asset.price, 0);
    const totalRecycle = filteredActiveAssets.reduce((sum, asset) => sum + asset.recyclePrice, 0);
    const totalDailyCost = filteredActiveAssets.reduce((sum, asset) => sum + asset.getDailyCost(calcDate), 0);
    const allTags = /* @__PURE__ */ new Set();
    this.assets.forEach((asset) => {
      (asset.tags || []).forEach((tag) => allTags.add(tag));
    });
    const collator = new Intl.Collator("zh", { sensitivity: "base", numeric: true });
    const tagsArray = Array.from(allTags).sort((a, b) => collator.compare(a, b));
    const currentYear = new Date().getFullYear();
    const maxYear = currentYear + 7;
    let minYear = currentYear;
    if (this.assets.length > 0) {
      const earliestYear = Math.min(...this.assets.map((asset) => asset.activeFrom.getFullYear()));
      minYear = earliestYear;
    }
    const trendPoints = this.calcTrendPoints(filteredActiveAssets, 30);
    console.log("\u6E32\u67D3\u9876\u90E8\u7EDF\u8BA1\u533A\u57DF:", {
      activeAssets: activeAssets.length,
      totalCost,
      totalRecycle,
      totalDailyCost,
      tagsArray,
      yearRange: { minYear, maxYear }
    });
    const topSummaryEl = containerEl.createDiv();
    const topSummaryProps = {
      totalDailyCost,
      totalCost,
      totalRecycle,
      tags: tagsArray,
      selectedTags: this.selectedTags,
      onTagClick: (tag) => {
        if (Array.isArray(tag)) {
          this.selectedTags = [...new Set(tag)];
        } else {
          if (this.selectedTags.includes(tag)) {
            this.selectedTags = this.selectedTags.filter((t2) => t2 !== tag);
          } else {
            this.selectedTags = [...this.selectedTags, tag];
          }
        }
        this.renderAssets();
      },
      trendPoints,
      selectedDate: this.selectedDate,
      onChartSelect: (x) => {
        console.log("\u56FE\u8868\u9009\u62E9:", x);
      },
      onChartWidth: (w) => {
        console.log("\u56FE\u8868\u5BBD\u5EA6:", w);
      },
      onDatePick: (dateStr) => {
        console.log("\u65E5\u671F\u9009\u62E9:", dateStr);
        const selectedDate = new Date(dateStr);
        this.selectedDate = selectedDate;
        if (this.topSummaryComponent) {
          this.topSummaryComponent.updateSelection(null, selectedDate);
          const calcDate2 = selectedDate;
          const activeAssets2 = this.assets.filter((asset) => asset.isActive(calcDate2) && !asset.hidden);
          const filteredActiveAssets2 = this.applyTagFilter(activeAssets2);
          const totalCost2 = filteredActiveAssets2.reduce((sum, asset) => sum + asset.price, 0);
          const totalRecycle2 = filteredActiveAssets2.reduce((sum, asset) => sum + asset.recyclePrice, 0);
          const totalDailyCost2 = filteredActiveAssets2.reduce((sum, asset) => sum + asset.getDailyCost(calcDate2), 0);
          this.topSummaryComponent.updateNumbers(totalDailyCost2, totalCost2, totalRecycle2);
        }
        const { containerEl: containerEl2 } = this;
        const listEl = containerEl2.querySelector(".assets-container");
        if (listEl) {
          listEl.remove();
          const newList = containerEl2.createDiv("assets-container");
          this.renderAssetCards(newList);
        } else {
          this.renderAssets();
        }
      },
      minYear,
      maxYear
    };
    this.topSummaryComponent = new TopSummary(topSummaryEl, topSummaryProps);
    this.topSummaryComponent.render();
    this.renderChartWithProgressiveRefinement(filteredActiveAssets);
    console.log("\u9876\u90E8\u7EDF\u8BA1\u533A\u57DF\u5DF2\u521B\u5EFA:", topSummaryEl);
  }
  getCurrencySymbol() {
    const { t: t2 } = (init_i18n(), __toCommonJS(i18n_exports));
    return t2("currency.symbol");
  }
  // 渐进式细化渲染（参考costsetapp实现）
  renderChartWithProgressiveRefinement(assets) {
    if (assets.length === 0)
      return;
    let maxActiveTo = 0;
    assets.forEach((a) => {
      const to = a.activeTo;
      if (to) {
        const t2 = to.getTime();
        if (t2 && t2 > maxActiveTo)
          maxActiveTo = t2;
      }
    });
    const now = new Date();
    const maxDate = maxActiveTo && maxActiveTo > now.getTime() ? new Date(maxActiveTo) : now;
    const initialPoints = this.calcTrendPoints(assets, 30, void 0, maxDate);
    if (this.topSummaryComponent) {
      this.topSummaryComponent.updateChart(initialPoints);
    }
    setTimeout(async () => {
      const segPromises = [];
      for (let i = 0; i < initialPoints.length - 1; i++) {
        segPromises.push(
          Promise.resolve(this.calcTrendPoints(assets, 30, initialPoints[i].date, initialPoints[i + 1].date)).then((segPoints) => {
            if (i > 0)
              return segPoints.slice(1);
            return segPoints;
          })
        );
      }
      const segResults = await Promise.all(segPromises);
      const finePoints = segResults.flat();
      if (this.topSummaryComponent) {
        this.topSummaryComponent.updateChart(finePoints);
      }
    }, 500);
  }
  // 将标签筛选应用到给定资产集
  applyTagFilter(input) {
    if (!this.selectedTags || this.selectedTags.length === 0)
      return input;
    return input.filter((a) => {
      var _a;
      return (_a = a.tags) == null ? void 0 : _a.some((t2) => this.selectedTags.includes(t2));
    });
  }
  calcTrendPoints(assets, count, fromDate, toDate) {
    if (assets.length === 0)
      return [];
    const now = new Date();
    const minDate = fromDate || new Date(Math.min(...assets.map((a) => a.activeFrom.getTime())));
    const maxActiveTo = Math.max(...assets.map((a) => {
      const to = a.activeTo;
      if (to) {
        const t2 = to.getTime();
        if (!isNaN(t2))
          return t2;
      }
      return now.getTime();
    }));
    const maxDate = toDate || new Date(maxActiveTo);
    const points = [];
    for (let i = 0; i < count; i++) {
      const t2 = minDate.getTime() + (maxDate.getTime() - minDate.getTime()) * i / (count - 1);
      const date = new Date(t2);
      let totalCost = 0;
      assets.forEach((a) => {
        const cost = this.calcDailyCost(a.price, a.recyclePrice, a.activeFrom, a.activeTo, date);
        if (isFinite(cost))
          totalCost += cost;
      });
      points.push({ date, value: totalCost });
    }
    return points;
  }
  // 计算日均成本（参考costsetapp算法）
  calcDailyCost(price, recycle, from, to, now) {
    if (!from)
      return 0;
    const days = Math.floor((now.getTime() - from.getTime()) / 864e5) + 1;
    if (!to || to > now) {
      recycle = 0;
    }
    if (!isFinite(days) || days <= 0)
      return 0;
    const result = (Number(price) - Number(recycle || 0)) / days;
    return isFinite(result) ? result : 0;
  }
};

// components/settings/LacCostSetSettingTab.ts
var import_obsidian4 = require("obsidian");
init_i18n();
var LacCostSetSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: t("settings.title") });
    containerEl.createEl("p", { text: t("settings.guide.1"), cls: "setting-item-description" });
    const entryExample = t("settings.entry.example");
    containerEl.createEl("pre", { text: entryExample, cls: "setting-item-description" });
    containerEl.createEl("p", { text: t("settings.asset.desc"), cls: "setting-item-description" });
    const assetExample = t("settings.asset.example");
    containerEl.createEl("pre", { text: assetExample, cls: "setting-item-description" });
    containerEl.createEl("p", { text: t("settings.usage"), cls: "setting-item-description" });
    new import_obsidian4.Setting(containerEl).setName(t("settings.entryFile.name")).setDesc(t("settings.entryFile.desc")).addText((text) => text.setPlaceholder("costset/costset.md").setValue(this.plugin.settings.entryFile || "costset/costset.md").onChange(async (value) => {
      this.plugin.settings.entryFile = (value == null ? void 0 : value.trim()) || "costset/costset.md";
      await this.plugin.saveSettings();
      this.plugin.assetRepository = new AssetRepository(this.app, this.plugin.settings.entryFile);
    }));
    new import_obsidian4.Setting(containerEl).setName(t("settings.contextMenu.name")).setDesc(t("settings.contextMenu.desc")).addToggle((toggle) => toggle.setValue(this.plugin.settings.enableContextMenu).onChange(async (value) => {
      this.plugin.settings.enableContextMenu = !!value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian4.Setting(containerEl).setName(t("settings.defaultSort.name")).setDesc(t("settings.defaultSort.desc")).addDropdown((drop) => {
      drop.addOption("none", t("settings.defaultSort.option.none"));
      drop.addOption("dailyDesc", t("settings.defaultSort.option.dailyDesc"));
      drop.addOption("priceDesc", t("settings.defaultSort.option.priceDesc"));
      drop.addOption("dateDesc", t("settings.defaultSort.option.dateDesc"));
      drop.setValue(this.plugin.settings.defaultSort || "none");
      drop.onChange(async (value) => {
        const v = value;
        this.plugin.settings.defaultSort = v;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian4.Setting(containerEl).setName(t("settings.defaultIcon.name")).setDesc(t("settings.defaultIcon.desc")).addText((text) => {
      const sanitizeToFirstEmoji = (input) => {
        const m = (input || "").match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/);
        return m ? m[0] : "";
      };
      text.setPlaceholder(t("settings.defaultIcon.placeholder")).setValue(this.plugin.settings.defaultIcon).onChange(async (value) => {
        const first = sanitizeToFirstEmoji(value);
        if (text.inputEl && text.inputEl.value !== first) {
          text.inputEl.value = first;
        }
        this.plugin.settings.defaultIcon = first;
        await this.plugin.saveSettings();
      });
      const inputEl = text.inputEl;
      if (inputEl) {
        inputEl.addEventListener("paste", () => {
          setTimeout(() => {
            const first = sanitizeToFirstEmoji(inputEl.value || "");
            if (inputEl.value !== first)
              inputEl.value = first;
            this.plugin.settings.defaultIcon = first;
            this.plugin.saveSettings();
          }, 0);
        });
      }
    });
    new import_obsidian4.Setting(containerEl).setName(t("settings.locale.name")).setDesc(t("settings.locale.desc")).addDropdown((drop) => {
      drop.addOption("auto", t("settings.locale.option.auto"));
      drop.addOption("zh", "\u4E2D\u6587");
      drop.addOption("en", "English");
      drop.setValue(this.plugin.settings.locale || "auto");
      drop.onChange(async (value) => {
        this.plugin.settings.locale = value;
        await this.plugin.saveSettings();
        this.display();
      });
    });
  }
};

// main.ts
var LacCostSetPlugin = class extends import_obsidian5.Plugin {
  async onload() {
    await this.loadSettings();
    setLocale(this.settings.locale || "auto");
    this.assetRepository = new AssetRepository(this.app, this.settings.entryFile || "costset/costset.md");
    this.registerView("lac-costset-view", (leaf) => new AssetManagerView(leaf, this.assetRepository));
    this.app.workspace.onLayoutReady(() => {
      this.app.workspace.detachLeavesOfType("lac-costset-view");
    });
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        if (!this.settings.enableContextMenu)
          return;
        if (file instanceof import_obsidian5.TFile && file.extension === "md") {
          menu.addItem((item) => {
            item.setTitle(t("menu.openWith")).setIcon("package").onClick(() => {
              const leaf = this.app.workspace.getLeaf("tab");
              leaf.setViewState({
                type: "lac-costset-view",
                state: { filePath: file.path },
                active: true
              });
              this.app.workspace.revealLeaf(leaf);
            });
          });
        }
      })
    );
    this.addCommand({
      id: "open-lac-costset",
      name: t("command.open"),
      callback: async () => {
        const entryPath = this.settings.entryFile || "costset/costset.md";
        const ensureFolderExists = async (folderPath) => {
          const folder = this.app.vault.getAbstractFileByPath(folderPath);
          if (!folder) {
            await this.app.vault.createFolder(folderPath);
          }
        };
        const entryFile = this.app.vault.getAbstractFileByPath(entryPath);
        if (!entryFile) {
          const parts = entryPath.split("/");
          const folderPath = parts.slice(0, -1).join("/") || "";
          if (folderPath)
            await ensureFolderExists(folderPath);
          const sampleEntry = `# LaC.CostSet \u5165\u53E3

# \u4EE5\u4E0B\u4E3A\u5165\u53E3\u5143\u6570\u636E\uFF08TOML\uFF09
# \u8981\u6C42\uFF1Atype = "root" \u4E14 renders \u5305\u542B "costset"

type = "root"
renders = ["costset"]

# \u4EE5\u4E0B\u4E3A\u793A\u4F8B\u8D44\u4EA7\uFF0C\u60A8\u53EF\u4EE5\u5220\u9664\u5E76\u66FF\u6362\u4E3A\u81EA\u5DF1\u7684\u8D44\u4EA7\uFF1A

[[\u6F14\u793A-\u952E\u76D8]]
[[\u6F14\u793A-\u8033\u673A]]
[[\u6F14\u793A-\u8DEF\u7531\u5668]]
`;
          await this.app.vault.adapter.write(entryPath, sampleEntry);
          const makeAssetToml = (name, icon, price, from, to, recycle, tags) => {
            const lines = [];
            lines.push(`name = "${name}"`);
            lines.push("");
            lines.push("[style]");
            lines.push(`icon = "${icon}"`);
            lines.push("");
            lines.push("[detail]");
            lines.push(`price = ${price}`);
            lines.push(`active_from = "${from}"`);
            lines.push(`active_to = "${to || ""}"`);
            lines.push(`recycle_price = ${recycle != null ? recycle : 0}`);
            lines.push(`tags = [${(tags || []).map((t2) => `"${t2}"`).join(", ")}]`);
            lines.push("");
            return lines.join("\n");
          };
          const assetsFolder = folderPath || "costset";
          await ensureFolderExists(assetsFolder);
          const assetDefs = [
            { id: "\u6F14\u793A-\u952E\u76D8", icon: "\u2328\uFE0F", price: 399, from: "2024-01-01", to: "", recycle: 0, tags: ["\u6570\u7801", "\u952E\u76D8"] },
            { id: "\u6F14\u793A-\u8033\u673A", icon: "\u{1F3A7}", price: 599, from: "2024-03-15", to: "", recycle: 0, tags: ["\u6570\u7801", "\u8033\u673A"] },
            { id: "\u6F14\u793A-\u8DEF\u7531\u5668", icon: "\u{1F4F6}", price: 329, from: "2023-11-20", to: "", recycle: 50, tags: ["\u7F51\u7EDC"] }
          ];
          for (const a of assetDefs) {
            const filePath = `${assetsFolder}/${a.id}.md`;
            const exists = this.app.vault.getAbstractFileByPath(filePath);
            if (!exists) {
              await this.app.vault.adapter.write(filePath, makeAssetToml(a.id, a.icon, a.price, a.from, a.to, a.recycle, a.tags));
            }
          }
        }
        let invalid = false;
        try {
          const f = this.app.vault.getAbstractFileByPath(entryPath);
          if (f && f instanceof import_obsidian5.TFile) {
            const raw = await this.app.vault.read(f);
            const tomlCandidate = raw.replace(/\[\[([^\]]+)\]\]/g, (_m, p1) => `"${String(p1).trim()}"`);
            const hasTomlKv = /(^|\n)\s*[A-Za-z0-9_.]+\s*=\s*[^\n]+/m.test(tomlCandidate);
            const typeMatch = tomlCandidate.match(/(^|\n)\s*type\s*=\s*"([^"]*)"/m);
            const typeVal = (typeMatch == null ? void 0 : typeMatch[2]) || "";
            const rendersMatch = tomlCandidate.match(/(^|\n)\s*renders\s*=\s*\[([\s\S]*?)\]/m);
            let rendersHasCostset = false;
            if (rendersMatch && rendersMatch[2]) {
              const arrText = rendersMatch[2];
              rendersHasCostset = /\"costset\"/i.test(arrText) || /(^|,|\s)costset(,|\s|$)/i.test(arrText);
            }
            invalid = !hasTomlKv || typeVal !== "root" || !rendersHasCostset;
          } else {
            invalid = true;
          }
        } catch (_) {
          invalid = true;
        }
        if (invalid)
          new import_obsidian5.Notice(t("notice.invalidEntry"));
        this.assetRepository = new AssetRepository(this.app, entryPath);
        const leaf = this.app.workspace.getLeaf("tab");
        await leaf.setViewState({
          type: "lac-costset-view",
          state: { filePath: entryPath },
          active: true
        });
        this.app.workspace.revealLeaf(leaf);
      }
    });
    this.addSettingTab(new LacCostSetSettingTab(this.app, this));
    this.addStatusBarItem().setText("Lac-CostSet");
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    setLocale(this.settings.locale || "auto");
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiaTE4bi50cyIsICJtYWluLnRzIiwgInR5cGVzLnRzIiwgInJlcG9zaXRvcmllcy9Bc3NldFJlcG9zaXRvcnkudHMiLCAibW9kZWxzL0Fzc2V0LnRzIiwgImNvbXBvbmVudHMvbW9kYWxzL0Fzc2V0Rm9ybU1vZGFsLnRzIiwgImNvbXBvbmVudHMvbW9kYWxzL0NvbmZpcm1Nb2RhbC50cyIsICJjb21wb25lbnRzL0Fzc2V0TWFuYWdlclZpZXcudHMiLCAiY29tcG9uZW50cy9UYWdQYW5lbC50cyIsICJjb21wb25lbnRzL1RvcFN1bW1hcnkudHMiLCAiY29tcG9uZW50cy9zZXR0aW5ncy9MYWNDb3N0U2V0U2V0dGluZ1RhYi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IHR5cGUgTG9jYWxlU2V0dGluZyA9ICdhdXRvJyB8ICd6aCcgfCAnZW4nO1xyXG5cclxubGV0IGN1cnJlbnRMb2NhbGU6ICd6aCcgfCAnZW4nID0gJ3poJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlTG9jYWxlKGxvY2FsZTogTG9jYWxlU2V0dGluZyB8IHVuZGVmaW5lZCk6ICd6aCcgfCAnZW4nIHtcclxuXHRpZiAoIWxvY2FsZSB8fCBsb2NhbGUgPT09ICdhdXRvJykge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgbGFuZyA9IChuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgJycpLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdHJldHVybiBsYW5nLnN0YXJ0c1dpdGgoJ3poJykgPyAnemgnIDogJ2VuJztcclxuXHRcdH0gY2F0Y2ggKF8pIHtcclxuXHRcdFx0cmV0dXJuICdlbic7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBsb2NhbGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2NhbGUobG9jYWxlOiBMb2NhbGVTZXR0aW5nIHwgJ3poJyB8ICdlbicpOiB2b2lkIHtcclxuXHRjdXJyZW50TG9jYWxlID0gcmVzb2x2ZUxvY2FsZShsb2NhbGUgYXMgYW55KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhbGUoKTogJ3poJyB8ICdlbicge1xyXG5cdHJldHVybiBjdXJyZW50TG9jYWxlO1xyXG59XHJcblxyXG50eXBlIERpY3QgPSBSZWNvcmQ8c3RyaW5nLCB7IHpoOiBzdHJpbmc7IGVuOiBzdHJpbmcgfT5cclxuXHJcbmNvbnN0IGRpY3Q6IERpY3QgPSB7XHJcbiAgICAvLyBDdXJyZW5jeVxyXG4gICAgJ2N1cnJlbmN5LnN5bWJvbCc6IHsgemg6ICdcdTAwQTUnLCBlbjogJyQnIH0sXHJcblx0Ly8gQ29tbW9uXHJcblx0J2NvbW1vbi5jb25maXJtJzogeyB6aDogJ1x1Nzg2RVx1NUI5QScsIGVuOiAnQ29uZmlybScgfSxcclxuXHQnY29tbW9uLmNhbmNlbCc6IHsgemg6ICdcdTUzRDZcdTZEODgnLCBlbjogJ0NhbmNlbCcgfSxcclxuXHQnY29tbW9uLmRlbGV0ZSc6IHsgemg6ICdcdTUyMjBcdTk2NjQnLCBlbjogJ0RlbGV0ZScgfSxcclxuXHQnY29tbW9uLnNhdmUnOiB7IHpoOiAnXHU0RkREXHU1QjU4JywgZW46ICdTYXZlJyB9LFxyXG5cdCdjb21tb24uYmFjayc6IHsgemg6ICdcdThGRDRcdTU2REUnLCBlbjogJ0JhY2snIH0sXHJcblx0J2NvbW1vbi5hZGQnOiB7IHpoOiAnXHU2REZCXHU1MkEwJywgZW46ICdBZGQnIH0sXHJcblx0J2NvbW1vbi5zZWFyY2gnOiB7IHpoOiAnXHU2NDFDXHU3RDIyJywgZW46ICdTZWFyY2gnIH0sXHJcblxyXG5cdC8vIE1lbnUgLyBDb21tYW5kXHJcblx0J21lbnUub3BlbldpdGgnOiB7IHpoOiAnXHU3NTI4IExhQy5Db3N0U2V0IFx1NjI1M1x1NUYwMCcsIGVuOiAnT3BlbiB3aXRoIExhQy5Db3N0U2V0JyB9LFxyXG5cdCdjb21tYW5kLm9wZW4nOiB7IHpoOiAnXHU2MjUzXHU1RjAwJywgZW46ICdPcGVuJyB9LFxyXG5cdCdub3RpY2UuaW52YWxpZEVudHJ5Jzoge1xyXG5cdFx0emg6ICdcdTUxNjVcdTUzRTNcdTY1ODdcdTRFRjZcdTUxODVcdTVCQjlcdTY4M0NcdTVGMEZcdTRFMERcdTZCNjNcdTc4NkVcdUZGMUFcdTk3MDBcdTRFM0EgVE9NTFx1RkYwQ1x1NEUxNCB0eXBlID0gXCJyb290XCJcdUZGMENyZW5kZXJzIFx1NUZDNVx1OTg3Qlx1NTMwNVx1NTQyQiBcImNvc3RzZXRcIicsXHJcblx0XHRlbjogJ0VudHJ5IGZpbGUgaW52YWxpZDogbXVzdCBiZSBUT01MIHdpdGggdHlwZSA9IFwicm9vdFwiIGFuZCByZW5kZXJzIG11c3QgaW5jbHVkZSBcImNvc3RzZXRcIidcclxuXHR9LFxyXG5cdCdub3RpY2Uuc2F2ZUZhaWxlZCc6IHsgemg6ICdcdTRGRERcdTVCNThcdTU5MzFcdThEMjU6IHttc2d9JywgZW46ICdTYXZlIGZhaWxlZDoge21zZ30nIH0sXHJcblxyXG5cdC8vIFNldHRpbmdzXHJcblx0J3NldHRpbmdzLnRpdGxlJzogeyB6aDogJ0xhYy5Db3N0U2V0IFx1OEJCRVx1N0Y2RScsIGVuOiAnTGFjLkNvc3RTZXQgU2V0dGluZ3MnIH0sXHJcblx0J3NldHRpbmdzLmd1aWRlLjEnOiB7XHJcblx0XHR6aDogJ1x1OTFDRFx1ODk4MVx1RkYxQVx1NTE2NVx1NTNFM1x1NjU4N1x1NEVGNlx1NEUwRVx1OEQ0NFx1NEVBN1x1NjU4N1x1NEVGNlx1NzY4NFx1MjAxQ1x1NTE4NVx1NUJCOVx1NjgzQ1x1NUYwRlx1NEUzQSBUT01MXHUyMDFEXHVGRjBDXHU2NTg3XHU0RUY2XHU2MjY5XHU1QzU1XHU1NDBEXHU1M0VGXHU0RTNBIC5tZFx1MzAwMlx1NTE0MVx1OEJCOCAjIFx1NUYwMFx1NTkzNFx1NzY4NFx1NkNFOFx1OTFDQVx1MzAwMlx1NTUyRlx1NEUwMFx1NzY4NFx1OTc1RSBUT01MIFx1NEY4Qlx1NTkxNlx1NjYyRlx1RkYxQVx1NjU4N1x1NEVGNlx1NkI2M1x1NjU4N1x1NEUyRFx1NzY4NCBbW1x1OEQ0NFx1NEVBN1x1NjU4N1x1NEVGNlx1NTQwRF1dIFx1NTNDQ1x1OTRGRVx1NTNFRlx1NzcwMVx1NzU2NVx1NUYxNVx1NTNGN1x1RkYwQ1x1NjNEMlx1NEVGNlx1NTcyOFx1ODlFM1x1Njc5MFx1NjVGNlx1NEYxQVx1NEUzNFx1NjVGNlx1NEUzQVx1NTE3Nlx1NTJBMFx1NEUwQVx1NUYxNVx1NTNGN1x1NTQwRVx1NjMwOSBUT01MIFx1NTkwNFx1NzQwNlx1MzAwMlx1OTY2NFx1OEZEOVx1NzBCOVx1NTkxNlx1RkYwQ1x1NEUwRFx1NUU5NFx1NkRGN1x1NTE2NVx1NjY2RVx1OTAxQSBNYXJrZG93biBcdTY1ODdcdTY3MkNcdTMwMDInLFxyXG5cdFx0ZW46ICdJbXBvcnRhbnQ6IEVudHJ5IGFuZCBhc3NldCBmaWxlcyBtdXN0IGJlIFRPTUwgY29udGVudCAoZXh0ZW5zaW9uIGNhbiBiZSAubWQpLiBDb21tZW50cyBzdGFydGluZyB3aXRoICMgYXJlIGFsbG93ZWQuIFRoZSBvbmx5IG5vbi1UT01MIGV4Y2VwdGlvbjogW1thc3NldCBmaWxlbmFtZV1dIHdpa2lsaW5rcyBpbiB0aGUgYm9keSBjYW4gb21pdCBxdW90ZXM7IHRoZSBwbHVnaW4gd2lsbCB0ZW1wb3JhcmlseSBxdW90ZSB0aGVtIGZvciBUT01MIHBhcnNpbmcuIE5vIG90aGVyIHJlZ3VsYXIgTWFya2Rvd24gc2hvdWxkIGJlIG1peGVkLidcclxuXHR9LFxyXG5cdCdzZXR0aW5ncy5lbnRyeS5leGFtcGxlJzoge1xyXG5cdFx0emg6ICcjIFx1NTE2NVx1NTNFM1x1NjU4N1x1NEVGNlx1NjcwMFx1NUMwRlx1NzkzQVx1NEY4QlxcblxcbiMgXHU5ODc2XHU5MEU4IFRPTUxcdUZGMUFcdTVGQzVcdTk4N0JcdTZFRTFcdThEQjNcXG4jIHR5cGUgPSBcInJvb3RcIlxcbiMgcmVuZGVycyA9IFtcImNvc3RzZXRcIl1cXG5cXG50eXBlID0gXCJyb290XCJcXG5yZW5kZXJzID0gW1wiY29zdHNldFwiXVxcblxcbiMgXHU2QjYzXHU2NTg3XHVGRjFBXHU3NTI4XHU1M0NDXHU5NEZFXHU1MjE3XHU1MUZBXHU4RDQ0XHU0RUE3XHU2NTg3XHU0RUY2XHU1NDBEXHVGRjA4XHU0RTBEXHU5NzAwXHU4OTgxXHU2MjY5XHU1QzU1XHU1NDBEXHVGRjA5XFxuXFxuW1tcdTk1MkVcdTc2RDhdXVxcbltbXHU4MDMzXHU2NzNBXV1cXG4nLFxyXG5cdFx0ZW46ICcjIE1pbmltYWwgZW50cnkgZmlsZSBleGFtcGxlXFxuXFxuIyBUb3AgVE9NTCBtdXN0IGluY2x1ZGVcXG4jIHR5cGUgPSBcInJvb3RcIlxcbiMgcmVuZGVycyA9IFtcImNvc3RzZXRcIl1cXG5cXG50eXBlID0gXCJyb290XCJcXG5yZW5kZXJzID0gW1wiY29zdHNldFwiXVxcblxcbiMgQm9keTogbGlzdCBhc3NldCBmaWxlbmFtZXMgdXNpbmcgd2lraWxpbmtzIChubyBleHRlbnNpb24pXFxuXFxuW1trZXlib2FyZF1dXFxuW1toZWFkcGhvbmVzXV1cXG4nXHJcblx0fSxcclxuXHQnc2V0dGluZ3MuYXNzZXQuZGVzYyc6IHtcclxuXHRcdHpoOiAnXHU4RDQ0XHU0RUE3XHU2NTg3XHU0RUY2XHU1NDBDXHU2ODM3XHU2NjJGIE1hcmtkb3duXHVGRjBDXHU0RjQ2XHU1MTg1XHU1QkI5XHU0RUU1IFRPTUwgXHU1QjU3XHU2QkI1XHU0RTNBXHU0RTNCXHVGRjA4XHU2M0QyXHU0RUY2XHU0RjFBXHU0RkREXHU3NTU5XHU0RjYwXHU1MTk5XHU3Njg0XHU2Q0U4XHU5MUNBXHVGRjA5XHUzMDAyXHU0RUU1XHU0RTBCXHU0RTNBXHU2NzAwXHU1QzBGXHU3OTNBXHU0RjhCXHVGRjFBJyxcclxuXHRcdGVuOiAnQXNzZXQgZmlsZXMgYXJlIGFsc28gTWFya2Rvd24sIGJ1dCBtYWlubHkgVE9NTCBmaWVsZHMgKGNvbW1lbnRzIGFyZSBwcmVzZXJ2ZWQpLiBNaW5pbWFsIGV4YW1wbGU6J1xyXG5cdH0sXHJcblx0J3NldHRpbmdzLmFzc2V0LmV4YW1wbGUnOiB7XHJcblx0XHR6aDogJ25hbWUgPSBcIlx1OTUyRVx1NzZEOFwiXFxuXFxuW3N0eWxlXVxcbmljb24gPSBcIlx1MjMyOFx1RkUwRlwiXFxuXFxuW2RldGFpbF1cXG5wcmljZSA9IDM5OVxcbmFjdGl2ZV9mcm9tID0gXCIyMDI0LTAxLTAxXCJcXG5hY3RpdmVfdG8gPSBcIlwiXFxucmVjeWNsZV9wcmljZSA9IDBcXG50YWdzID0gW1wiXHU2NTcwXHU3ODAxXCIsIFwiXHU5NTJFXHU3NkQ4XCJdXFxuJyxcclxuXHRcdGVuOiAnbmFtZSA9IFwiS2V5Ym9hcmRcIlxcblxcbltzdHlsZV1cXG5pY29uID0gXCJcdTIzMjhcdUZFMEZcIlxcblxcbltkZXRhaWxdXFxucHJpY2UgPSAzOTlcXG5hY3RpdmVfZnJvbSA9IFwiMjAyNC0wMS0wMVwiXFxuYWN0aXZlX3RvID0gXCJcIlxcbnJlY3ljbGVfcHJpY2UgPSAwXFxudGFncyA9IFtcIkRpZ2l0YWxcIiwgXCJLZXlib2FyZFwiXVxcbidcclxuXHR9LFxyXG5cdCdzZXR0aW5ncy51c2FnZSc6IHtcclxuXHRcdHpoOiAnXHU3NTI4XHU2Q0Q1XHVGRjFBXHU1NzI4XHUyMDFDXHU1MTY1XHU1M0UzXHU2NTg3XHU0RUY2XHUyMDFEXHU0RTBBXHU1M0YzXHU5NTJFIFx1MjE5MiBcdTkwMDlcdTYyRTlcdTIwMUNcdTc1MjggTGFDLkNvc3RTZXQgXHU2MjUzXHU1RjAwXHUyMDFEXHUzMDAyXHU0RTVGXHU1M0VGXHU1NzI4XHU1NDdEXHU0RUU0XHU5NzYyXHU2NzdGXHU2MjY3XHU4ODRDXHUyMDFDXHU2MjUzXHU1RjAwTGFDLkNvc3RTZXRcdTIwMURcdUZGMDhcdTVDMDZcdTRGN0ZcdTc1MjhcdTRFMEJcdTY1QjlcdTkxNERcdTdGNkVcdTc2ODRcdTUxNjVcdTUzRTNcdTY1ODdcdTRFRjZcdUZGMDlcdTMwMDInLFxyXG5cdFx0ZW46ICdVc2FnZTogUmlnaHQtY2xpY2sgb24gdGhlIGVudHJ5IGZpbGUgXHUyMTkyIGNob29zZSBcIk9wZW4gd2l0aCBMYUMuQ29zdFNldFwiLiBPciBydW4gdGhlIGNvbW1hbmQgXCJPcGVuIExhQy5Db3N0U2V0XCIgKHVzZXMgdGhlIGNvbmZpZ3VyZWQgZW50cnkgZmlsZSBiZWxvdykuJ1xyXG5cdH0sXHJcblx0J3NldHRpbmdzLmVudHJ5RmlsZS5uYW1lJzogeyB6aDogJ1x1NTE2NVx1NTNFM1x1NjU4N1x1NEVGNicsIGVuOiAnRW50cnkgZmlsZScgfSxcclxuXHQnc2V0dGluZ3MuZW50cnlGaWxlLmRlc2MnOiB7IHpoOiAnXHU0RjVDXHU0RTNBXHU4RDQ0XHU0RUE3XHU1MTY1XHU1M0UzXHU3Njg0IE1hcmtkb3duIFx1NjU4N1x1NEVGNlx1OERFRlx1NUY4NFx1RkYwQ1x1NEY4Qlx1NTk4MiBjb3N0c2V0L2Nvc3RzZXQubWQnLCBlbjogJ1BhdGggdG8gdGhlIE1hcmtkb3duIGVudHJ5IGZpbGUsIGUuZy4sIGNvc3RzZXQvY29zdHNldC5tZCcgfSxcclxuXHQnc2V0dGluZ3MuY29udGV4dE1lbnUubmFtZSc6IHsgemg6ICdcdTU0MkZcdTc1MjhcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTUgXHUyMDFDXHU3NTI4IExhQy5Db3N0U2V0IFx1NjI1M1x1NUYwMFx1MjAxRCcsIGVuOiAnRW5hYmxlIGNvbnRleHQgbWVudSBcIk9wZW4gd2l0aCBMYUMuQ29zdFNldFwiJyB9LFxyXG5cdCdzZXR0aW5ncy5jb250ZXh0TWVudS5kZXNjJzogeyB6aDogJ1x1NTcyOCBNYXJrZG93biBcdTY1ODdcdTRFRjZcdTc2ODRcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcdTRFMkRcdTY2M0VcdTc5M0FcdTUxNjVcdTUzRTMnLCBlbjogJ1Nob3cgZW50cnkgaW4gTWFya2Rvd24gZmlsZSBjb250ZXh0IG1lbnUnIH0sXHJcblx0J3NldHRpbmdzLmRlZmF1bHRTb3J0Lm5hbWUnOiB7IHpoOiAnXHU5RUQ4XHU4QkE0XHU2MzkyXHU1RThGJywgZW46ICdEZWZhdWx0IHNvcnQnIH0sXHJcblx0J3NldHRpbmdzLmRlZmF1bHRTb3J0LmRlc2MnOiB7IHpoOiAnXHU2MjUzXHU1RjAwXHU4OUM2XHU1NkZFXHU2NUY2XHU3Njg0XHU1MjFEXHU1OUNCXHU2MzkyXHU1RThGXHU2NUI5XHU1RjBGJywgZW46ICdJbml0aWFsIHNvcnQgd2hlbiBvcGVuaW5nIHRoZSB2aWV3JyB9LFxyXG5cdCdzZXR0aW5ncy5kZWZhdWx0U29ydC5vcHRpb24ubm9uZSc6IHsgemg6ICdcdTY1ODdcdTY3MkNcdTk4N0FcdTVFOEYnLCBlbjogJ1RleHQgb3JkZXInIH0sXHJcblx0J3NldHRpbmdzLmRlZmF1bHRTb3J0Lm9wdGlvbi5kYWlseURlc2MnOiB7IHpoOiAnXHU2NUU1XHU1NzQ3XHU0RUY3XHU2ODNDJywgZW46ICdEYWlseSBjb3N0JyB9LFxyXG5cdCdzZXR0aW5ncy5kZWZhdWx0U29ydC5vcHRpb24ucHJpY2VEZXNjJzogeyB6aDogJ1x1NEVGN1x1NjgzQycsIGVuOiAnUHJpY2UnIH0sXHJcblx0J3NldHRpbmdzLmRlZmF1bHRTb3J0Lm9wdGlvbi5kYXRlRGVzYyc6IHsgemg6ICdcdThEMkRcdTUxNjVcdTY1RTVcdTY3MUYnLCBlbjogJ1B1cmNoYXNlIGRhdGUnIH0sXHJcblx0J3NldHRpbmdzLmRlZmF1bHRJY29uLm5hbWUnOiB7IHpoOiAnXHU5RUQ4XHU4QkE0XHU1NkZFXHU2ODA3JywgZW46ICdEZWZhdWx0IGljb24nIH0sXHJcblx0J3NldHRpbmdzLmRlZmF1bHRJY29uLmRlc2MnOiB7IHpoOiAnXHU2NUIwXHU4RDQ0XHU0RUE3XHU3Njg0XHU5RUQ4XHU4QkE0XHU1NkZFXHU2ODA3XHVGRjBDXHU0RUM1XHU2NTJGXHU2MzAxIDEgXHU0RTJBIEVtb2ppJywgZW46ICdEZWZhdWx0IGljb24gZm9yIG5ldyBhc3NldHMgKHNpbmdsZSBFbW9qaSBvbmx5KScgfSxcclxuXHQnc2V0dGluZ3MuZGVmYXVsdEljb24ucGxhY2Vob2xkZXInOiB7IHpoOiAnXHVEODNEXHVEQ0U2JywgZW46ICdcdUQ4M0RcdURDRTYnIH0sXHJcblx0J3NldHRpbmdzLmxvY2FsZS5uYW1lJzogeyB6aDogJ1x1OEJFRFx1OEEwMCcsIGVuOiAnTGFuZ3VhZ2UnIH0sXHJcblx0J3NldHRpbmdzLmxvY2FsZS5kZXNjJzogeyB6aDogJ1x1NzU0Q1x1OTc2Mlx1OEJFRFx1OEEwMCcsIGVuOiAnSW50ZXJmYWNlIGxhbmd1YWdlJyB9LFxyXG5cdCdzZXR0aW5ncy5sb2NhbGUub3B0aW9uLmF1dG8nOiB7IHpoOiAnXHU4RERGXHU5NjhGXHU3Q0ZCXHU3RURGJywgZW46ICdBdXRvJyB9LFxyXG5cdCdzZXR0aW5ncy5sb2NhbGUub3B0aW9uLnpoJzogeyB6aDogJ1x1NEUyRFx1NjU4NycsIGVuOiAnQ2hpbmVzZScgfSxcclxuXHQnc2V0dGluZ3MubG9jYWxlLm9wdGlvbi5lbic6IHsgemg6ICdcdTgyRjFcdTY1ODcnLCBlbjogJ0VuZ2xpc2gnIH0sXHJcblxyXG5cdC8vIEFzc2V0TWFuYWdlclZpZXdcclxuXHQndmlldy5oaW50Lm9wZW5Gcm9tTWVudSc6IHsgemg6ICdcdTRFQ0VcdTY1ODdcdTRFRjZcdTc2ODRcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcdTRFMkRcdTkwMDlcdTYyRTkgXHUyMDFDXHU3NTI4IExhQy5Db3N0U2V0IFx1NjI1M1x1NUYwMFx1MjAxRFx1MzAwMicsIGVuOiAnVXNlIGZpbGUgY29udGV4dCBtZW51OiBcIk9wZW4gd2l0aCBMYUMuQ29zdFNldFwiLicgfSxcclxuXHQndmlldy5zZWxlY3RSb290LnRpdGxlJzogeyB6aDogJ1x1OTAwOVx1NjJFOVx1OEQ0NFx1NEVBN1x1NjgzOVx1NjU4N1x1NEVGNicsIGVuOiAnU2VsZWN0IHJvb3QgYXNzZXQgZmlsZScgfSxcclxuXHQndmlldy5zZWxlY3RSb290LmRlc2MnOiB7IHpoOiAnXHU4QkY3XHU5MDA5XHU2MkU5XHU0RTAwXHU0RTJBXHU1MzA1XHU1NDJCXHU4RDQ0XHU0RUE3XHU1RjE1XHU3NTI4XHU3Njg0XHU2NTg3XHU0RUY2XHU0RjVDXHU0RTNBXHU1MTY1XHU1M0UzJywgZW46ICdQbGVhc2UgY2hvb3NlIGEgZmlsZSBjb250YWluaW5nIGFzc2V0IHJlZmVyZW5jZXMgYXMgZW50cnknIH0sXHJcblx0J3ZpZXcuZW1wdHknOiB7IHpoOiAnXHU2NjgyXHU2NUUwXHU4RDQ0XHU0RUE3JywgZW46ICdObyBhc3NldHMnIH0sXHJcblx0J3ZpZXcudG9Ob3cnOiB7IHpoOiAnXHU4MUYzXHU0RUNBJywgZW46ICdQcmVzZW50JyB9LFxyXG5cdCd2aWV3LnVzZWREYXlzJzogeyB6aDogJ1x1NURGMlx1NzUyOHtkYXlzfVx1NTkyOScsIGVuOiAne2RheXN9IGRheXMgdXNlZCcgfSxcclxuXHQndmlldy5kYWlseSc6IHsgemg6ICdcdTY1RTVcdTU3NDcnLCBlbjogJ0RhaWx5JyB9LFxyXG5cdCd2aWV3LnByaWNlJzogeyB6aDogJ1x1NEVGN1x1NjgzQycsIGVuOiAnUHJpY2UnIH0sXHJcblx0J3ZpZXcucmVjeWNsZVByaWNlJzogeyB6aDogJ1x1NTZERVx1NjUzNlx1NEVGNycsIGVuOiAnUmVjeWNsZScgfSxcclxuXHQndmlldy5iYWNrJzogeyB6aDogJ1x1OEZENFx1NTZERScsIGVuOiAnQmFjaycgfSxcclxuXHQndmlldy5zZWFyY2guYXJpYSc6IHsgemg6ICdcdTY0MUNcdTdEMjInLCBlbjogJ1NlYXJjaCcgfSxcclxuXHQndmlldy5zZWFyY2gucGxhY2Vob2xkZXInOiB7IHpoOiAnXHU2NDFDXHU3RDIyXHU1NDBEXHU3OUYwXHU2MjE2XHU2ODA3XHU3QjdFJywgZW46ICdTZWFyY2ggbmFtZSBvciB0YWdzJyB9LFxyXG5cdCd2aWV3LnNvcnQudGl0bGUnOiB7IHpoOiAnXHU2MzkyXHU1RThGJywgZW46ICdTb3J0JyB9LFxyXG5cdCd2aWV3LnNvcnQudGl0bGUuZGFpbHlEZXNjJzogeyB6aDogJ1x1NjMwOVx1NjVFNVx1NTc0N1x1NjIxMFx1NjcyQyAoXHU5NjREXHU1RThGKScsIGVuOiAnQnkgZGFpbHkgY29zdCAoZGVzYyknIH0sXHJcblx0J3ZpZXcuc29ydC50aXRsZS5wcmljZURlc2MnOiB7IHpoOiAnXHU2MzA5XHU0RUY3XHU2ODNDIChcdTk2NERcdTVFOEYpJywgZW46ICdCeSBwcmljZSAoZGVzYyknIH0sXHJcblx0J3ZpZXcuc29ydC50aXRsZS5kYXRlRGVzYyc6IHsgemg6ICdcdTYzMDlcdThEMkRcdTUxNjVcdTY1RTVcdTY3MUYgKFx1OTY0RFx1NUU4RiknLCBlbjogJ0J5IHB1cmNoYXNlIGRhdGUgKGRlc2MpJyB9LFxyXG5cdCd2aWV3LnNvcnQubWVudS5kYWlseURlc2MnOiB7IHpoOiAnXHU2MzA5XHU2NUU1XHU1NzQ3XHU2MjEwXHU2NzJDJywgZW46ICdCeSBkYWlseSBjb3N0JyB9LFxyXG5cdCd2aWV3LnNvcnQubWVudS5wcmljZURlc2MnOiB7IHpoOiAnXHU2MzA5XHU0RUY3XHU2ODNDJywgZW46ICdCeSBwcmljZScgfSxcclxuXHQndmlldy5zb3J0Lm1lbnUuZGF0ZURlc2MnOiB7IHpoOiAnXHU2MzA5XHU4RDJEXHU1MTY1XHU2NUU1XHU2NzFGJywgZW46ICdCeSBwdXJjaGFzZSBkYXRlJyB9LFxyXG5cdCd2aWV3LmFkZCc6IHsgemg6ICdcdTZERkJcdTUyQTAnLCBlbjogJ0FkZCcgfSxcclxuXHQndmlldy5jb25maXJtRGVsZXRlQXNzZXQnOiB7IHpoOiAnXHU3ODZFXHU1QjlBXHU4OTgxXHU1MjIwXHU5NjY0XHU4RDQ0XHU0RUE3IFwie25hbWV9XCIgXHU1NDE3XHVGRjFGJywgZW46ICdEZWxldGUgYXNzZXQgXCJ7bmFtZX1cIj8nIH0sXHJcblxyXG5cdC8vIFRvcCBzdW1tYXJ5XHJcblx0J3RvcC50b3RhbCc6IHsgemg6ICdcdTYwM0JcdTYyMTBcdTY3MkMgJywgZW46ICdUb3RhbCAnIH0sXHJcblx0J3RvcC5yZWN5Y2xlJzogeyB6aDogJ1x1NTNFRlx1NTZERVx1NjUzNiAnLCBlbjogJ1JlY3ljbGFibGUgJyB9LFxyXG5cdCdkYXRlLnBpY2snOiB7IHpoOiAnXHU5MDA5XHU2MkU5XHU2NUU1XHU2NzFGJywgZW46ICdQaWNrIGRhdGUnIH0sXHJcblx0J2RhdGUueWVhcic6IHsgemg6ICdcdTVFNzQnLCBlbjogJycgfSxcclxuXHQnZGF0ZS5tb250aCc6IHsgemg6ICdcdTY3MDgnLCBlbjogJycgfSxcclxuXHQnZGF0ZS5kYXknOiB7IHpoOiAnXHU2NUU1JywgZW46ICcnIH0sXHJcblxyXG5cdC8vIENvbmZpcm0gbW9kYWxcclxuXHQnY29uZmlybS50aXRsZSc6IHsgemg6ICdcdTc4NkVcdThCQTRcdTY0Q0RcdTRGNUMnLCBlbjogJ0NvbmZpcm0nIH0sXHJcblxyXG5cdC8vIEZvcm0gbW9kYWxcclxuXHQnZm9ybS5uYW1lJzogeyB6aDogJ1x1NTQwRFx1NzlGMCcsIGVuOiAnTmFtZScgfSxcclxuXHQnZm9ybS5pY29uJzogeyB6aDogJ1x1NTZGRVx1NjgwNycsIGVuOiAnSWNvbicgfSxcclxuXHQnZm9ybS5wcmljZSc6IHsgemg6ICdcdTRFRjdcdTY4M0MnLCBlbjogJ1ByaWNlJyB9LFxyXG5cdCdmb3JtLnB1cmNoYXNlT24nOiB7IHpoOiAnXHU4RDJEXHU1MTY1XHU0RThFJywgZW46ICdQdXJjaGFzZWQgb24nIH0sXHJcblx0J2Zvcm0ucHVyY2hhc2VEYXRlJzogeyB6aDogJ1x1OEQyRFx1NTE2NVx1NjVFNVx1NjcxRicsIGVuOiAnUHVyY2hhc2UgZGF0ZScgfSxcclxuXHQnZm9ybS5lbmREYXRlJzogeyB6aDogJ1x1NTIzMFx1NjcxRicsIGVuOiAnRW5kIGRhdGUnIH0sXHJcblx0J2Zvcm0uZW5kRGF0ZVBsYWNlaG9sZGVyJzogeyB6aDogJyhcdThCQTFcdTUyMTIpXHU2MkE1XHU1RTlGL1x1NTZERVx1NjUzNi9cdTUyMzBcdTY3MUZcdTY1RjZcdTk1RjQnLCBlbjogJ1BsYW5uZWQgc2NyYXAvcmVjeWNsZS9lbmQgZGF0ZScgfSxcclxuXHQnZm9ybS5yZWN5Y2xlUHJpY2UnOiB7IHpoOiAnXHU1NkRFXHU2NTM2XHU0RUY3JywgZW46ICdSZWN5Y2xlIHByaWNlJyB9LFxyXG5cdCdmb3JtLnRhZ3MnOiB7IHpoOiAnXHU2ODA3XHU3QjdFJywgZW46ICdUYWdzJyB9LFxyXG5cdCdmb3JtLmFzc2V0TmFtZS5wbGFjZWhvbGRlcic6IHsgemg6ICdcdThENDRcdTRFQTdcdTU0MERcdTc5RjAnLCBlbjogJ0Fzc2V0IG5hbWUnIH0sXHJcblx0J2Zvcm0uaWNvbi5wbGFjZWhvbGRlcic6IHsgemg6ICdcdThCRjdcdThGOTNcdTUxNjVcdTRFMDBcdTRFMkEgRW1vamkgXHU0RjVDXHU0RTNBXHU1NkZFXHU2ODA3JywgZW46ICdQbGVhc2UgZW50ZXIgb25lIEVtb2ppIGFzIGljb24nIH0sXHJcblx0J2Zvcm0ucHJpY2UucGxhY2Vob2xkZXInOiB7IHpoOiAnXHU4RDJEXHU1MTY1XHU0RUY3XHU2ODNDXHVGRjA4XHU1MTQzXHVGRjA5JywgZW46ICdQdXJjaGFzZSBwcmljZScgfSxcclxuXHQnZm9ybS5yZWN5Y2xlLnBsYWNlaG9sZGVyJzogeyB6aDogJ1x1NTZERVx1NjUzNlx1NEVGN1x1NjgzQ1x1RkYwOFx1NTE0M1x1RkYwOScsIGVuOiAnUmVjeWNsZSBwcmljZScgfSxcclxuXHQnZm9ybS50YWdzLnBsYWNlaG9sZGVyJzogeyB6aDogJ1x1OEY5M1x1NTE2NVx1NjgwN1x1N0I3RVx1RkYwQ1x1NTZERVx1OEY2Nlx1Nzg2RVx1OEJBNCcsIGVuOiAnVHlwZSB0YWdzIGFuZCBwcmVzcyBFbnRlcicgfSxcclxuXHQnZm9ybS5hY3Rpb24uY2FuY2VsJzogeyB6aDogJ1x1NTNENlx1NkQ4OCcsIGVuOiAnQ2FuY2VsJyB9LFxyXG5cdCdmb3JtLmFjdGlvbi5kZWxldGUnOiB7IHpoOiAnXHU1MjIwXHU5NjY0JywgZW46ICdEZWxldGUnIH0sXHJcblx0J2Zvcm0uYWN0aW9uLnNhdmUnOiB7IHpoOiAnXHU0RkREXHU1QjU4JywgZW46ICdTYXZlJyB9LFxyXG5cdCdmb3JtLmVycm9yLm5hbWVSZXF1aXJlZCc6IHsgemg6ICdcdThCRjdcdTU4NkJcdTUxOTlcdTU0MERcdTc5RjAnLCBlbjogJ1BsZWFzZSBlbnRlciBhIG5hbWUnIH0sXHJcblx0J2Zvcm0uZXJyb3IucHJpY2VJbnZhbGlkJzogeyB6aDogJ1x1OEJGN1x1NTg2Qlx1NTE5OVx1NjcwOVx1NjU0OFx1NzY4NFx1NEVGN1x1NjgzQycsIGVuOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgcHJpY2UnIH0sXHJcblx0J2Zvcm0uZXJyb3IuZnJvbVJlcXVpcmVkJzogeyB6aDogJ1x1OEJGN1x1OTAwOVx1NjJFOVx1OEQyRFx1NTE2NVx1NjVFNVx1NjcxRicsIGVuOiAnUGxlYXNlIHNlbGVjdCBhIHB1cmNoYXNlIGRhdGUnIH0sXHJcblx0J2Zvcm0uZXJyb3IudG9CZWZvcmVGcm9tJzogeyB6aDogJ1x1NTIzMFx1NjcxRlx1NjVFNVx1NjcxRlx1OTcwMFx1NEUwRFx1NjVFOVx1NEU4RVx1OEQyRFx1NTE2NVx1NjVFNVx1NjcxRicsIGVuOiAnRW5kIGRhdGUgbXVzdCBub3QgYmUgZWFybGllciB0aGFuIHB1cmNoYXNlIGRhdGUnIH0sXHJcblx0J2Zvcm0uZXJyb3IucmVjeWNsZUludmFsaWQnOiB7IHpoOiAnXHU1NkRFXHU2NTM2XHU0RUY3XHU2ODNDXHU2ODNDXHU1RjBGXHU0RTBEXHU2QjYzXHU3ODZFJywgZW46ICdJbnZhbGlkIHJlY3ljbGUgcHJpY2UgZm9ybWF0JyB9LFxyXG5cdCdmb3JtLmVycm9yLnJlY3ljbGVHdFByaWNlJzogeyB6aDogJ1x1NTZERVx1NjUzNlx1NEVGN1x1NEUwRFx1ODBGRFx1NTkyN1x1NEU4RVx1NEVGN1x1NjgzQycsIGVuOiAnUmVjeWNsZSBwcmljZSBtdXN0IG5vdCBleGNlZWQgcHJpY2UnIH0sXHJcblxyXG5cdC8vIFRhZyBwYW5lbFxyXG5cdCd0YWdzLnNlYXJjaC5wbGFjZWhvbGRlcic6IHsgemg6ICdcdTY0MUNcdTdEMjJcdTY4MDdcdTdCN0UnLCBlbjogJ1NlYXJjaCB0YWdzJyB9LFxyXG5cdCd0YWdzLnNlbGVjdEFsbCc6IHsgemg6ICdcdTUxNjhcdTkwMDknLCBlbjogJ1NlbGVjdCBhbGwnIH0sXHJcblx0J3RhZ3MuZGVzZWxlY3RBbGwnOiB7IHpoOiAnXHU1M0Q2XHU2RDg4XHU1MTY4XHU5MDA5JywgZW46ICdEZXNlbGVjdCBhbGwnIH0sXHJcbn07XHJcblxyXG5mdW5jdGlvbiBmb3JtYXRWYXJzKGlucHV0OiBzdHJpbmcsIHZhcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+KTogc3RyaW5nIHtcclxuXHRpZiAoIXZhcnMpIHJldHVybiBpbnB1dDtcclxuXHRyZXR1cm4gaW5wdXQucmVwbGFjZSgvXFx7KFxcdyspXFx9L2csIChfbSwgaykgPT4gU3RyaW5nKHZhcnNba10gPz8gJycpKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHQoa2V5OiBzdHJpbmcsIHZhcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+LCBsb2NhbGU/OiAnemgnIHwgJ2VuJyk6IHN0cmluZyB7XHJcblx0Y29uc3QgbGFuZyA9IGxvY2FsZSB8fCBjdXJyZW50TG9jYWxlO1xyXG5cdGNvbnN0IGVudHJ5ID0gKGRpY3QgYXMgYW55KVtrZXldIGFzIHsgemg6IHN0cmluZzsgZW46IHN0cmluZyB9IHwgdW5kZWZpbmVkO1xyXG5cdGlmICghZW50cnkpIHJldHVybiBrZXk7XHJcblx0Y29uc3QgcmF3ID0gKGVudHJ5IGFzIGFueSlbbGFuZ10gPz8gZW50cnkuZW4gPz8ga2V5O1xyXG5cdHJldHVybiBmb3JtYXRWYXJzKHJhdywgdmFycyk7XHJcbn1cclxuXHJcblxyXG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFRGaWxlLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBMYWNDb3N0U2V0U2V0dGluZ3MsIERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IHNldExvY2FsZSwgcmVzb2x2ZUxvY2FsZSwgdCB9IGZyb20gJy4vaTE4bic7XG5pbXBvcnQgeyBBc3NldFJlcG9zaXRvcnkgfSBmcm9tICcuL3JlcG9zaXRvcmllcy9Bc3NldFJlcG9zaXRvcnknO1xuaW1wb3J0IHsgQXNzZXRNYW5hZ2VyVmlldyB9IGZyb20gJy4vY29tcG9uZW50cy9Bc3NldE1hbmFnZXJWaWV3JztcbmltcG9ydCB7IEFzc2V0Rm9ybU1vZGFsIH0gZnJvbSAnLi9jb21wb25lbnRzL21vZGFscy9Bc3NldEZvcm1Nb2RhbCc7XG5pbXBvcnQgeyBMYWNDb3N0U2V0U2V0dGluZ1RhYiB9IGZyb20gJy4vY29tcG9uZW50cy9zZXR0aW5ncy9MYWNDb3N0U2V0U2V0dGluZ1RhYic7XG5cblxuLy8gXHU0RTNCXHU2M0QyXHU0RUY2XHU3QzdCXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYWNDb3N0U2V0UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IExhY0Nvc3RTZXRTZXR0aW5ncztcblx0YXNzZXRSZXBvc2l0b3J5OiBBc3NldFJlcG9zaXRvcnk7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdThCRURcdThBMDBcblx0XHRzZXRMb2NhbGUodGhpcy5zZXR0aW5ncy5sb2NhbGUgfHwgJ2F1dG8nKTtcblxuXHRcdC8vIFx1NTIxRFx1NTlDQlx1NTMxNkFzc2V0UmVwb3NpdG9yeVx1RkYwOFx1NEY3Rlx1NzUyOFx1OEJCRVx1N0Y2RVx1NEUyRFx1NzY4NFx1NTE2NVx1NTNFM1x1NjU4N1x1NEVGNlx1OERFRlx1NUY4NFx1RkYwOVxuXHRcdHRoaXMuYXNzZXRSZXBvc2l0b3J5ID0gbmV3IEFzc2V0UmVwb3NpdG9yeSh0aGlzLmFwcCwgdGhpcy5zZXR0aW5ncy5lbnRyeUZpbGUgfHwgJ2Nvc3RzZXQvY29zdHNldC5tZCcpO1xuXG5cdFx0Ly8gXHU2Q0U4XHU1MThDXHU4OUM2XHU1NkZFXG5cdFx0dGhpcy5yZWdpc3RlclZpZXcoJ2xhYy1jb3N0c2V0LXZpZXcnLCAobGVhZikgPT4gbmV3IEFzc2V0TWFuYWdlclZpZXcobGVhZiwgdGhpcy5hc3NldFJlcG9zaXRvcnkpKTtcblxuXHRcdC8vIFx1OTA3Rlx1NTE0RFx1NTQyRlx1NTJBOFx1NjVGNlx1ODFFQVx1NTJBOFx1NjA2Mlx1NTkwRFx1NjcyQ1x1NjNEMlx1NEVGNlx1NzY4NFx1ODlDNlx1NTZGRVx1RkYwOFx1NTcyOFx1NUUwM1x1NUM0MFx1NjA2Mlx1NTkwRFx1NUI4Q1x1NjIxMFx1NTQwRVx1NkUwNVx1NzQwNlx1RkYwOVxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoJ2xhYy1jb3N0c2V0LXZpZXcnKTtcblx0XHR9KTtcblxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1NjU4N1x1NEVGNlx1ODNEQ1x1NTM1NVx1OTg3OVxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbignZmlsZS1tZW51JywgKG1lbnUsIGZpbGUpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLnNldHRpbmdzLmVuYWJsZUNvbnRleHRNZW51KSByZXR1cm47XG5cdFx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09ICdtZCcpIHtcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdGl0ZW1cblx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKHQoJ21lbnUub3BlbldpdGgnKSlcblx0XHRcdFx0XHRcdFx0LnNldEljb24oJ3BhY2thZ2UnKVxuXHRcdFx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gXHU0RjdGXHU3NTI4IHNldFZpZXdTdGF0ZSBcdTYyNTNcdTVGMDBcdTg5QzZcdTU2RkVcdUZGMENcdTc4NkVcdTRGRERcdTY2M0VcdTc5M0FcdTY4MDdcdTUxQzZcdTY4MDdcdTk4OThcdTY4MEZcdTRFMEVcdTVCRkNcdTgyMkFcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3RhYicpO1xuXHRcdFx0XHRcdFx0XHRcdGxlYWYuc2V0Vmlld1N0YXRlKHtcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdsYWMtY29zdHNldC12aWV3Jyxcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXRlOiB7IGZpbGVQYXRoOiBmaWxlLnBhdGggfSxcblx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZTogdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0Ly8gXHU1MjIwXHU5NjY0XHU1MTc2XHU0RUQ2XHU1NDdEXHU0RUU0XHVGRjBDXHU0RUM1XHU0RkREXHU3NTU5XHUyMDFDXHU2MjUzXHU1RjAwTGFDLkNvc3RTZXRcdTIwMURcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLWxhYy1jb3N0c2V0Jyxcblx0XHRcdG5hbWU6IHQoJ2NvbW1hbmQub3BlbicpLFxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0Y29uc3QgZW50cnlQYXRoID0gdGhpcy5zZXR0aW5ncy5lbnRyeUZpbGUgfHwgJ2Nvc3RzZXQvY29zdHNldC5tZCc7XG5cdFx0XHRcdGNvbnN0IGVuc3VyZUZvbGRlckV4aXN0cyA9IGFzeW5jIChmb2xkZXJQYXRoOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0XHRjb25zdCBmb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZm9sZGVyUGF0aCk7XG5cdFx0XHRcdFx0aWYgKCFmb2xkZXIpIHtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihmb2xkZXJQYXRoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gMSkgXHU4MkU1XHU1MTY1XHU1M0UzXHU2NTg3XHU0RUY2XHU0RTBEXHU1QjU4XHU1NzI4XHVGRjFBXHU1MjFCXHU1RUZBXHU1RTc2XHU1MTk5XHU1MTY1XHU3OTNBXHU0RjhCXHU1MTg1XHU1QkI5XHVGRjA4XHU1NDJCXHU3OTNBXHU0RjhCXHU4RDQ0XHU0RUE3XHU2NTg3XHU0RUY2XHVGRjA5XG5cdFx0XHRcdGNvbnN0IGVudHJ5RmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChlbnRyeVBhdGgpO1xuXHRcdFx0XHRpZiAoIWVudHJ5RmlsZSkge1xuXHRcdFx0XHRcdGNvbnN0IHBhcnRzID0gZW50cnlQYXRoLnNwbGl0KCcvJyk7XG5cdFx0XHRcdFx0Y29uc3QgZm9sZGVyUGF0aCA9IHBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKCcvJykgfHwgJyc7XG5cdFx0XHRcdFx0aWYgKGZvbGRlclBhdGgpIGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhmb2xkZXJQYXRoKTtcblxuXHRcdFx0XHRcdC8vIFx1NTE5OVx1NTE2NVx1NzkzQVx1NEY4Qlx1NTE2NVx1NTNFM1x1NTE4NVx1NUJCOVx1RkYwOFx1NTQyQlx1NUZDNVx1ODk4MSBUT01MIFx1NTkzNFx1OTBFOCArIFx1NkYxNFx1NzkzQVx1NTNDQ1x1OTRGRVx1RkYwOVxuXHRcdFx0XHRcdGNvbnN0IHNhbXBsZUVudHJ5ID0gYCMgTGFDLkNvc3RTZXQgXHU1MTY1XHU1M0UzXFxuXFxuIyBcdTRFRTVcdTRFMEJcdTRFM0FcdTUxNjVcdTUzRTNcdTUxNDNcdTY1NzBcdTYzNkVcdUZGMDhUT01MXHVGRjA5XFxuIyBcdTg5ODFcdTZDNDJcdUZGMUF0eXBlID0gXFxcInJvb3RcXFwiIFx1NEUxNCByZW5kZXJzIFx1NTMwNVx1NTQyQiBcXFwiY29zdHNldFxcXCJcXG5cXG50eXBlID0gXFxcInJvb3RcXFwiXFxucmVuZGVycyA9IFtcXFwiY29zdHNldFxcXCJdXFxuXFxuIyBcdTRFRTVcdTRFMEJcdTRFM0FcdTc5M0FcdTRGOEJcdThENDRcdTRFQTdcdUZGMENcdTYwQThcdTUzRUZcdTRFRTVcdTUyMjBcdTk2NjRcdTVFNzZcdTY2RkZcdTYzNjJcdTRFM0FcdTgxRUFcdTVERjFcdTc2ODRcdThENDRcdTRFQTdcdUZGMUFcXG5cXG5bW1x1NkYxNFx1NzkzQS1cdTk1MkVcdTc2RDhdXVxcbltbXHU2RjE0XHU3OTNBLVx1ODAzM1x1NjczQV1dXFxuW1tcdTZGMTRcdTc5M0EtXHU4REVGXHU3NTMxXHU1NjY4XV1cXG5gO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoZW50cnlQYXRoLCBzYW1wbGVFbnRyeSk7XG5cblx0XHRcdFx0XHQvLyBcdTU3MjhcdTU0MENcdTc2RUVcdTVGNTVcdTUyMUJcdTVFRkFcdTc5M0FcdTRGOEJcdThENDRcdTRFQTdcdTY1ODdcdTRFRjZcdUZGMDhUT01MIFx1NTE4NVx1NUJCOVx1RkYwOVxuXHRcdFx0XHRcdGNvbnN0IG1ha2VBc3NldFRvbWwgPSAobmFtZTogc3RyaW5nLCBpY29uOiBzdHJpbmcsIHByaWNlOiBudW1iZXIsIGZyb206IHN0cmluZywgdG8/OiBzdHJpbmcsIHJlY3ljbGU/OiBudW1iZXIsIHRhZ3M/OiBzdHJpbmdbXSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG5cdFx0XHRcdFx0XHRsaW5lcy5wdXNoKGBuYW1lID0gXCIke25hbWV9XCJgKTtcblx0XHRcdFx0XHRcdGxpbmVzLnB1c2goJycpO1xuXHRcdFx0XHRcdFx0bGluZXMucHVzaCgnW3N0eWxlXScpO1xuXHRcdFx0XHRcdFx0bGluZXMucHVzaChgaWNvbiA9IFwiJHtpY29ufVwiYCk7XG5cdFx0XHRcdFx0XHRsaW5lcy5wdXNoKCcnKTtcblx0XHRcdFx0XHRcdGxpbmVzLnB1c2goJ1tkZXRhaWxdJyk7XG5cdFx0XHRcdFx0XHRsaW5lcy5wdXNoKGBwcmljZSA9ICR7cHJpY2V9YCk7XG5cdFx0XHRcdFx0XHRsaW5lcy5wdXNoKGBhY3RpdmVfZnJvbSA9IFwiJHtmcm9tfVwiYCk7XG5cdFx0XHRcdFx0XHRsaW5lcy5wdXNoKGBhY3RpdmVfdG8gPSBcIiR7dG8gfHwgJyd9XCJgKTtcblx0XHRcdFx0XHRcdGxpbmVzLnB1c2goYHJlY3ljbGVfcHJpY2UgPSAke3JlY3ljbGUgPz8gMH1gKTtcblx0XHRcdFx0XHRcdGxpbmVzLnB1c2goYHRhZ3MgPSBbJHsodGFncyB8fCBbXSkubWFwKHQgPT4gYFwiJHt0fVwiYCkuam9pbignLCAnKX1dYCk7XG5cdFx0XHRcdFx0XHRsaW5lcy5wdXNoKCcnKTtcblx0XHRcdFx0XHRcdHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0Y29uc3QgYXNzZXRzRm9sZGVyID0gZm9sZGVyUGF0aCB8fCAnY29zdHNldCc7XG5cdFx0XHRcdFx0YXdhaXQgZW5zdXJlRm9sZGVyRXhpc3RzKGFzc2V0c0ZvbGRlcik7XG5cdFx0XHRcdFx0Y29uc3QgYXNzZXREZWZzID0gW1xuXHRcdFx0XHRcdFx0eyBpZDogJ1x1NkYxNFx1NzkzQS1cdTk1MkVcdTc2RDgnLCBpY29uOiAnXHUyMzI4XHVGRTBGJywgcHJpY2U6IDM5OSwgZnJvbTogJzIwMjQtMDEtMDEnLCB0bzogJycsIHJlY3ljbGU6IDAsIHRhZ3M6IFsnXHU2NTcwXHU3ODAxJywgJ1x1OTUyRVx1NzZEOCddIH0sXG5cdFx0XHRcdFx0XHR7IGlkOiAnXHU2RjE0XHU3OTNBLVx1ODAzM1x1NjczQScsIGljb246ICdcdUQ4M0NcdURGQTcnLCBwcmljZTogNTk5LCBmcm9tOiAnMjAyNC0wMy0xNScsIHRvOiAnJywgcmVjeWNsZTogMCwgdGFnczogWydcdTY1NzBcdTc4MDEnLCAnXHU4MDMzXHU2NzNBJ10gfSxcblx0XHRcdFx0XHRcdHsgaWQ6ICdcdTZGMTRcdTc5M0EtXHU4REVGXHU3NTMxXHU1NjY4JywgaWNvbjogJ1x1RDgzRFx1RENGNicsIHByaWNlOiAzMjksIGZyb206ICcyMDIzLTExLTIwJywgdG86ICcnLCByZWN5Y2xlOiA1MCwgdGFnczogWydcdTdGNTFcdTdFREMnXSB9XG5cdFx0XHRcdFx0XTtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGEgb2YgYXNzZXREZWZzKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBmaWxlUGF0aCA9IGAke2Fzc2V0c0ZvbGRlcn0vJHthLmlkfS5tZGA7XG5cdFx0XHRcdFx0XHRjb25zdCBleGlzdHMgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuXHRcdFx0XHRcdFx0aWYgKCFleGlzdHMpIHtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShmaWxlUGF0aCwgbWFrZUFzc2V0VG9tbChhLmlkLCBhLmljb24sIGEucHJpY2UsIGEuZnJvbSwgYS50bywgYS5yZWN5Y2xlLCBhLnRhZ3MpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyAyKSBcdTY4MjFcdTlBOENcdTUxNjVcdTUzRTNcdTY1ODdcdTRFRjZcdTY4M0NcdTVGMEZcdUZGMUFcdTVFOTRcdTRFM0EgVE9NTFx1RkYwOFx1NjIxNlx1NTNFRlx1N0VDRlx1NEUzNFx1NjVGNlx1OEY2Q1x1NjM2Mlx1NEUzQVx1NTNFRlx1ODlFM1x1Njc5MFx1NzY4NCBUT01MXHVGRjA5XHVGRjBDXHU0RTE0IHR5cGUgPSBcInJvb3RcIiBcdTRFMTQgcmVuZGVycyBcdTUzMDVcdTU0MkIgXCJjb3N0c2V0XCJcblx0XHRcdFx0bGV0IGludmFsaWQgPSBmYWxzZTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCBmID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGVudHJ5UGF0aCk7XG5cdFx0XHRcdFx0aWYgKGYgJiYgZiBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0XHRcdFx0XHRjb25zdCByYXcgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGYpO1xuXHRcdFx0XHRcdFx0Ly8gXHU1QzA2IFtbLi4uXV0gXHU0RTM0XHU2NUY2XHU2NkZGXHU2MzYyXHU0RTNBIFwiLi4uXCJcdUZGMENcdTkwN0ZcdTUxNERcdTVGNzFcdTU0Q0QgVE9NTCBcdTUyMjRcdTY1QURcblx0XHRcdFx0XHRcdGNvbnN0IHRvbWxDYW5kaWRhdGUgPSByYXcucmVwbGFjZSgvXFxbXFxbKFteXFxdXSspXFxdXFxdL2csIChfbSwgcDEpID0+IGBcIiR7U3RyaW5nKHAxKS50cmltKCl9XCJgKTtcblx0XHRcdFx0XHRcdC8vIFx1NjYyRlx1NTQyNlx1NTMwNVx1NTQyQlx1NEVGQlx1NjEwRiBUT01MIFx1OTUyRVx1NTAzQ1x1OEJFRFx1NTNFNVxuXHRcdFx0XHRcdFx0Y29uc3QgaGFzVG9tbEt2ID0gLyhefFxcbilcXHMqW0EtWmEtejAtOV8uXStcXHMqPVxccypbXlxcbl0rL20udGVzdCh0b21sQ2FuZGlkYXRlKTtcblx0XHRcdFx0XHRcdC8vIFx1NjNEMFx1NTNENlx1NUU3Nlx1NjgyMVx1OUE4QyB0eXBlXG5cdFx0XHRcdFx0XHRjb25zdCB0eXBlTWF0Y2ggPSB0b21sQ2FuZGlkYXRlLm1hdGNoKC8oXnxcXG4pXFxzKnR5cGVcXHMqPVxccypcIihbXlwiXSopXCIvbSk7XG5cdFx0XHRcdFx0XHRjb25zdCB0eXBlVmFsID0gdHlwZU1hdGNoPy5bMl0gfHwgJyc7XG5cdFx0XHRcdFx0XHQvLyBcdTYzRDBcdTUzRDZcdTVFNzZcdTY4MjFcdTlBOEMgcmVuZGVyc1x1RkYwOFx1NjU3MFx1N0VDNFx1RkYwOVxuXHRcdFx0XHRcdFx0Y29uc3QgcmVuZGVyc01hdGNoID0gdG9tbENhbmRpZGF0ZS5tYXRjaCgvKF58XFxuKVxccypyZW5kZXJzXFxzKj1cXHMqXFxbKFtcXHNcXFNdKj8pXFxdL20pO1xuXHRcdFx0XHRcdFx0bGV0IHJlbmRlcnNIYXNDb3N0c2V0ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRpZiAocmVuZGVyc01hdGNoICYmIHJlbmRlcnNNYXRjaFsyXSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBhcnJUZXh0ID0gcmVuZGVyc01hdGNoWzJdO1xuXHRcdFx0XHRcdFx0XHRyZW5kZXJzSGFzQ29zdHNldCA9IC9cXFwiY29zdHNldFxcXCIvaS50ZXN0KGFyclRleHQpIHx8IC8oXnwsfFxccyljb3N0c2V0KCx8XFxzfCQpL2kudGVzdChhcnJUZXh0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGludmFsaWQgPSAhaGFzVG9tbEt2IHx8IHR5cGVWYWwgIT09ICdyb290JyB8fCAhcmVuZGVyc0hhc0Nvc3RzZXQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGludmFsaWQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoXykge1xuXHRcdFx0XHRcdGludmFsaWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChpbnZhbGlkKSBuZXcgTm90aWNlKHQoJ25vdGljZS5pbnZhbGlkRW50cnknKSk7XG5cblx0XHRcdFx0Ly8gMykgXHU0RjdGXHU3NTI4XHU5MTREXHU3RjZFXHU3Njg0XHU1MTY1XHU1M0UzXHU2NTg3XHU0RUY2XHU2MjUzXHU1RjAwIExhQy5Db3N0U2V0IFx1ODlDNlx1NTZGRVx1RkYwOFx1OTAxQVx1OEZDNyBzZXRWaWV3U3RhdGUgXHU3ODZFXHU0RkREXHU2ODA3XHU1MUM2XHU1QkZDXHU4MjJBXHVGRjA5XG5cdFx0XHRcdHRoaXMuYXNzZXRSZXBvc2l0b3J5ID0gbmV3IEFzc2V0UmVwb3NpdG9yeSh0aGlzLmFwcCwgZW50cnlQYXRoKTtcblx0XHRcdFx0Y29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcblx0XHRcdFx0YXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xuXHRcdFx0XHRcdHR5cGU6ICdsYWMtY29zdHNldC12aWV3Jyxcblx0XHRcdFx0XHRzdGF0ZTogeyBmaWxlUGF0aDogZW50cnlQYXRoIH0sXG5cdFx0XHRcdFx0YWN0aXZlOiB0cnVlXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXG5cdFx0Ly8gXHU2REZCXHU1MkEwXHU4QkJFXHU3RjZFXHU2ODA3XHU3QjdFXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBMYWNDb3N0U2V0U2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG5cdFx0Ly8gXHU2REZCXHU1MkEwXHU3MkI2XHU2MDAxXHU2ODBGXHU5ODc5XG5cdFx0dGhpcy5hZGRTdGF0dXNCYXJJdGVtKCkuc2V0VGV4dCgnTGFjLUNvc3RTZXQnKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdC8vIFx1NkUwNVx1NzQwNlx1OEQ0NFx1NkU5MFxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdFx0Ly8gXHU0RkREXHU1QjU4XHU1NDBDXHU2NUY2XHU1MjM3XHU2NUIwXHU4QkVEXHU4QTAwXHVGRjA4XHU0RUU1XHU0RkJGXHU4QkJFXHU3RjZFXHU1MjA3XHU2MzYyXHU1MzczXHU2NUY2XHU3NTFGXHU2NTQ4XHVGRjA5XG5cdFx0c2V0TG9jYWxlKHRoaXMuc2V0dGluZ3MubG9jYWxlIHx8ICdhdXRvJyk7XG5cdH1cbn0iLCAiLy8gXHU2M0QyXHU0RUY2XHU4QkJFXHU3RjZFXHU2M0E1XHU1M0UzXHJcbmV4cG9ydCBpbnRlcmZhY2UgTGFjQ29zdFNldFNldHRpbmdzIHtcclxuXHRkZWZhdWx0SWNvbjogc3RyaW5nO1xyXG4gICAgZW50cnlGaWxlOiBzdHJpbmc7XHJcbiAgICBlbmFibGVDb250ZXh0TWVudTogYm9vbGVhbjsgLy8gXHU2NjJGXHU1NDI2XHU1NDJGXHU3NTI4XHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1XHUyMDFDXHU3NTI4IExhQy5Db3N0U2V0IFx1NjI1M1x1NUYwMFx1MjAxRFxyXG4gICAgZGVmYXVsdFNvcnQ6ICdub25lJyB8ICdkYWlseURlc2MnIHwgJ3ByaWNlRGVzYycgfCAnZGF0ZURlc2MnOyAvLyBcdTlFRDhcdThCQTRcdTYzOTJcdTVFOEZcclxuICAgIGxvY2FsZT86ICdhdXRvJyB8ICd6aCcgfCAnZW4nO1xyXG59XHJcblxyXG4vLyBcdTlFRDhcdThCQTRcdThCQkVcdTdGNkVcclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IExhY0Nvc3RTZXRTZXR0aW5ncyA9IHtcclxuICAgIGRlZmF1bHRJY29uOiAnXHVEODNEXHVEQ0U2JyxcclxuICAgIGVudHJ5RmlsZTogJ2Nvc3RzZXQvY29zdHNldC5tZCcsXHJcbiAgICBlbmFibGVDb250ZXh0TWVudTogdHJ1ZSxcclxuICAgIGRlZmF1bHRTb3J0OiAnbm9uZScsXHJcbiAgICBsb2NhbGU6ICdhdXRvJ1xyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBBc3NldCB9IGZyb20gJy4uL21vZGVscy9Bc3NldCc7XHJcblxyXG4vLyBBc3NldFJlcG9zaXRvcnlcdTdDN0IgLSBcdTRGN0ZcdTc1MjhPYnNpZGlhbiBBUElcclxuZXhwb3J0IGNsYXNzIEFzc2V0UmVwb3NpdG9yeSB7XHJcblx0cHJpdmF0ZSBhcHA6IEFwcDtcclxuXHRwcml2YXRlIHJvb3RGaWxlUGF0aDogc3RyaW5nO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcm9vdEZpbGVQYXRoOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuYXBwID0gYXBwO1xyXG5cdFx0dGhpcy5yb290RmlsZVBhdGggPSByb290RmlsZVBhdGg7XHJcblx0fVxyXG5cclxuXHQvLyBcdTgzQjdcdTUzRDZcdThENDRcdTRFQTdcdTY1ODdcdTRFRjZcdTU5MzlcdThERUZcdTVGODRcdUZGMDhcdTRFQ0VcdTY4MzlcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdTYzQThcdTVCRkNcdUZGMDlcclxuXHRwcml2YXRlIGdldEFzc2V0c0ZvbGRlcigpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgcGF0aFBhcnRzID0gdGhpcy5yb290RmlsZVBhdGguc3BsaXQoJy8nKTtcclxuXHRcdGlmIChwYXRoUGFydHMubGVuZ3RoID4gMSkge1xyXG5cdFx0XHRyZXR1cm4gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKCcvJyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gJ2Fzc2V0cyc7IC8vIFx1OUVEOFx1OEJBNFx1NjU4N1x1NEVGNlx1NTkzOVxyXG5cdH1cclxuXHJcblx0Ly8gXHU1MkEwXHU4RjdEXHU2MjQwXHU2NzA5XHU4RDQ0XHU0RUE3XHJcblx0YXN5bmMgbG9hZEFsbCgpOiBQcm9taXNlPEFzc2V0W10+IHtcclxuXHRcdGNvbnN0IHJvb3RGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRoaXMucm9vdEZpbGVQYXRoKTtcclxuXHRcdGlmICghcm9vdEZpbGUgfHwgIShyb290RmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQocm9vdEZpbGUpO1xyXG5cdFx0XHRjb25zdCBtYXRjaGVzID0gY29udGVudC5tYXRjaCgvXFxbXFxbKFteXFxdXSspXFxdXFxdL2cpIHx8IFtdO1xyXG5cdFx0XHRjb25zdCBsaW5rVGFyZ2V0cyA9IG1hdGNoZXNcclxuXHRcdFx0XHQubWFwKG0gPT4gbS5yZXBsYWNlKC9eXFxbXFxbfFxcXVxcXSQvZywgJycpKVxyXG5cdFx0XHRcdC5tYXAocyA9PiBzLnNwbGl0KCd8JylbMF0/LnRyaW0oKSlcclxuXHRcdFx0XHQuZmlsdGVyKEJvb2xlYW4pIGFzIHN0cmluZ1tdO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgYXNzZXRzOiBBc3NldFtdID0gW107XHJcblx0XHRcdGZvciAoY29uc3QgdGFyZ2V0IG9mIGxpbmtUYXJnZXRzKSB7XHJcblx0XHRcdFx0bGV0IGZpbGU6IFRGaWxlIHwgbnVsbCA9IG51bGw7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGZpbGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpcnN0TGlua3BhdGhEZXN0KHRhcmdldCwgdGhpcy5yb290RmlsZVBhdGgpIGFzIFRGaWxlIHwgbnVsbDtcclxuXHRcdFx0XHR9IGNhdGNoIChfKSB7XHJcblx0XHRcdFx0XHRmaWxlID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCFmaWxlKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnBhcnNlVG9tbCh0aGlzLnF1b3RlV2lraWxpbmtzRm9yVG9tbChmaWxlQ29udGVudCkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cdFx0XHRcdFx0Y29uc3QgYXNzZXRJZCA9IGZpbGUuYmFzZW5hbWUgfHwgdGFyZ2V0O1xyXG5cdFx0XHRcdFx0Y29uc3QgYXNzZXQgPSBuZXcgQXNzZXQoYXNzZXRJZCwgZGF0YSk7XHJcblx0XHRcdFx0XHQvLyBoaWRkZW4gXHU1QjU3XHU2QkI1XHU0RUM1XHU1MTg1XHU1QjU4XHU0RjdGXHU3NTI4XHVGRjBDXHU1MkEwXHU4RjdEXHU2NUY2XHU5RUQ4XHU4QkE0XHU1MTczXHU5NUVEXHJcblx0XHRcdFx0XHRhc3NldC5oaWRkZW4gPSBmYWxzZTtcclxuXHRcdFx0XHRcdGFzc2V0cy5wdXNoKGFzc2V0KTtcclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gbG9hZCBhc3NldCAke3RhcmdldH06YCwgZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBhc3NldHM7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGFzc2V0czonLCBlKTtcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gXHU0RkREXHU1QjU4XHU4RDQ0XHU0RUE3XHVGRjA4XHU0RUM1XHU0RkVFXHU2NTM5XHU0RTBFIGNvc3RzZXQgXHU3NkY4XHU1MTczXHU3Njg0XHU5NTJFXHVGRjFBbmFtZVx1MzAwMXN0eWxlLmljb25cdTMwMDFkZXRhaWwuKlx1MzAwMWhpZGRlblx1RkYwOVxyXG5cdGFzeW5jIHNhdmVBc3NldChhc3NldDogQXNzZXQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGxldCB0YXJnZXRGaWxlOiBURmlsZSB8IG51bGwgPSBudWxsO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGFyZ2V0RmlsZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rcGF0aERlc3QoYXNzZXQuaWQsIHRoaXMucm9vdEZpbGVQYXRoKSBhcyBURmlsZSB8IG51bGw7XHJcblx0XHR9IGNhdGNoIChfKSB7XHJcblx0XHRcdHRhcmdldEZpbGUgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1NEUwRFx1NTE4RFx1NjI2Qlx1NjNDRlx1NUI1MFx1NzZFRVx1NUY1NVx1NjIxNlx1OTA0RFx1NTM4Nlx1NjU4N1x1NEVGNlx1RkYxQVx1NEVDNVx1NEY5RFx1OEQ1NiBPYnNpZGlhbiBcdTc2ODRcdTUzQ0NcdTk0RkVcdTg5RTNcdTY3OTBcclxuXHJcblx0XHRcdGlmICghdGFyZ2V0RmlsZSkge1xyXG5cdFx0XHQvLyBcdTc2RUVcdTY4MDdcdTY1ODdcdTRFRjZcdTRFMERcdTVCNThcdTU3MjhcdUZGMUFcdTU3MjhcdTY4MzlcdTY1ODdcdTRFRjZcdTU0MENcdTc2RUVcdTVGNTVcdTRFMEJcdTUyMUJcdTVFRkFcdTY1QjBcdTY1ODdcdTRFRjZcclxuXHRcdFx0bGV0IGZpbGVOYW1lID0gYCR7YXNzZXQuaWR9Lm1kYDtcclxuXHRcdFx0bGV0IGZpbGVQYXRoID0gYCR7dGhpcy5nZXRBc3NldHNGb2xkZXIoKX0vJHtmaWxlTmFtZX1gO1xyXG5cdFx0XHQvLyBcdTc4NkVcdTRGRERcdTY1ODdcdTRFRjZcdTU5MzlcdTVCNThcdTU3MjhcclxuXHRcdFx0Y29uc3QgZm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRoaXMuZ2V0QXNzZXRzRm9sZGVyKCkpO1xyXG5cdFx0XHRpZiAoIWZvbGRlcikge1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcih0aGlzLmdldEFzc2V0c0ZvbGRlcigpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRjb25zdCBpbml0aWFsQ29udGVudCA9IHRoaXMuZGVxdW90ZVdpa2lsaW5rcyhhc3NldC50b1RvbWxTdHJpbmcoKSk7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKGZpbGVQYXRoLCBpbml0aWFsQ29udGVudCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0Ly8gXHU1QzFEXHU4QkQ1XHU0RjdGXHU3NTI4IGVuY29kZSBcdTU0MEVcdTc2ODRcdTY1ODdcdTRFRjZcdTU0MERcdTUxOERcdTZCMjFcdTUyMUJcdTVFRkFcclxuXHRcdFx0XHRmaWxlTmFtZSA9IGAke2VuY29kZVVSSUNvbXBvbmVudChhc3NldC5pZCl9Lm1kYDtcclxuXHRcdFx0XHRmaWxlUGF0aCA9IGAke3RoaXMuZ2V0QXNzZXRzRm9sZGVyKCl9LyR7ZmlsZU5hbWV9YDtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoZmlsZVBhdGgsIGluaXRpYWxDb250ZW50KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIFx1N0VBRiBUT01MIFx1OTFDRFx1NTE5OVx1NkEyMVx1NUYwRlx1RkYxQVx1OEJGQlx1NTNENlx1MjE5Mlx1ODlFM1x1Njc5MFx1MjE5Mlx1NEVDNVx1NjUzOVx1NzZGOFx1NTE3M1x1OTUyRVx1MjE5Mlx1NjU3NFx1NEY1M1x1OTFDRFx1NTE5OVx1RkYxQlx1NkNFOFx1OTFDQVx1N0Y2RVx1OTg3Nlx1NEZERFx1NzU1OVxyXG5cdFx0XHRjb25zdCBleGlzdGluZyA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQodGFyZ2V0RmlsZSk7XHJcblx0XHRcdFx0XHRjb25zdCByZXdyaXR0ZW4gPSB0aGlzLnJld3JpdGVUb21sV2l0aENvbW1lbnRzVG9wKGV4aXN0aW5nLCBhc3NldCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkodGFyZ2V0RmlsZSwgdGhpcy5kZXF1b3RlV2lraWxpbmtzKHJld3JpdHRlbikpOyAgICAgXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gXHU2NkY0XHU2NUIwXHU2ODM5XHU2NTg3XHU0RUY2XHU0RTJEXHU1QkY5XHU4QkU1XHU4RDQ0XHU0RUE3XHU3Njg0XHU1M0NDXHU5NEZFXHU1RjE1XHU3NTI4XHJcblx0XHRhd2FpdCB0aGlzLnVwZGF0ZVJvb3RGaWxlKGFzc2V0LmlkLCB0cnVlKTtcclxuXHR9XHJcblxyXG5cdC8vIFx1NTIyMFx1OTY2NFx1OEQ0NFx1NEVBN1xyXG5cdGFzeW5jIGRlbGV0ZUFzc2V0KGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdC8vIFx1NjZGNFx1NjVCMFx1NjgzOVx1NjU4N1x1NEVGNlxyXG5cdFx0YXdhaXQgdGhpcy51cGRhdGVSb290RmlsZShpZCwgZmFsc2UpO1xyXG5cdH1cclxuXHJcblx0Ly8gXHU2Q0U4XHU2MTBGXHVGRjFBaGlkZGVuIFx1NUI1N1x1NkJCNVx1NEUwRFx1NjMwMVx1NEU0NVx1NTMxNlx1RkYwOFx1NEVDNVx1NTE4NVx1NUI1OFx1NEY3Rlx1NzUyOFx1RkYwOVx1RkYwQ1x1NkI2NFx1NTkwNFx1NEUwRFx1NjNEMFx1NEY5QiBzZXRIaWRkZW5cclxuXHJcblx0Ly8gXHU2NkY0XHU2NUIwXHU2ODM5XHU2NTg3XHU0RUY2XHJcblx0cHJpdmF0ZSBhc3luYyB1cGRhdGVSb290RmlsZShhc3NldElkOiBzdHJpbmcsIGlzQWRkOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCByb290UGF0aCA9IHRoaXMucm9vdEZpbGVQYXRoO1xyXG5cdFx0bGV0IHJvb3RDb250ZW50ID0gJyc7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3Qgcm9vdEZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocm9vdFBhdGgpO1xyXG5cdFx0XHRpZiAocm9vdEZpbGUgJiYgcm9vdEZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xyXG5cdFx0XHRcdHJvb3RDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChyb290RmlsZSk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Ly8gXHU2NTg3XHU0RUY2XHU0RTBEXHU1QjU4XHU1NzI4XHVGRjBDXHU1MjFCXHU1RUZBXHU2NUIwXHU2NTg3XHU0RUY2XHJcblx0XHR9XHJcblxyXG5cdFx0XHRpZiAoaXNBZGQpIHtcclxuXHRcdFx0XHRcdC8vIFx1NkRGQlx1NTJBMFx1OEQ0NFx1NEVBN1x1NUYxNVx1NzUyOFx1RkYxQVx1ODJFNVx1NURGMlx1NUI1OFx1NTcyOFx1NEVGQlx1NjEwRlx1NUY2Mlx1NUYwRlx1NzY4NFx1NTNDQ1x1OTRGRVx1RkYwOFtbaWRdXSBcdTYyMTYgW1tpZHxhbGlhc11dXHVGRjA5XHU1MjE5XHU0RTBEXHU5MUNEXHU1OTBEXHU2REZCXHU1MkEwXHJcblx0XHRcdFx0XHRjb25zdCBoYXNBbnlMaW5rID0gbmV3IFJlZ0V4cChgXFxcXFtcXFxcWyR7YXNzZXRJZH0oXFxcXHxbXlxcXFxdXSspP1xcXFxdXFxcXF1gKS50ZXN0KHJvb3RDb250ZW50KTtcclxuXHRcdFx0XHRcdGlmICghaGFzQW55TGluaykge1xyXG5cdFx0XHRcdFx0XHRcdHJvb3RDb250ZW50ICs9IGBcXG5bWyR7YXNzZXRJZH1dXWA7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBcdTUyMjBcdTk2NjRcdThENDRcdTRFQTdcdTVGMTVcdTc1MjhcdUZGMUFcdTU0MENcdTY1RjZcdTc5RkJcdTk2NjQgW1tpZF1dIFx1NEUwRSBbW2lkfGFsaWFzXV0gXHU3Njg0XHU2NTc0XHU4ODRDXHU2MjE2XHU4ODRDXHU1MTg1XHU3MjQ3XHU2QkI1XHJcblx0XHRcdFx0XHRyb290Q29udGVudCA9IHJvb3RDb250ZW50LnJlcGxhY2UobmV3IFJlZ0V4cChgXFxcXFtcXFxcWyR7YXNzZXRJZH0oXFxcXHxbXlxcXFxdXSspP1xcXFxdXFxcXF1gLCAnZycpLCAnJyk7XHJcblx0XHRcdFx0XHRyb290Q29udGVudCA9IHJvb3RDb250ZW50LnJlcGxhY2UoL1xcbnszLH0vZywgJ1xcblxcbicpLnRyaW1FbmQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocm9vdFBhdGgsIHJvb3RDb250ZW50KTtcclxuXHR9XHJcblxyXG5cdC8vIFx1ODlFM1x1Njc5MFRPTUxcdTUxODVcdTVCQjlcdUZGMDhcdTY1MkZcdTYzMDFcdTVENENcdTU5NTdcdTgyODJcdTU0MERcdUZGMENcdTU5ODIgW2Nvc3RzZXQuZGV0YWlsXVx1RkYwOVxyXG5cdHByaXZhdGUgcGFyc2VUb21sKGNvbnRlbnQ6IHN0cmluZyk6IGFueSB7XHJcblx0XHRjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xyXG5cdFx0Y29uc3QgcmVzdWx0OiBhbnkgPSB7fTtcclxuXHRcdGxldCBjdXJyZW50UGF0aDogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0XHRjb25zdCBlbnN1cmVQYXRoID0gKHJvb3Q6IGFueSwgcGF0aDogc3RyaW5nW10pOiBhbnkgPT4ge1xyXG5cdFx0XHRsZXQgbm9kZSA9IHJvb3Q7XHJcblx0XHRcdGZvciAoY29uc3QgcGFydCBvZiBwYXRoKSB7XHJcblx0XHRcdFx0aWYgKCFub2RlW3BhcnRdIHx8IHR5cGVvZiBub2RlW3BhcnRdICE9PSAnb2JqZWN0Jykgbm9kZVtwYXJ0XSA9IHt9O1xyXG5cdFx0XHRcdG5vZGUgPSBub2RlW3BhcnRdO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBub2RlO1xyXG5cdFx0fTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IHJhdyBvZiBsaW5lcykge1xyXG5cdFx0XHRjb25zdCBsaW5lID0gcmF3LnRyaW0oKTtcclxuXHRcdFx0aWYgKCFsaW5lIHx8IGxpbmUuc3RhcnRzV2l0aCgnIycpKSBjb250aW51ZTtcclxuXHRcdFx0aWYgKGxpbmUuc3RhcnRzV2l0aCgnWycpICYmIGxpbmUuZW5kc1dpdGgoJ10nKSkge1xyXG5cdFx0XHRcdGNvbnN0IHNlY3Rpb24gPSBsaW5lLnNsaWNlKDEsIC0xKS50cmltKCk7XHJcblx0XHRcdFx0Y3VycmVudFBhdGggPSBzZWN0aW9uLnNwbGl0KCcuJykubWFwKHMgPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcclxuXHRcdFx0XHRlbnN1cmVQYXRoKHJlc3VsdCwgY3VycmVudFBhdGgpO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IGVxID0gbGluZS5pbmRleE9mKCc9Jyk7XHJcblx0XHRcdGlmIChlcSA9PT0gLTEpIGNvbnRpbnVlO1xyXG5cdFx0XHRjb25zdCBjbGVhbktleSA9IGxpbmUuc2xpY2UoMCwgZXEpLnRyaW0oKTtcclxuXHRcdFx0bGV0IGNsZWFuVmFsdWUgPSBsaW5lLnNsaWNlKGVxICsgMSkudHJpbSgpO1xyXG5cclxuXHRcdFx0bGV0IHBhcnNlZFZhbHVlOiBhbnkgPSBjbGVhblZhbHVlO1xyXG5cdFx0XHRpZiAoY2xlYW5WYWx1ZS5zdGFydHNXaXRoKCdcIicpICYmIGNsZWFuVmFsdWUuZW5kc1dpdGgoJ1wiJykpIHtcclxuXHRcdFx0XHRwYXJzZWRWYWx1ZSA9IGNsZWFuVmFsdWUuc2xpY2UoMSwgLTEpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGNsZWFuVmFsdWUgPT09ICd0cnVlJyB8fCBjbGVhblZhbHVlID09PSAnZmFsc2UnKSB7XHJcblx0XHRcdFx0cGFyc2VkVmFsdWUgPSBjbGVhblZhbHVlID09PSAndHJ1ZSc7XHJcblx0XHRcdH0gZWxzZSBpZiAoY2xlYW5WYWx1ZS5zdGFydHNXaXRoKCdbJykgJiYgY2xlYW5WYWx1ZS5lbmRzV2l0aCgnXScpKSB7XHJcblx0XHRcdFx0Y29uc3QgYXJyYXlDb250ZW50ID0gY2xlYW5WYWx1ZS5zbGljZSgxLCAtMSkudHJpbSgpO1xyXG5cdFx0XHRcdHBhcnNlZFZhbHVlID0gYXJyYXlDb250ZW50ID8gYXJyYXlDb250ZW50LnNwbGl0KCcsJykubWFwKGl0ZW0gPT4gaXRlbS50cmltKCkucmVwbGFjZSgvXlwifFwiJC9nLCAnJykpIDogW107XHJcblx0XHRcdH0gZWxzZSBpZiAoIWlzTmFOKE51bWJlcihjbGVhblZhbHVlKSkpIHtcclxuXHRcdFx0XHRwYXJzZWRWYWx1ZSA9IE51bWJlcihjbGVhblZhbHVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGN1cnJlbnRQYXRoLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCBub2RlID0gZW5zdXJlUGF0aChyZXN1bHQsIGN1cnJlbnRQYXRoKTtcclxuXHRcdFx0XHRub2RlW2NsZWFuS2V5XSA9IHBhcnNlZFZhbHVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdFtjbGVhbktleV0gPSBwYXJzZWRWYWx1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBcdTdFQUYgVE9NTCBcdTkxQ0RcdTUxOTlcdTZBMjFcdTVGMEZcdUZGMUFcdTg5RTNcdTY3OTBcdTIxOTJcdTRGRUVcdTY1MzlcdTIxOTJzdHJpbmdpZnlcdUZGMUJcdTVDMDZcdTUzOUZcdTY3MDlcdTZDRThcdTkxQ0FcdTdGNkVcdTk4NzZcdTRGRERcdTc1NTlcclxuXHRwcml2YXRlIHJld3JpdGVUb21sV2l0aENvbW1lbnRzVG9wKGV4aXN0aW5nOiBzdHJpbmcsIGFzc2V0OiBBc3NldCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBjb21tZW50TGluZXM6IHN0cmluZ1tdID0gW107XHJcblx0XHRjb25zdCBvdGhlckxpbmVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0Zm9yIChjb25zdCByYXcgb2YgZXhpc3Rpbmcuc3BsaXQoJ1xcbicpKSB7XHJcblx0XHRcdGNvbnN0IHQgPSByYXcudHJpbSgpO1xyXG5cdFx0XHRpZiAodC5zdGFydHNXaXRoKCcjJykpIGNvbW1lbnRMaW5lcy5wdXNoKHJhdyk7XHJcblx0XHRcdGVsc2Ugb3RoZXJMaW5lcy5wdXNoKHJhdyk7XHJcblx0XHR9XHJcbiAgICAgICAgICAgICAgICAvLyBcdTRGN0ZcdTc1MjhcdTVERjJcdTY3MDlcdThGN0JcdTkxQ0YgcGFyc2VyIFx1OEJGQlx1NTNENlx1NEUzQVx1NUJGOVx1OEM2MVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gdGhpcy5wYXJzZVRvbWwodGhpcy5xdW90ZVdpa2lsaW5rc0ZvclRvbWwob3RoZXJMaW5lcy5qb2luKCdcXG4nKSkpIHx8IHt9OyAgICAgXHJcblxyXG5cdFx0Ly8gXHU1RTk0XHU3NTI4XHU0RUM1IGNvc3RzZXQgXHU3NkY4XHU1MTczXHU3Njg0XHU1QjU3XHU2QkI1XHU2NkY0XHU2NUIwXHJcblx0XHQocGFyc2VkIGFzIGFueSlbJ25hbWUnXSA9IGFzc2V0Lm5hbWU7XHJcblx0XHRpZiAoIXBhcnNlZFsnc3R5bGUnXSB8fCB0eXBlb2YgcGFyc2VkWydzdHlsZSddICE9PSAnb2JqZWN0JykgcGFyc2VkWydzdHlsZSddID0ge307XHJcblx0XHRwYXJzZWRbJ3N0eWxlJ11bJ2ljb24nXSA9IGFzc2V0Lmljb247XHJcblx0XHRpZiAoIXBhcnNlZFsnZGV0YWlsJ10gfHwgdHlwZW9mIHBhcnNlZFsnZGV0YWlsJ10gIT09ICdvYmplY3QnKSBwYXJzZWRbJ2RldGFpbCddID0ge307XHJcblx0XHRwYXJzZWRbJ2RldGFpbCddWydwcmljZSddID0gTnVtYmVyKGFzc2V0LnByaWNlKSB8fCAwO1xyXG5cdFx0cGFyc2VkWydkZXRhaWwnXVsnYWN0aXZlX2Zyb20nXSA9IGFzc2V0LmFjdGl2ZUZyb20gPyBhc3NldC5hY3RpdmVGcm9tLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSA6ICcnO1xyXG5cdFx0cGFyc2VkWydkZXRhaWwnXVsnYWN0aXZlX3RvJ10gPSBhc3NldC5hY3RpdmVUbyA/IGFzc2V0LmFjdGl2ZVRvLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSA6ICcnO1xyXG5cdFx0cGFyc2VkWydkZXRhaWwnXVsncmVjeWNsZV9wcmljZSddID0gTnVtYmVyKGFzc2V0LnJlY3ljbGVQcmljZSkgfHwgMDtcclxuXHRcdHBhcnNlZFsnZGV0YWlsJ11bJ3RhZ3MnXSA9IEFycmF5LmlzQXJyYXkoYXNzZXQudGFncykgPyBhc3NldC50YWdzIDogW107XHJcblxyXG5cdFx0Y29uc3QgdG9tbEJvZHkgPSB0aGlzLnN0cmluZ2lmeVRvbWwocGFyc2VkKTtcclxuXHRcdGNvbnN0IGNvbW1lbnRCbG9jayA9IGNvbW1lbnRMaW5lcy5sZW5ndGggPiAwID8gY29tbWVudExpbmVzLmpvaW4oJ1xcbicpICsgJ1xcblxcbicgOiAnJztcclxuXHRcdHJldHVybiBjb21tZW50QmxvY2sgKyB0b21sQm9keTtcclxuXHR9XHJcblxyXG5cdC8vIFx1NUMwNiBKUyBcdTVCRjlcdThDNjFcdTdBMzNcdTVCOUFcdTU3MzBcdTVFOEZcdTUyMTdcdTUzMTZcdTRFM0EgVE9NTCBcdTY1ODdcdTY3MkNcdUZGMDhcdTY1MkZcdTYzMDFcdTU5MUFcdTVDNDJcdTgyODJcdTU0MERcdUZGMDlcclxuXHRwcml2YXRlIHN0cmluZ2lmeVRvbWwob2JqOiBhbnkpOiBzdHJpbmcge1xyXG5cdFx0Ly8gXHU2MkM2XHU1MjA2XHU0RTNBXHU5ODc2XHU1QzQyXHU2ODA3XHU5MUNGL1x1NjU3MFx1N0VDNCBcdTRFMEUgXHU1RDRDXHU1OTU3XHU1QkY5XHU4QzYxXHJcblx0XHRjb25zdCBpc1BsYWluT2JqZWN0ID0gKHY6IGFueSkgPT4gdiAmJiB0eXBlb2YgdiA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodik7XHJcblx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqIHx8IHt9KTtcclxuXHRcdGNvbnN0IHNjYWxhcktleXMgPSBrZXlzLmZpbHRlcihrID0+ICFpc1BsYWluT2JqZWN0KG9ialtrXSkpO1xyXG5cdFx0Y29uc3Qgb2JqZWN0S2V5cyA9IGtleXMuZmlsdGVyKGsgPT4gaXNQbGFpbk9iamVjdChvYmpba10pKTtcclxuXHJcblx0XHRjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcclxuXHRcdC8vIFx1NEYxOFx1NTE0OFx1OEY5M1x1NTFGQSBuYW1lXHJcblx0XHRpZiAoc2NhbGFyS2V5cy5pbmNsdWRlcygnbmFtZScpKSB7XHJcblx0XHRcdGxpbmVzLnB1c2godGhpcy5yZW5kZXJUb21sS2V5VmFsdWUoJ25hbWUnLCBvYmpbJ25hbWUnXSkpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gXHU1MTc2XHU0RUQ2XHU5ODc2XHU1QzQyXHU2ODA3XHU5MUNGXHU2MzA5XHU1QjU3XHU2QkNEXHU1RThGXHJcblx0XHRzY2FsYXJLZXlzXHJcblx0XHRcdC5maWx0ZXIoayA9PiBrICE9PSAnbmFtZScpXHJcblx0XHRcdC5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpXHJcblx0XHRcdC5mb3JFYWNoKGsgPT4gbGluZXMucHVzaCh0aGlzLnJlbmRlclRvbWxLZXlWYWx1ZShrLCBvYmpba10pKSk7XHJcblxyXG5cdFx0Ly8gXHU4MjgyXHU4RjkzXHU1MUZBXHU5ODdBXHU1RThGXHVGRjFBc3R5bGUsIGRldGFpbCBcdTRGMThcdTUxNDhcdUZGMENcdTUxNzZcdTVCODNcdTYzMDlcdTVCNTdcdTZCQ0RcdTVFOEZcclxuXHRcdGNvbnN0IHNlY3Rpb25PcmRlciA9IFsnc3R5bGUnLCAnZGV0YWlsJ107XHJcblx0XHRjb25zdCBvcmRlcmVkT2JqZWN0S2V5cyA9IFtcclxuXHRcdFx0Li4uc2VjdGlvbk9yZGVyLmZpbHRlcihrID0+IG9iamVjdEtleXMuaW5jbHVkZXMoaykpLFxyXG5cdFx0XHQuLi5vYmplY3RLZXlzLmZpbHRlcihrID0+ICFzZWN0aW9uT3JkZXIuaW5jbHVkZXMoaykpLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSlcclxuXHRcdF07XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrIG9mIG9yZGVyZWRPYmplY3RLZXlzKSB7XHJcblx0XHRcdGxpbmVzLnB1c2goJycpO1xyXG5cdFx0XHR0aGlzLnJlbmRlclRvbWxTZWN0aW9uKGxpbmVzLCBba10sIG9ialtrXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGxpbmVzLmpvaW4oJ1xcbicpLnJlcGxhY2UoL1xcbnszLH0vZywgJ1xcblxcbicpLnRyaW0oKSArICdcXG4nO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJUb21sU2VjdGlvbihvdXQ6IHN0cmluZ1tdLCBwYXRoOiBzdHJpbmdbXSwgdmFsdWU6IGFueSk6IHZvaWQge1xyXG5cdFx0b3V0LnB1c2goYFske3BhdGguam9pbignLicpfV1gKTtcclxuXHRcdGNvbnN0IGlzUGxhaW5PYmplY3QgPSAodjogYW55KSA9PiB2ICYmIHR5cGVvZiB2ID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh2KTtcclxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSB8fCB7fSk7XHJcblx0XHRjb25zdCBzY2FsYXJLZXlzID0ga2V5cy5maWx0ZXIoayA9PiAhaXNQbGFpbk9iamVjdCh2YWx1ZVtrXSkpO1xyXG5cdFx0Y29uc3Qgb2JqZWN0S2V5cyA9IGtleXMuZmlsdGVyKGsgPT4gaXNQbGFpbk9iamVjdCh2YWx1ZVtrXSkpO1xyXG5cdFx0Ly8gXHU1MTQ4XHU4RjkzXHU1MUZBXHU2ODA3XHU5MUNGXHU5NTJFXHVGRjA4XHU2MzA5XHU1QjU3XHU2QkNEXHU1RThGXHVGRjA5XHJcblx0XHRzY2FsYXJLZXlzLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSkuZm9yRWFjaChrID0+IHtcclxuXHRcdFx0b3V0LnB1c2godGhpcy5yZW5kZXJUb21sS2V5VmFsdWUoaywgdmFsdWVba10pKTtcclxuXHRcdH0pO1xyXG5cdFx0Ly8gXHU1RDRDXHU1OTU3XHU1QkY5XHU4QzYxXHU0RjVDXHU0RTNBXHU1QjUwXHU4MjgyIFthLmJdXHJcblx0XHRjb25zdCBvcmRlcmVkT2JqZWN0S2V5cyA9IG9iamVjdEtleXMuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKTtcclxuXHRcdGZvciAoY29uc3QgayBvZiBvcmRlcmVkT2JqZWN0S2V5cykge1xyXG5cdFx0XHRvdXQucHVzaCgnJyk7XHJcblx0XHRcdHRoaXMucmVuZGVyVG9tbFNlY3Rpb24ob3V0LCBbLi4ucGF0aCwga10sIHZhbHVlW2tdKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVuZGVyVG9tbEtleVZhbHVlKGtleTogc3RyaW5nLCB2YWw6IGFueSk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gYCR7a2V5fSA9ICR7dGhpcy50b21sVmFsdWUodmFsKX1gO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB0b21sVmFsdWUodmFsOiBhbnkpOiBzdHJpbmcge1xyXG5cdFx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuICdcIlwiJztcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcclxuXHRcdFx0cmV0dXJuIGBbJHt2YWwubWFwKHYgPT4gdGhpcy50b21sVmFsdWUodikpLmpvaW4oJywgJyl9XWA7XHJcblx0XHR9XHJcblx0XHRzd2l0Y2ggKHR5cGVvZiB2YWwpIHtcclxuXHRcdFx0Y2FzZSAnbnVtYmVyJzpcclxuXHRcdFx0XHRyZXR1cm4gTnVtYmVyLmlzRmluaXRlKHZhbCkgPyBTdHJpbmcodmFsKSA6ICcwJztcclxuXHRcdFx0Y2FzZSAnYm9vbGVhbic6XHJcblx0XHRcdFx0cmV0dXJuIHZhbCA/ICd0cnVlJyA6ICdmYWxzZSc7XHJcblx0XHRcdGNhc2UgJ3N0cmluZyc6XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIGBcIiR7U3RyaW5nKHZhbCkucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKS5yZXBsYWNlKC9cXFwiL2csICdcXFxcXCInKX1cImA7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuICAgICAgICAvLyBcdTVDMDZcdTg4RjhcdTc2ODQgW1suLi5dXSBcdTYyMTYgW1suLi58YWxpYXNdXSBcdTUzMDVcdTg4RjlcdTRFM0FcdTUzRUZcdTg4QUIgVE9NTCBcdTg5RTNcdTY3OTBcdTc2ODRcdTVCNTdcdTdCMjZcdTRFMzJcclxuICAgICAgICBwcml2YXRlIHF1b3RlV2lraWxpbmtzRm9yVG9tbChjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZSgvXFxbXFxbW15cXF1dK1xcXVxcXS9nLCAobWF0Y2g6IHN0cmluZywgb2Zmc2V0OiBudW1iZXIsIGZ1bGw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmUgPSBvZmZzZXQgPiAwID8gZnVsbFtvZmZzZXQgLSAxXSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZnRlciA9IG9mZnNldCArIG1hdGNoLmxlbmd0aCA8IGZ1bGwubGVuZ3RoID8gZnVsbFtvZmZzZXQgKyBtYXRjaC5sZW5ndGhdIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoYmVmb3JlID09PSAnXCInICYmIGFmdGVyID09PSAnXCInKSB8fCAoYmVmb3JlID09PSAnXFwnJyAmJiBhZnRlciA9PT0gJ1xcJycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoOyAvLyBhbHJlYWR5IHF1b3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXCIke21hdGNofVwiYDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHU1QzA2IFwiW1suLi5dXVwiIFx1NjIxNiAnW1suLi5dXScgXHU1RjYyXHU1RjBGXHU4RkQ4XHU1MzlGXHU0RTNBXHU4OEY4XHU3Njg0XHU1M0NDXHU5NEZFXHJcbiAgICAgICAgcHJpdmF0ZSBkZXF1b3RlV2lraWxpbmtzKGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudC5yZXBsYWNlKC8oW1wiJ10pXFxbXFxbW15cXF1dK1xcXVxcXVxcMS9nLCAobWF0Y2g6IHN0cmluZykgPT4gbWF0Y2guc2xpY2UoMSwgLTEpKTtcclxuICAgICAgICB9XHJcbn1cclxuIiwgIi8vIEFzc2V0XHU1QjlFXHU0RjUzXHU3QzdCXHJcbmV4cG9ydCBjbGFzcyBBc3NldCB7XHJcblx0aWQ6IHN0cmluZztcclxuXHRuYW1lOiBzdHJpbmc7XHJcblx0aWNvbjogc3RyaW5nO1xyXG5cdHByaWNlOiBudW1iZXI7XHJcblx0YWN0aXZlRnJvbTogRGF0ZTtcclxuXHRhY3RpdmVUbz86IERhdGU7XHJcblx0cmVjeWNsZVByaWNlOiBudW1iZXI7XHJcblx0dGFnczogc3RyaW5nW107XHJcblx0aGlkZGVuOiBib29sZWFuO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihpZE9yUmF3RGF0YTogc3RyaW5nIHwgYW55LCB0b21sRGF0YT86IGFueSkge1xyXG5cdFx0aWYgKHR5cGVvZiBpZE9yUmF3RGF0YSA9PT0gJ3N0cmluZycgJiYgdG9tbERhdGEpIHtcclxuXHRcdFx0Ly8gVE9NTCBcdTZBMjFcdTVGMEZcdUZGMDhcdTRGMThcdTUxNDhcdThCRkJcdTUzRDYgW2Nvc3RzZXRdIFx1NTQ3RFx1NTQwRFx1N0E3QVx1OTVGNFx1RkYwQ1x1NTE3Q1x1NUJCOVx1NjVFN1x1N0VEM1x1Njc4NFx1RkYwOVxyXG5cdFx0XHR0aGlzLmlkID0gaWRPclJhd0RhdGE7XHJcblx0XHRcdGNvbnN0IHNyYyA9IHRvbWxEYXRhLmNvc3RzZXQgPyB0b21sRGF0YS5jb3N0c2V0IDogdG9tbERhdGE7XHJcblx0XHRcdHRoaXMubmFtZSA9IHNyYy5uYW1lIHx8ICcnO1xyXG5cdFx0XHQvLyBzdHlsZS5pY29uIFx1NTE3Q1x1NUJCOVx1NEUyNFx1NzlDRFx1Njc2NVx1NkU5MFxyXG5cdFx0XHR0aGlzLmljb24gPSBzcmMuc3R5bGU/Lmljb24gPz8gdG9tbERhdGEuc3R5bGU/Lmljb24gPz8gJ1x1RDgzRFx1RENFNic7XHJcblx0XHRcdGNvbnN0IGRldGFpbCA9IHNyYy5kZXRhaWwgPz8gdG9tbERhdGEuZGV0YWlsID8/IHt9O1xyXG5cdFx0XHR0aGlzLnByaWNlID0gTnVtYmVyKGRldGFpbC5wcmljZSkgfHwgMDtcclxuXHRcdFx0dGhpcy5hY3RpdmVGcm9tID0gdGhpcy5wYXJzZURhdGUoZGV0YWlsLmFjdGl2ZV9mcm9tKSB8fCBuZXcgRGF0ZSgpO1xyXG5cdFx0XHR0aGlzLmFjdGl2ZVRvID0gdGhpcy5wYXJzZURhdGUoZGV0YWlsLmFjdGl2ZV90bykgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHR0aGlzLnJlY3ljbGVQcmljZSA9IE51bWJlcihkZXRhaWwucmVjeWNsZV9wcmljZSkgfHwgMDtcclxuXHRcdFx0dGhpcy50YWdzID0gQXJyYXkuaXNBcnJheShkZXRhaWwudGFncykgPyBkZXRhaWwudGFncyA6IChkZXRhaWwudGFncyB8fCAnJykuc3BsaXQoJywnKS5tYXAoKGw6IHN0cmluZykgPT4gbC50cmltKCkpLmZpbHRlcigodGFnOiBzdHJpbmcpID0+IHRhZyk7XHJcblx0XHRcdHRoaXMuaGlkZGVuID0gISEoZGV0YWlsLmhpZGRlbiA/PyBzcmMuaGlkZGVuKTtcclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIGlkT3JSYXdEYXRhID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHQvLyBcdTYyNDFcdTVFNzNcdTVCRjlcdThDNjFcdTZBMjFcdTVGMEZcclxuXHRcdFx0dGhpcy5pZCA9IGlkT3JSYXdEYXRhLmlkIHx8ICcnO1xyXG5cdFx0XHR0aGlzLm5hbWUgPSBpZE9yUmF3RGF0YS5uYW1lIHx8ICcnO1xyXG5cdFx0XHR0aGlzLmljb24gPSBpZE9yUmF3RGF0YS5pY29uIHx8ICdcdUQ4M0RcdURDRTYnO1xyXG5cdFx0XHR0aGlzLnByaWNlID0gTnVtYmVyKGlkT3JSYXdEYXRhLnByaWNlKSB8fCAwO1xyXG5cdFx0XHR0aGlzLmFjdGl2ZUZyb20gPSB0aGlzLnBhcnNlRGF0ZShpZE9yUmF3RGF0YS5hY3RpdmVfZnJvbSB8fCBpZE9yUmF3RGF0YS5hY3RpdmVGcm9tKSB8fCBuZXcgRGF0ZSgpO1xyXG5cdFx0XHR0aGlzLmFjdGl2ZVRvID0gdGhpcy5wYXJzZURhdGUoaWRPclJhd0RhdGEuYWN0aXZlX3RvIHx8IGlkT3JSYXdEYXRhLmFjdGl2ZVRvKSB8fCB1bmRlZmluZWQ7XHJcblx0XHRcdHRoaXMucmVjeWNsZVByaWNlID0gTnVtYmVyKGlkT3JSYXdEYXRhLnJlY3ljbGVfcHJpY2UpIHx8IDA7XHJcblx0XHRcdHRoaXMudGFncyA9IEFycmF5LmlzQXJyYXkoaWRPclJhd0RhdGEudGFncykgPyBpZE9yUmF3RGF0YS50YWdzIDogKGlkT3JSYXdEYXRhLnRhZ3MgfHwgJycpLnNwbGl0KCcsJykubWFwKChsOiBzdHJpbmcpID0+IGwudHJpbSgpKS5maWx0ZXIoKHRhZzogc3RyaW5nKSA9PiB0YWcpO1xyXG5cdFx0XHR0aGlzLmhpZGRlbiA9ICEhaWRPclJhd0RhdGEuaGlkZGVuO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFzc2V0IGRhdGEnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcGFyc2VEYXRlKGRhdGVTdHI6IHN0cmluZyk6IERhdGUgfCB1bmRlZmluZWQge1xyXG5cdFx0aWYgKCFkYXRlU3RyKSByZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0Y29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpO1xyXG5cdFx0cmV0dXJuIGlzTmFOKGRhdGUuZ2V0VGltZSgpKSA/IHVuZGVmaW5lZCA6IGRhdGU7XHJcblx0fVxyXG5cclxuXHRnZXROYW1lKCkgeyByZXR1cm4gdGhpcy5uYW1lOyB9XHJcblx0Z2V0UHJpY2UoKSB7IHJldHVybiB0aGlzLnByaWNlOyB9XHJcblx0XHJcblx0Z2V0RGFpbHlDb3N0KG5vdzogRGF0ZSA9IG5ldyBEYXRlKCkpOiBudW1iZXIge1xyXG5cdFx0Y29uc3QgZnJvbSA9IHRoaXMuYWN0aXZlRnJvbTtcclxuXHRcdC8vIFx1OEJBMVx1N0I5N1x1NTIzMFx1OEZCRVx1NjVFNVx1NjcxRlx1RkYxQVx1ODJFNVx1NUI1OFx1NTcyOCBhY3RpdmVUb1x1RkYwQ1x1NTIxOVx1NEUwRSBub3cgXHU1M0Q2XHU4RjgzXHU2NUU5XHU4MDA1XHVGRjFCXHU1NDI2XHU1MjE5XHU1M0Q2IG5vd1xyXG5cdFx0Y29uc3QgZW5kID0gdGhpcy5hY3RpdmVUbyAmJiB0aGlzLmFjdGl2ZVRvLmdldFRpbWUoKSA8IG5vdy5nZXRUaW1lKCkgPyB0aGlzLmFjdGl2ZVRvIDogbm93O1xyXG5cdFx0Y29uc3QgZGF5cyA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IoKGVuZC5nZXRUaW1lKCkgLSBmcm9tLmdldFRpbWUoKSkgLyA4NjQwMDAwMCkpO1xyXG5cdFx0cmV0dXJuICh0aGlzLnByaWNlIC0gdGhpcy5yZWN5Y2xlUHJpY2UpIC8gZGF5cztcclxuXHR9XHJcblx0XHJcblx0Z2V0VXNhZ2VEYXlzKG5vdzogRGF0ZSA9IG5ldyBEYXRlKCkpOiBudW1iZXIge1xyXG5cdFx0Y29uc3QgZnJvbSA9IHRoaXMuYWN0aXZlRnJvbTtcclxuXHRcdGNvbnN0IGVuZCA9IHRoaXMuYWN0aXZlVG8gJiYgdGhpcy5hY3RpdmVUby5nZXRUaW1lKCkgPCBub3cuZ2V0VGltZSgpID8gdGhpcy5hY3RpdmVUbyA6IG5vdztcclxuXHRcdHJldHVybiBNYXRoLm1heCgxLCBNYXRoLmZsb29yKChlbmQuZ2V0VGltZSgpIC0gZnJvbS5nZXRUaW1lKCkpIC8gODY0MDAwMDApKTtcclxuXHR9XHJcblx0XHJcblx0aXNBY3RpdmUoZGF0ZTogRGF0ZSA9IG5ldyBEYXRlKCkpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmFjdGl2ZUZyb20gPD0gZGF0ZSAmJiAoIXRoaXMuYWN0aXZlVG8gfHwgZGF0ZSA8IHRoaXMuYWN0aXZlVG8pO1xyXG5cdH1cclxuXHJcblx0dG9Ub21sU3RyaW5nKCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBmb3JtYXREYXRlID0gKGRhdGU6IERhdGUgfCB1bmRlZmluZWQpOiBzdHJpbmcgPT4ge1xyXG5cdFx0XHRpZiAoIWRhdGUpIHJldHVybiAnJztcclxuXHRcdFx0cmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gYG5hbWUgPSBcIiR7dGhpcy5uYW1lfVwiXHJcblxyXG5bc3R5bGVdXHJcbmljb24gPSBcIiR7dGhpcy5pY29ufVwiXHJcblxyXG5bZGV0YWlsXVxyXG5wcmljZSA9ICR7dGhpcy5wcmljZX1cclxuYWN0aXZlX2Zyb20gPSBcIiR7Zm9ybWF0RGF0ZSh0aGlzLmFjdGl2ZUZyb20pfVwiXHJcbmFjdGl2ZV90byA9IFwiJHtmb3JtYXREYXRlKHRoaXMuYWN0aXZlVG8pfVwiXHJcbnJlY3ljbGVfcHJpY2UgPSAke3RoaXMucmVjeWNsZVByaWNlfVxyXG50YWdzID0gWyR7dGhpcy50YWdzLm1hcCh0YWcgPT4gYFwiJHt0YWd9XCJgKS5qb2luKCcsICcpfV1cclxuYDtcclxuXHR9XHJcblxyXG5cdC8vIFx1NEVDNVx1OEY5M1x1NTFGQSBjb3N0c2V0IFx1NTQ3RFx1NTQwRFx1N0E3QVx1OTVGNFx1NzY4NCBUT01MIFx1NzI0N1x1NkJCNVx1RkYwOFx1NzUyOFx1NEU4RVx1NUI4OVx1NTE2OFx1NTQwOFx1NUU3Nlx1RkYwOVxyXG5cdHRvQ29zdHNldFRvbWxTZWN0aW9ucygpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgZm9ybWF0RGF0ZSA9IChkYXRlOiBEYXRlIHwgdW5kZWZpbmVkKTogc3RyaW5nID0+IHtcclxuXHRcdFx0aWYgKCFkYXRlKSByZXR1cm4gJyc7XHJcblx0XHRcdHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcclxuXHRcdH07XHJcblx0XHRjb25zdCB0YWdzU3RyID0gdGhpcy50YWdzLm1hcCh0YWcgPT4gYFwiJHt0YWd9XCJgKS5qb2luKCcsICcpO1xyXG5cdFx0cmV0dXJuIGBbY29zdHNldF1cclxubmFtZSA9IFwiJHt0aGlzLm5hbWV9XCJcclxuaGlkZGVuID0gJHt0aGlzLmhpZGRlbiA/ICd0cnVlJyA6ICdmYWxzZSd9XHJcblxyXG5bY29zdHNldC5zdHlsZV1cclxuaWNvbiA9IFwiJHt0aGlzLmljb259XCJcclxuXHJcbltjb3N0c2V0LmRldGFpbF1cclxucHJpY2UgPSAke3RoaXMucHJpY2V9XHJcbmFjdGl2ZV9mcm9tID0gXCIke2Zvcm1hdERhdGUodGhpcy5hY3RpdmVGcm9tKX1cIlxyXG5hY3RpdmVfdG8gPSBcIiR7Zm9ybWF0RGF0ZSh0aGlzLmFjdGl2ZVRvKX1cIlxyXG5yZWN5Y2xlX3ByaWNlID0gJHt0aGlzLnJlY3ljbGVQcmljZX1cclxudGFncyA9IFske3RhZ3NTdHJ9XVxyXG5gO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IENvbmZpcm1Nb2RhbCB9IGZyb20gJy4vQ29uZmlybU1vZGFsJztcclxuaW1wb3J0IHsgQXNzZXRSZXBvc2l0b3J5IH0gZnJvbSAnLi4vLi4vcmVwb3NpdG9yaWVzL0Fzc2V0UmVwb3NpdG9yeSc7XHJcbmltcG9ydCB7IEFzc2V0IH0gZnJvbSAnLi4vLi4vbW9kZWxzL0Fzc2V0JztcclxuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2kxOG4nO1xyXG5cclxuLy8gXHU4RDQ0XHU0RUE3XHU4ODY4XHU1MzU1XHU1RjM5XHU3QTk3XHVGRjA4XHU1OTBEXHU3NTI4XHU2NUU1XHU2NzFGL1x1NjgwN1x1N0I3RVx1NUYzOVx1N0E5N1x1OThDRVx1NjgzQ1x1RkYwOVxyXG5leHBvcnQgY2xhc3MgQXNzZXRGb3JtTW9kYWwge1xyXG5cdHByaXZhdGUgYXBwOiBBcHA7XHJcblx0cHJpdmF0ZSBhc3NldFJlcG9zaXRvcnk6IEFzc2V0UmVwb3NpdG9yeTtcclxuXHRwcml2YXRlIGFzc2V0PzogQXNzZXQ7XHJcblx0cHJpdmF0ZSBtYXNrRWw/OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIG1vZGFsRWw/OiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgb25TYXZlZD86ICgpID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBhc3NldFJlcG9zaXRvcnk6IEFzc2V0UmVwb3NpdG9yeSwgYXNzZXQ/OiBBc3NldCwgb25TYXZlZD86ICgpID0+IHZvaWQpIHtcclxuXHRcdHRoaXMuYXBwID0gYXBwO1xyXG5cdFx0dGhpcy5hc3NldFJlcG9zaXRvcnkgPSBhc3NldFJlcG9zaXRvcnk7XHJcblx0XHR0aGlzLmFzc2V0ID0gYXNzZXQ7XHJcbiAgICAgICAgdGhpcy5vblNhdmVkID0gb25TYXZlZDtcclxuXHR9XHJcblxyXG5cdG9wZW4oKSB7XHJcblx0XHQvLyBcdTkwNkVcdTdGNjlcclxuXHRcdHRoaXMubWFza0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHR0aGlzLm1hc2tFbC5jbGFzc05hbWUgPSAnZGF0ZS1waWNrZXItbWFzayc7XHJcblxyXG5cdFx0Ly8gXHU1RjM5XHU3QTk3XHU1QkI5XHU1NjY4XHVGRjA4XHU1OTBEXHU3NTI4XHU2NUU1XHU2NzFGXHU5MDA5XHU2MkU5XHU1NjY4XHU2ODM3XHU1RjBGXHU1RTc2XHU1MkEwXHU4MUVBXHU1QjlBXHU0RTQ5XHU2ODA3XHU4QkM2XHVGRjA5XHJcblx0XHR0aGlzLm1vZGFsRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHRoaXMubW9kYWxFbC5jbGFzc05hbWUgPSAnZGF0ZS1waWNrZXItbW9kYWwgYXNzZXQtZm9ybS1tb2RhbCc7XHJcblx0XHQvLyBcdTZDRThcdTUxNjVcdTRFMDBcdTZCMjFcdTYwMjdcdTc2ODRcdTZBMkFcdTU0MTFcdTg4NjhcdTUzNTVcdTY4MzdcdTVGMEZcdUZGMENcdTk2NERcdTRGNEVcdTY1NzRcdTRGNTNcdTlBRDhcdTVFQTZcclxuXHRcdHRoaXMuaW5qZWN0QXNzZXRGb3JtU3R5bGVzKCk7XHJcblxyXG5cdFx0Y29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0Y29udGVudC5jbGFzc05hbWUgPSAnZGF0ZS1waWNrZXItY29udGVudCc7XHJcblx0XHQoY29udGVudC5zdHlsZSBhcyBhbnkpLmdhcCA9ICcwcHgnO1xyXG5cclxuXHRcdC8vIFx1NTNCQlx1NjM4OVx1NjgwN1x1OTg5OFx1NjYzRVx1NzkzQVxyXG5cclxuXHRcdC8vIFx1ODg2OFx1NTM1NVxyXG5cdFx0Y29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuXHRcdGZvcm0uY2xhc3NOYW1lID0gJ2Fzc2V0LWZvcm0gYXNzZXQtZm9ybS0taG9yaXpvbnRhbCc7XHJcblx0XHRmb3JtLnN0eWxlLmRpc3BsYXkgPSAnZ3JpZCc7XHJcblx0XHQoZm9ybS5zdHlsZSBhcyBhbnkpLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSAnMWZyJztcclxuXHRcdGZvcm0uc3R5bGUucm93R2FwID0gJzBweCc7XHJcblx0XHQoZm9ybS5zdHlsZSBhcyBhbnkpLmdhcCA9ICcwcHgnO1xyXG5cclxuXHRcdC8vIFx1MjAxNFx1MjAxNCBcdTg4NjhcdTUzNTVcdTY4MjFcdTlBOENcdTVERTVcdTUxNzcgXHUyMDE0XHUyMDE0XHJcblx0XHRjb25zdCBlbnN1cmVFcnJvckVsID0gKGdyb3VwOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50ID0+IHtcclxuXHRcdFx0bGV0IGVyciA9IGdyb3VwLnF1ZXJ5U2VsZWN0b3IoJy5maWVsZC1lcnJvcicpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHRcdFx0aWYgKCFlcnIpIHtcclxuXHRcdFx0XHRjb25zdCBmaWVsZCA9IGdyb3VwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWZpZWxkJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xyXG5cdFx0XHRcdGVyciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdGVyci5jbGFzc05hbWUgPSAnZmllbGQtZXJyb3InO1xyXG5cdFx0XHRcdGlmIChmaWVsZCkgZmllbGQuYXBwZW5kQ2hpbGQoZXJyKTtcclxuXHRcdFx0XHRlbHNlIGdyb3VwLmFwcGVuZENoaWxkKGVycik7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGVycjtcclxuXHRcdH07XHJcblx0XHRjb25zdCBzZXRFcnJvciA9IChncm91cDogSFRNTEVsZW1lbnQsIG1lc3NhZ2U6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRncm91cC5jbGFzc0xpc3QuYWRkKCdoYXMtZXJyb3InKTtcclxuXHRcdFx0Y29uc3QgaW5wdXQgPSBncm91cC5xdWVyeVNlbGVjdG9yKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHRcdFx0aWYgKGlucHV0KSAoaW5wdXQgYXMgYW55KS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XHJcblx0XHRcdGVuc3VyZUVycm9yRWwoZ3JvdXApLnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBjbGVhckVycm9yID0gKGdyb3VwOiBIVE1MRWxlbWVudCkgPT4ge1xyXG5cdFx0XHRncm91cC5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtZXJyb3InKTtcclxuXHRcdFx0Y29uc3QgaW5wdXQgPSBncm91cC5xdWVyeVNlbGVjdG9yKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHRcdFx0aWYgKGlucHV0KSAoaW5wdXQgYXMgYW55KS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICdmYWxzZScpO1xyXG5cdFx0XHRjb25zdCBlcnIgPSBncm91cC5xdWVyeVNlbGVjdG9yKCcuZmllbGQtZXJyb3InKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XHJcblx0XHRcdGlmIChlcnIpIGVyci5yZW1vdmUoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gXHU1NDBEXHU3OUYwXHJcblx0XHRjb25zdCBuYW1lR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdG5hbWVHcm91cC5jbGFzc05hbWUgPSAnZm9ybS1ncm91cCc7XHJcblx0XHR7XHJcblx0XHRcdGNvbnN0IGxibCA9IHRoaXMuY3JlYXRlTGFiZWwodCgnZm9ybS5uYW1lJykpO1xyXG5cdFx0XHRsYmwuY2xhc3NMaXN0LmFkZCgnbGFiZWwtcmVxdWlyZWQnKTtcclxuXHRcdFx0bmFtZUdyb3VwLmFwcGVuZENoaWxkKGxibCk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG5cdFx0bmFtZUlucHV0LnR5cGUgPSAndGV4dCc7XHJcblx0XHRuYW1lSW5wdXQucGxhY2Vob2xkZXIgPSB0KCdmb3JtLmFzc2V0TmFtZS5wbGFjZWhvbGRlcicpO1xyXG5cdFx0aWYgKHRoaXMuYXNzZXQpIG5hbWVJbnB1dC52YWx1ZSA9IHRoaXMuYXNzZXQubmFtZTtcclxuXHRcdHtcclxuXHRcdFx0Y29uc3QgZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0ZmllbGQuY2xhc3NOYW1lID0gJ2Zvcm0tZmllbGQnO1xyXG5cdFx0XHRmaWVsZC5hcHBlbmRDaGlsZChuYW1lSW5wdXQpO1xyXG5cdFx0XHRuYW1lR3JvdXAuYXBwZW5kQ2hpbGQoZmllbGQpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5hcHBseVJvd0xheW91dChuYW1lR3JvdXApO1xyXG5cdFx0Zm9ybS5hcHBlbmRDaGlsZChuYW1lR3JvdXApO1xyXG5cdFx0Y29uc3QgdmFsaWRhdGVOYW1lID0gKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB2ID0gKG5hbWVJbnB1dC52YWx1ZSB8fCAnJykudHJpbSgpO1xyXG5cdFx0XHRpZiAoIXYpIHsgc2V0RXJyb3IobmFtZUdyb3VwLCB0KCdmb3JtLmVycm9yLm5hbWVSZXF1aXJlZCcpKTsgcmV0dXJuIGZhbHNlOyB9XHJcblx0XHRcdGNsZWFyRXJyb3IobmFtZUdyb3VwKTsgcmV0dXJuIHRydWU7XHJcblx0XHR9O1xyXG5cdFx0bmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdmFsaWRhdGVOYW1lKTtcclxuXHRcdG5hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdmFsaWRhdGVOYW1lKTtcclxuXHJcblx0XHQvLyBcdTU2RkVcdTY4MDdcclxuXHRcdGNvbnN0IGljb25Hcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0aWNvbkdyb3VwLmNsYXNzTmFtZSA9ICdmb3JtLWdyb3VwJztcclxuXHRcdGljb25Hcm91cC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxhYmVsKHQoJ2Zvcm0uaWNvbicpKSk7XHJcblx0XHRjb25zdCBpY29uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG5cdFx0aWNvbklucHV0LnR5cGUgPSAndGV4dCc7XHJcblx0XHRpY29uSW5wdXQucGxhY2Vob2xkZXIgPSAnXHVEODNEXHVERTBBJyArIHQoJ2Zvcm0uaWNvbi5wbGFjZWhvbGRlcicpO1xyXG5cdFx0aWYgKHRoaXMuYXNzZXQpIGljb25JbnB1dC52YWx1ZSA9IHRoaXMuYXNzZXQuaWNvbjsgZWxzZSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3QgcGx1Z2luID0gKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucz8ucGx1Z2lucz8uWydsYWMtY29zdHNldCddO1xyXG5cdFx0XHRcdGNvbnN0IGZhbGxiYWNrID0gJ1x1RDgzRFx1RENFNic7XHJcblx0XHRcdFx0aWNvbklucHV0LnZhbHVlID0gKHBsdWdpbiAmJiBwbHVnaW4uc2V0dGluZ3MgJiYgcGx1Z2luLnNldHRpbmdzLmRlZmF1bHRJY29uKSA/IHBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0SWNvbiA6IGZhbGxiYWNrO1xyXG5cdFx0XHR9IGNhdGNoIChfKSB7XHJcblx0XHRcdFx0aWNvbklucHV0LnZhbHVlID0gJ1x1RDgzRFx1RENFNic7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGNvbnN0IGVuZm9yY2VTaW5nbGVFbW9qaSA9ICgpID0+IHtcclxuXHRcdFx0Y29uc3QgZmlyc3QgPSB0aGlzLmdldEZpcnN0RW1vamlHcmFwaGVtZShpY29uSW5wdXQudmFsdWUgfHwgJycpO1xyXG5cdFx0XHRpY29uSW5wdXQudmFsdWUgPSBmaXJzdCB8fCAnJztcclxuXHRcdH07XHJcblx0XHRpY29uSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBlbmZvcmNlU2luZ2xlRW1vamkpO1xyXG5cdFx0aWNvbklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgKGUpID0+IHsgc2V0VGltZW91dChlbmZvcmNlU2luZ2xlRW1vamksIDApOyB9KTtcclxuXHRcdHtcclxuXHRcdFx0Y29uc3QgZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0ZmllbGQuY2xhc3NOYW1lID0gJ2Zvcm0tZmllbGQnO1xyXG5cdFx0XHRmaWVsZC5hcHBlbmRDaGlsZChpY29uSW5wdXQpO1xyXG5cdFx0XHRpY29uR3JvdXAuYXBwZW5kQ2hpbGQoZmllbGQpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5hcHBseVJvd0xheW91dChpY29uR3JvdXApO1xyXG5cdFx0Zm9ybS5hcHBlbmRDaGlsZChpY29uR3JvdXApO1xyXG5cclxuXHRcdC8vIFx1NEVGN1x1NjgzQ1xyXG5cdFx0Y29uc3QgcHJpY2VHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0cHJpY2VHcm91cC5jbGFzc05hbWUgPSAnZm9ybS1ncm91cCc7XHJcblx0XHR7XHJcblx0XHRcdGNvbnN0IGxibCA9IHRoaXMuY3JlYXRlTGFiZWwodCgnZm9ybS5wcmljZScpKTtcclxuXHRcdFx0bGJsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsLXJlcXVpcmVkJyk7XHJcblx0XHRcdHByaWNlR3JvdXAuYXBwZW5kQ2hpbGQobGJsKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IHByaWNlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0XHRwcmljZUlucHV0LnR5cGUgPSAnbnVtYmVyJztcclxuXHRcdHByaWNlSW5wdXQucGxhY2Vob2xkZXIgPSB0KCdmb3JtLnByaWNlLnBsYWNlaG9sZGVyJyk7XHJcblx0XHRwcmljZUlucHV0LnN0ZXAgPSAnMC4wMSc7XHJcblx0XHRpZiAodGhpcy5hc3NldCkgcHJpY2VJbnB1dC52YWx1ZSA9IHRoaXMuYXNzZXQucHJpY2UudG9TdHJpbmcoKTtcclxuXHRcdC8vIFx1NEUwRSBjb3N0c2V0YXBwIFx1NUJGOVx1OUY1MFx1RkYxQVx1OEY5M1x1NTE2NVx1NEUwRVx1NTkzMVx1NzEyNlx1NjVGNlx1NTFDMFx1NTMxNlx1NEUzQVx1NTQwOFx1NkNENVx1NjU3MFx1NUI1N1x1NjgzQ1x1NUYwRlxyXG5cdFx0Y29uc3Qgc2FuaXRpemVOdW1lcmljID0gKGVsOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XHJcblx0XHRcdGVsLnZhbHVlID0gdGhpcy5zYW5pdGl6ZU51bWVyaWNTdHJpbmcoZWwudmFsdWUgfHwgJycpO1xyXG5cdFx0fTtcclxuXHRcdGNvbnN0IGxpbWl0VHdvRGVjaW1hbHMgPSAoZWw6IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcclxuXHRcdFx0ZWwudmFsdWUgPSB0aGlzLmNsYW1wVHdvRGVjaW1hbHNTdHJpbmcoZWwudmFsdWUgfHwgJycpO1xyXG5cdFx0fTtcclxuXHRcdHByaWNlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBzYW5pdGl6ZU51bWVyaWMocHJpY2VJbnB1dCkpO1xyXG5cdFx0cHJpY2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4geyBzYW5pdGl6ZU51bWVyaWMocHJpY2VJbnB1dCk7IGxpbWl0VHdvRGVjaW1hbHMocHJpY2VJbnB1dCk7IH0pO1xyXG5cdFx0e1xyXG5cdFx0XHRjb25zdCBmaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRmaWVsZC5jbGFzc05hbWUgPSAnZm9ybS1maWVsZCc7XHJcblx0XHRcdGZpZWxkLmFwcGVuZENoaWxkKHByaWNlSW5wdXQpO1xyXG5cdFx0XHRwcmljZUdyb3VwLmFwcGVuZENoaWxkKGZpZWxkKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuYXBwbHlSb3dMYXlvdXQocHJpY2VHcm91cCk7XHJcblx0XHRmb3JtLmFwcGVuZENoaWxkKHByaWNlR3JvdXApO1xyXG5cdFx0Y29uc3QgdmFsaWRhdGVQcmljZSA9ICgpID0+IHtcclxuXHRcdFx0Y29uc3Qgc3RyID0gKHByaWNlSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcclxuXHRcdFx0Y29uc3QgbnVtID0gdGhpcy5wYXJzZU1vbmV5KHN0cik7XHJcblx0XHRcdGlmIChudW0gPT09IG51bGwpIHsgc2V0RXJyb3IocHJpY2VHcm91cCwgdCgnZm9ybS5lcnJvci5wcmljZUludmFsaWQnKSk7IHJldHVybiBmYWxzZTsgfVxyXG5cdFx0XHRjbGVhckVycm9yKHByaWNlR3JvdXApOyByZXR1cm4gdHJ1ZTtcclxuXHRcdH07XHJcblx0XHRwcmljZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdmFsaWRhdGVQcmljZSk7XHJcblx0XHRwcmljZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB2YWxpZGF0ZVByaWNlKTtcclxuXHJcblx0XHQvLyBcdTVGMDBcdTU5Q0JcdTY1RTVcdTY3MUZcclxuXHRcdGNvbnN0IGZyb21Hcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0ZnJvbUdyb3VwLmNsYXNzTmFtZSA9ICdmb3JtLWdyb3VwJztcclxuXHRcdHtcclxuXHRcdFx0Y29uc3QgbGJsID0gdGhpcy5jcmVhdGVMYWJlbCh0KCdmb3JtLnB1cmNoYXNlT24nKSk7XHJcblx0XHRcdGxibC5jbGFzc0xpc3QuYWRkKCdsYWJlbC1yZXF1aXJlZCcpO1xyXG5cdFx0XHRmcm9tR3JvdXAuYXBwZW5kQ2hpbGQobGJsKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGZyb21JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdGZyb21JbnB1dC50eXBlID0gJ3RleHQnO1xyXG5cdFx0ZnJvbUlucHV0LnJlYWRPbmx5ID0gdHJ1ZTtcclxuXHRcdGZyb21JbnB1dC5wbGFjZWhvbGRlciA9IHQoJ2Zvcm0ucHVyY2hhc2VEYXRlJyk7XHJcblx0XHRmcm9tSW5wdXQudmFsdWUgPSB0aGlzLmFzc2V0ID8gdGhpcy5mb3JtYXREYXRlTG9jYWwodGhpcy5hc3NldC5hY3RpdmVGcm9tKSA6ICcnO1xyXG5cdFx0ZnJvbUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLm9wZW5EYXRlUGlja2VyKGZyb21JbnB1dC52YWx1ZSA/IG5ldyBEYXRlKGZyb21JbnB1dC52YWx1ZSkgOiAodGhpcy5hc3NldD8uYWN0aXZlRnJvbSB8fCBuZXcgRGF0ZSgpKSwgKHBpY2tlZCkgPT4ge1xyXG5cdFx0XHRcdGZyb21JbnB1dC52YWx1ZSA9IHRoaXMuZm9ybWF0RGF0ZUxvY2FsKHBpY2tlZCk7XHJcblx0XHRcdFx0Y2xlYXJFcnJvcihmcm9tR3JvdXApO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0e1xyXG5cdFx0XHRjb25zdCBmaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRmaWVsZC5jbGFzc05hbWUgPSAnZm9ybS1maWVsZCc7XHJcblx0XHRcdGZpZWxkLmFwcGVuZENoaWxkKGZyb21JbnB1dCk7XHJcblx0XHRcdGZyb21Hcm91cC5hcHBlbmRDaGlsZChmaWVsZCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmFwcGx5Um93TGF5b3V0KGZyb21Hcm91cCk7XHJcblx0XHRmb3JtLmFwcGVuZENoaWxkKGZyb21Hcm91cCk7XHJcblx0XHRjb25zdCB2YWxpZGF0ZUZyb20gPSAoKSA9PiB7XHJcblx0XHRcdGlmICghZnJvbUlucHV0LnZhbHVlKSB7IHNldEVycm9yKGZyb21Hcm91cCwgdCgnZm9ybS5lcnJvci5mcm9tUmVxdWlyZWQnKSk7IHJldHVybiBmYWxzZTsgfVxyXG5cdFx0XHRjbGVhckVycm9yKGZyb21Hcm91cCk7IHJldHVybiB0cnVlO1xyXG5cdFx0fTtcclxuXHRcdGZyb21JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdmFsaWRhdGVGcm9tKTtcclxuXHJcblx0XHQvLyBcdTdFRDNcdTY3NUZcdTY1RTVcdTY3MUZcclxuXHRcdGNvbnN0IHRvR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHRvR3JvdXAuY2xhc3NOYW1lID0gJ2Zvcm0tZ3JvdXAnO1xyXG5cdFx0dG9Hcm91cC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxhYmVsKHQoJ2Zvcm0uZW5kRGF0ZScpKSk7XHJcblx0XHRjb25zdCB0b0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0dG9JbnB1dC50eXBlID0gJ3RleHQnO1xyXG5cdFx0dG9JbnB1dC5yZWFkT25seSA9IHRydWU7XHJcblx0XHR0b0lucHV0LnBsYWNlaG9sZGVyID0gdCgnZm9ybS5lbmREYXRlUGxhY2Vob2xkZXInKTtcclxuXHRcdHRvSW5wdXQudmFsdWUgPSAodGhpcy5hc3NldCAmJiB0aGlzLmFzc2V0LmFjdGl2ZVRvKSA/IHRoaXMuZm9ybWF0RGF0ZUxvY2FsKHRoaXMuYXNzZXQuYWN0aXZlVG8pIDogJyc7XHJcblx0XHRsZXQgY2xlYXJCdG46IEhUTUxCdXR0b25FbGVtZW50IHwgdW5kZWZpbmVkO1xyXG5cdFx0Y29uc3QgdXBkYXRlVG9DbGVhciA9ICgpID0+IHsgaWYgKGNsZWFyQnRuKSBjbGVhckJ0bi5zdHlsZS5kaXNwbGF5ID0gdG9JbnB1dC52YWx1ZSA/ICdpbmxpbmUtZmxleCcgOiAnbm9uZSc7IH07XHJcblx0XHR0b0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLm9wZW5EYXRlUGlja2VyKHRvSW5wdXQudmFsdWUgPyBuZXcgRGF0ZSh0b0lucHV0LnZhbHVlKSA6ICh0aGlzLmFzc2V0Py5hY3RpdmVUbyB8fCBuZXcgRGF0ZSgpKSwgKHBpY2tlZCkgPT4ge1xyXG5cdFx0XHRcdHRvSW5wdXQudmFsdWUgPSB0aGlzLmZvcm1hdERhdGVMb2NhbChwaWNrZWQpO1xyXG5cdFx0XHRcdHVwZGF0ZVRvQ2xlYXIoKTtcclxuXHRcdFx0XHQvLyBcdTY4MjFcdTlBOENcdTUzM0FcdTk1RjRcclxuXHRcdFx0XHRpZiAoZnJvbUlucHV0LnZhbHVlKSB7XHJcblx0XHRcdFx0XHRjb25zdCBmZCA9IG5ldyBEYXRlKGZyb21JbnB1dC52YWx1ZSk7XHJcblx0XHRcdFx0XHRjb25zdCB0ZCA9IG5ldyBEYXRlKHRvSW5wdXQudmFsdWUpO1xyXG5cdFx0XHRcdFx0aWYgKHRkLmdldFRpbWUoKSA8IGZkLmdldFRpbWUoKSkgc2V0RXJyb3IodG9Hcm91cCwgdCgnZm9ybS5lcnJvci50b0JlZm9yZUZyb20nKSk7IGVsc2UgY2xlYXJFcnJvcih0b0dyb3VwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHR7XHJcblx0XHRcdGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdGZpZWxkLmNsYXNzTmFtZSA9ICdmb3JtLWZpZWxkJztcclxuXHRcdFx0Y29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHR3cmFwLmNsYXNzTmFtZSA9ICdpbnB1dC13aXRoLWNsZWFyJztcclxuXHRcdFx0d3JhcC5hcHBlbmRDaGlsZCh0b0lucHV0KTtcclxuXHRcdFx0Y2xlYXJCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdFx0Y2xlYXJCdG4udHlwZSA9ICdidXR0b24nO1xyXG5cdFx0XHRjbGVhckJ0bi5jbGFzc05hbWUgPSAnaW5wdXQtY2xlYXInO1xyXG5cdFx0XHRjbGVhckJ0bi50ZXh0Q29udGVudCA9ICdcdTAwRDcnO1xyXG5cdFx0XHRjbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpOyBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdHRvSW5wdXQudmFsdWUgPSAnJztcclxuXHRcdFx0XHR1cGRhdGVUb0NsZWFyKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR3cmFwLmFwcGVuZENoaWxkKGNsZWFyQnRuKTtcclxuXHRcdFx0ZmllbGQuYXBwZW5kQ2hpbGQod3JhcCk7XHJcblx0XHRcdHRvR3JvdXAuYXBwZW5kQ2hpbGQoZmllbGQpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5hcHBseVJvd0xheW91dCh0b0dyb3VwKTtcclxuXHRcdGZvcm0uYXBwZW5kQ2hpbGQodG9Hcm91cCk7XHJcblx0XHQvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTZFMDVcdTk2NjRcdTYzMDlcdTk0QUVcdTUzRUZcdTg5QzFcdTYwMjdcclxuXHRcdHVwZGF0ZVRvQ2xlYXIoKTtcclxuXHJcblx0XHQvLyBcdTU2REVcdTY1MzZcdTRFRjdcdTY4M0NcclxuXHRcdGNvbnN0IHJlY3ljbGVHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0cmVjeWNsZUdyb3VwLmNsYXNzTmFtZSA9ICdmb3JtLWdyb3VwJztcclxuXHRcdHJlY3ljbGVHcm91cC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxhYmVsKHQoJ2Zvcm0ucmVjeWNsZVByaWNlJykpKTtcclxuXHRcdGNvbnN0IHJlY3ljbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdHJlY3ljbGVJbnB1dC50eXBlID0gJ251bWJlcic7XHJcblx0XHRyZWN5Y2xlSW5wdXQucGxhY2Vob2xkZXIgPSB0KCdmb3JtLnJlY3ljbGUucGxhY2Vob2xkZXInKTtcclxuXHRcdHJlY3ljbGVJbnB1dC5zdGVwID0gJzAuMDEnO1xyXG5cdFx0aWYgKHRoaXMuYXNzZXQpIHJlY3ljbGVJbnB1dC52YWx1ZSA9IHRoaXMuYXNzZXQucmVjeWNsZVByaWNlLnRvU3RyaW5nKCk7XHJcblx0XHRyZWN5Y2xlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBzYW5pdGl6ZU51bWVyaWMocmVjeWNsZUlucHV0KSk7XHJcblx0XHRyZWN5Y2xlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHsgc2FuaXRpemVOdW1lcmljKHJlY3ljbGVJbnB1dCk7IGxpbWl0VHdvRGVjaW1hbHMocmVjeWNsZUlucHV0KTsgfSk7XHJcblx0XHR7XHJcblx0XHRcdGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdGZpZWxkLmNsYXNzTmFtZSA9ICdmb3JtLWZpZWxkJztcclxuXHRcdFx0ZmllbGQuYXBwZW5kQ2hpbGQocmVjeWNsZUlucHV0KTtcclxuXHRcdFx0cmVjeWNsZUdyb3VwLmFwcGVuZENoaWxkKGZpZWxkKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuYXBwbHlSb3dMYXlvdXQocmVjeWNsZUdyb3VwKTtcclxuXHRcdGZvcm0uYXBwZW5kQ2hpbGQocmVjeWNsZUdyb3VwKTtcclxuXHJcblxyXG5cdFx0Ly8gXHU2ODA3XHU3QjdFXHVGRjA4Y2hpcHMgKyBcdTU2REVcdThGNjZcdTc4NkVcdThCQTRcdUZGMDlcclxuXHRcdGNvbnN0IHRhZ3NHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0dGFnc0dyb3VwLmNsYXNzTmFtZSA9ICdmb3JtLWdyb3VwJztcclxuXHRcdHRhZ3NHcm91cC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxhYmVsKHQoJ2Zvcm0udGFncycpKSk7XHJcblx0XHRsZXQgY3VycmVudFRhZ3M6IHN0cmluZ1tdID0gdGhpcy5hc3NldCA/IFsuLi4odGhpcy5hc3NldC50YWdzIHx8IFtdKV0gOiBbXTtcclxuXHRcdGNvbnN0IHRhZ3NXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHR0YWdzV3JhcHBlci5jbGFzc05hbWUgPSAndGFncy1pbnB1dCc7XHJcblx0XHRjb25zdCB0YWdzSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0XHR0YWdzSW5wdXQudHlwZSA9ICd0ZXh0JztcclxuXHRcdHRhZ3NJbnB1dC5wbGFjZWhvbGRlciA9IHQoJ2Zvcm0udGFncy5wbGFjZWhvbGRlcicpO1xyXG5cdFx0dGFnc1dyYXBwZXIuYXBwZW5kQ2hpbGQodGFnc0lucHV0KTtcclxuXHRcdHtcclxuXHRcdFx0Y29uc3QgZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0ZmllbGQuY2xhc3NOYW1lID0gJ2Zvcm0tZmllbGQnO1xyXG5cdFx0XHRmaWVsZC5hcHBlbmRDaGlsZCh0YWdzV3JhcHBlcik7XHJcblx0XHRcdHRhZ3NHcm91cC5hcHBlbmRDaGlsZChmaWVsZCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmFwcGx5Um93TGF5b3V0KHRhZ3NHcm91cCk7XHJcblx0XHRmb3JtLmFwcGVuZENoaWxkKHRhZ3NHcm91cCk7XHJcblxyXG5cdFx0Y29uc3Qgbm9ybWFsaXplID0gKHRzdHI6IHN0cmluZykgPT4gdHN0ci50cmltKCk7XHJcblx0XHRjb25zdCBhZGRUYWcgPSAocmF3OiBzdHJpbmcpID0+IHtcclxuXHRcdFx0Y29uc3QgcGllY2VzID0gcmF3LnNwbGl0KC9bXHVGRjBDLFxcc10rLykubWFwKG5vcm1hbGl6ZSkuZmlsdGVyKEJvb2xlYW4pO1xyXG5cdFx0XHRwaWVjZXMuZm9yRWFjaChwID0+IHsgaWYgKCFjdXJyZW50VGFncy5pbmNsdWRlcyhwKSkgY3VycmVudFRhZ3MucHVzaChwKTsgfSk7XHJcblx0XHRcdHN5bmNDaGlwcygpO1xyXG5cdFx0XHR0YWdzSW5wdXQudmFsdWUgPSAnJztcclxuXHRcdH07XHJcblx0XHRjb25zdCByZW1vdmVUYWcgPSAodmFsdWU6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRjdXJyZW50VGFncyA9IGN1cnJlbnRUYWdzLmZpbHRlcih0ZyA9PiB0ZyAhPT0gdmFsdWUpO1xyXG5cdFx0XHRzeW5jQ2hpcHMoKTtcclxuXHRcdH07XHJcblx0XHRjb25zdCBzeW5jQ2hpcHMgPSAoKSA9PiB7XHJcblx0XHRcdEFycmF5LmZyb20odGFnc1dyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnLnRhZy1jaGlwJykpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xyXG5cdFx0XHRjdXJyZW50VGFncy5mb3JFYWNoKHRhZyA9PiB7XHJcblx0XHRcdFx0Y29uc3QgY2hpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRcdFx0XHRjaGlwLmNsYXNzTmFtZSA9ICd0YWctY2hpcCc7XHJcblx0XHRcdFx0Y2hpcC50ZXh0Q29udGVudCA9IHRhZztcclxuXHRcdFx0XHRjb25zdCBybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG5cdFx0XHRcdHJtLnR5cGUgPSAnYnV0dG9uJztcclxuXHRcdFx0XHRybS5jbGFzc05hbWUgPSAncmVtb3ZlJztcclxuXHRcdFx0XHRybS50ZXh0Q29udGVudCA9ICdcdTAwRDcnO1xyXG5cdFx0XHRcdHJtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVtb3ZlVGFnKHRhZykpO1xyXG5cdFx0XHRcdGNoaXAuYXBwZW5kQ2hpbGQocm0pO1xyXG5cdFx0XHRcdHRhZ3NXcmFwcGVyLmluc2VydEJlZm9yZShjaGlwLCB0YWdzSW5wdXQpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gXHU1MjFEXHU1OUNCXHU2RTMyXHU2N0QzXHU1REYyXHU1QjU4XHU1NzI4XHU2ODA3XHU3QjdFXHJcblx0XHRzeW5jQ2hpcHMoKTtcclxuXHJcblx0XHQvLyBcdThGOTNcdTUxNjVcdTRFQTRcdTRFOTJcdUZGMUFFbnRlciBcdTYyMTZcdTkwMTdcdTUzRjdcdTYzRDBcdTRFQTRcdUZGMUJCYWNrc3BhY2UgXHU1MjIwXHU5NjY0XHU2NzAwXHU1NDBFXHU0RTAwXHU0RTJBXHJcblx0XHR0YWdzSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcblx0XHRcdGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJywnIHx8IGUua2V5ID09PSAnXHVGRjBDJykge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRpZiAodGFnc0lucHV0LnZhbHVlLnRyaW0oKSkgYWRkVGFnKHRhZ3NJbnB1dC52YWx1ZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGUua2V5ID09PSAnQmFja3NwYWNlJyAmJiAhdGFnc0lucHV0LnZhbHVlICYmIGN1cnJlbnRUYWdzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0cmVtb3ZlVGFnKGN1cnJlbnRUYWdzW2N1cnJlbnRUYWdzLmxlbmd0aCAtIDFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR0YWdzSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHRcdFx0aWYgKHRhZ3NJbnB1dC52YWx1ZS50cmltKCkpIGFkZFRhZyh0YWdzSW5wdXQudmFsdWUpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gXHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFXHJcblx0XHRjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRhY3Rpb25zLmNsYXNzTmFtZSA9ICdmb3JtLWFjdGlvbnMnO1xyXG5cdFx0Y29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRjYW5jZWxCdG4udHlwZSA9ICdidXR0b24nO1xyXG5cdFx0Y2FuY2VsQnRuLnRleHRDb250ZW50ID0gdCgnZm9ybS5hY3Rpb24uY2FuY2VsJyk7XHJcblx0XHRjYW5jZWxCdG4uY2xhc3NOYW1lID0gJ2Zvcm0tYnRuIGZvcm0tYnRuLXNlY29uZGFyeSc7XHJcblx0XHRjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdGRlbGV0ZUJ0bi50eXBlID0gJ2J1dHRvbic7XHJcblx0XHRkZWxldGVCdG4udGV4dENvbnRlbnQgPSB0KCdmb3JtLmFjdGlvbi5kZWxldGUnKTtcclxuXHRcdGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZm9ybS1idG4gZm9ybS1idG4tZGFuZ2VyJztcclxuXHRcdGNvbnN0IHNhdmVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdHNhdmVCdG4udHlwZSA9ICdzdWJtaXQnO1xyXG5cdFx0c2F2ZUJ0bi50ZXh0Q29udGVudCA9IHQoJ2Zvcm0uYWN0aW9uLnNhdmUnKTtcclxuXHRcdHNhdmVCdG4uY2xhc3NOYW1lID0gJ2Zvcm0tYnRuIGZvcm0tYnRuLXByaW1hcnknO1xyXG5cdFx0YWN0aW9ucy5hcHBlbmRDaGlsZChjYW5jZWxCdG4pO1xyXG5cdFx0aWYgKHRoaXMuYXNzZXQpIGFjdGlvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTtcclxuXHRcdGFjdGlvbnMuYXBwZW5kQ2hpbGQoc2F2ZUJ0bik7XHJcblx0XHRmb3JtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xyXG5cclxuXHRcdGNvbnRlbnQuYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblx0XHR0aGlzLm1vZGFsRWwuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcblx0XHR0aGlzLm1hc2tFbC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsRWwpO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm1hc2tFbCk7XHJcblxyXG5cdFx0Ly8gXHU0RThCXHU0RUY2XHJcblx0XHRjb25zdCBjbG9zZSA9ICgpID0+IHRoaXMuY2xvc2UoKTtcclxuXHRcdHRoaXMubWFza0VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsgaWYgKGUudGFyZ2V0ID09PSB0aGlzLm1hc2tFbCkgY2xvc2UoKTsgfSk7XHJcblx0XHRjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSk7XHJcblx0XHRpZiAodGhpcy5hc3NldCkge1xyXG5cdFx0XHRkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCF0aGlzLmFzc2V0KSByZXR1cm47XHJcblx0XHRcdFx0Y29uc3Qgb2sgPSBhd2FpdCBuZXcgQ29uZmlybU1vZGFsKHQoJ3ZpZXcuY29uZmlybURlbGV0ZUFzc2V0JywgeyBuYW1lOiB0aGlzLmFzc2V0Lm5hbWUgfSksIHQoJ2NvbW1vbi5kZWxldGUnKSwgdCgnY29tbW9uLmNhbmNlbCcpLCB0cnVlKS5vcGVuKCk7XHJcblx0XHRcdFx0aWYgKCFvaykgcmV0dXJuO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuYXNzZXRSZXBvc2l0b3J5LmRlbGV0ZUFzc2V0KHRoaXMuYXNzZXQuaWQpO1xyXG5cdFx0XHRcdGlmICh0aGlzLm9uU2F2ZWQpIHRoaXMub25TYXZlZCgpO1xyXG5cdFx0XHRcdGNsb3NlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZSkgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdC8vIFx1NkUwNVx1NzQwNlx1OEZDN1x1NUY4MFx1OTUxOVx1OEJFRlxyXG5cdFx0XHRjbGVhckVycm9yKG5hbWVHcm91cCk7IGNsZWFyRXJyb3IocHJpY2VHcm91cCk7IGNsZWFyRXJyb3IoZnJvbUdyb3VwKTsgY2xlYXJFcnJvcih0b0dyb3VwKTsgY2xlYXJFcnJvcihyZWN5Y2xlR3JvdXApO1xyXG5cdFx0XHQvLyBcdTU3RkFcdTc4NDBcdTVGQzVcdTU4NkJcdTRFMEVcdTY4M0NcdTVGMEZcdTY4MjFcdTlBOENcclxuXHRcdFx0Y29uc3QgbmFtZVZhbCA9IChuYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcclxuXHRcdFx0Y29uc3QgcHJpY2VTdHIgPSAocHJpY2VJbnB1dC52YWx1ZSB8fCAnJykudHJpbSgpO1xyXG5cdFx0XHRjb25zdCBwcmljZU51bSA9IHRoaXMucGFyc2VNb25leShwcmljZVN0cik7XHJcblx0XHRcdGxldCB2YWxpZCA9IHRydWU7XHJcblx0XHRcdGlmICghbmFtZVZhbCkgeyBzZXRFcnJvcihuYW1lR3JvdXAsIHQoJ2Zvcm0uZXJyb3IubmFtZVJlcXVpcmVkJykpOyB2YWxpZCA9IGZhbHNlOyB9XHJcblx0XHRcdGlmIChwcmljZU51bSA9PT0gbnVsbCkgeyBzZXRFcnJvcihwcmljZUdyb3VwLCB0KCdmb3JtLmVycm9yLnByaWNlSW52YWxpZCcpKTsgdmFsaWQgPSBmYWxzZTsgfVxyXG5cdFx0XHRpZiAoIWZyb21JbnB1dC52YWx1ZSkgeyBzZXRFcnJvcihmcm9tR3JvdXAsIHQoJ2Zvcm0uZXJyb3IuZnJvbVJlcXVpcmVkJykpOyB2YWxpZCA9IGZhbHNlOyB9XHJcblx0XHRcdGlmICghdmFsaWQpIHtcclxuXHRcdFx0XHRjb25zdCBmaXJzdEVyciA9IFtuYW1lR3JvdXAsIHByaWNlR3JvdXAsIGZyb21Hcm91cF0uZmluZChnID0+IGcuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYXMtZXJyb3InKSkgYXMgSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XHJcblx0XHRcdFx0aWYgKGZpcnN0RXJyKSB7XHJcblx0XHRcdFx0XHQoZmlyc3RFcnIucXVlcnlTZWxlY3RvcignaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCk/LmZvY3VzKCk7XHJcblx0XHRcdFx0XHRmaXJzdEVyci5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInIH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3QgZnJvbURhdGUgPSBuZXcgRGF0ZShmcm9tSW5wdXQudmFsdWUpO1xyXG5cdFx0XHRjb25zdCBwcmljZVZhbHVlID0gcHJpY2VOdW0gYXMgbnVtYmVyO1xyXG5cdFx0XHRsZXQgdG9EYXRlOiBEYXRlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRpZiAodG9JbnB1dC52YWx1ZSkge1xyXG5cdFx0XHRcdGNvbnN0IGQgPSBuZXcgRGF0ZSh0b0lucHV0LnZhbHVlKTtcclxuXHRcdFx0XHRpZiAoZC5nZXRUaW1lKCkgPCBmcm9tRGF0ZS5nZXRUaW1lKCkpIHsgc2V0RXJyb3IodG9Hcm91cCwgdCgnZm9ybS5lcnJvci50b0JlZm9yZUZyb20nKSk7ICh0b0dyb3VwLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGwpPy5mb2N1cygpOyByZXR1cm47IH1cclxuXHRcdFx0XHR0b0RhdGUgPSBkO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IHJlY3ljbGVTdHIgPSAocmVjeWNsZUlucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XHJcblx0XHRcdGNvbnN0IHJlY3ljbGVOdW0gPSByZWN5Y2xlU3RyID8gdGhpcy5wYXJzZU1vbmV5KHJlY3ljbGVTdHIpIDogMDtcclxuXHRcdFx0aWYgKHJlY3ljbGVTdHIgJiYgcmVjeWNsZU51bSA9PT0gbnVsbCkgeyBzZXRFcnJvcihyZWN5Y2xlR3JvdXAsIHQoJ2Zvcm0uZXJyb3IucmVjeWNsZUludmFsaWQnKSk7IHJldHVybjsgfVxyXG5cdFx0XHRpZiAoKHJlY3ljbGVOdW0gfHwgMCkgPiBwcmljZVZhbHVlKSB7IHNldEVycm9yKHJlY3ljbGVHcm91cCwgdCgnZm9ybS5lcnJvci5yZWN5Y2xlR3RQcmljZScpKTsgcmV0dXJuOyB9XHJcblxyXG5cdFx0XHRjb25zdCBhc3NldERhdGEgPSB7XHJcblx0XHRcdFx0aWQ6IHRoaXMuYXNzZXQ/LmlkIHx8IG5hbWVWYWwsXHJcblx0XHRcdFx0bmFtZTogbmFtZVZhbCxcclxuXHRcdFx0XHRpY29uOiBpY29uSW5wdXQudmFsdWUgfHwgJ1x1RDgzRFx1RENFNicsXHJcblx0XHRcdFx0cHJpY2U6IHByaWNlVmFsdWUsXHJcblx0XHRcdFx0YWN0aXZlRnJvbTogZnJvbURhdGUsXHJcblx0XHRcdFx0YWN0aXZlVG86IHRvRGF0ZSxcclxuXHRcdFx0XHRyZWN5Y2xlUHJpY2U6IHJlY3ljbGVOdW0gfHwgMCxcclxuXHRcdFx0XHR0YWdzOiBjdXJyZW50VGFnc1xyXG5cdFx0XHR9O1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IGFzc2V0ID0gbmV3IEFzc2V0KGFzc2V0RGF0YSk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5hc3NldFJlcG9zaXRvcnkuc2F2ZUFzc2V0KGFzc2V0KTtcclxuXHRcdFx0XHRpZiAodGhpcy5vblNhdmVkKSB0aGlzLm9uU2F2ZWQoKTtcclxuXHRcdFx0XHRjbG9zZSgpO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcblx0XHRcdFx0bmV3IE5vdGljZSh0KCdub3RpY2Uuc2F2ZUZhaWxlZCcsIHsgbXNnOiBlcnJvci5tZXNzYWdlIH0pKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGluamVjdEFzc2V0Rm9ybVN0eWxlcygpIHtcclxuXHRcdGNvbnN0IFNUWUxFX0lEID0gJ2Fzc2V0LWZvcm0taW5saW5lLXN0eWxlcyc7XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU1RZTEVfSUQpKSByZXR1cm47XHJcblx0XHRjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcblx0XHRzdHlsZS5pZCA9IFNUWUxFX0lEO1xyXG5cdFx0c3R5bGUudGV4dENvbnRlbnQgPSBgXHJcblx0XHRcdC8qIFx1NTIzMFx1NjcxRlx1OEY5M1x1NTE2NVx1NkUwNVx1OTY2NFx1NjMwOVx1OTRBRSAqL1xyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuaW5wdXQtd2l0aC1jbGVhciB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfVxyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuaW5wdXQtd2l0aC1jbGVhciAuaW5wdXQtY2xlYXIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiA2cHg7IHRvcDogNTAlOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7IHdpZHRoOiAxOHB4OyBoZWlnaHQ6IDE4cHg7IGJvcmRlci1yYWRpdXM6IDUwJTsgZGlzcGxheTogbm9uZTsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGZvbnQtc2l6ZTogMTRweDsgbGluZS1oZWlnaHQ6IDE4cHg7IH1cclxuXHRcdFx0LyogXHU1RjM5XHU3QTk3XHU1QkI5XHU1NjY4XHU2NkY0XHU3RDI3XHU1MUQxICovXHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIHsgbWF4LWhlaWdodDogODB2aDsgb3ZlcmZsb3c6IGF1dG87IH1cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmRhdGUtcGlja2VyLWNvbnRlbnQgeyBwYWRkaW5nOiAxNnB4IDIwcHg7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGdhcDogMCAhaW1wb3J0YW50OyB9XHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5kYXRlLXBpY2tlci10aXRsZSB7IGZvbnQtc2l6ZTogMTRweDsgbWFyZ2luLWJvdHRvbTogNnB4OyB9XHJcblxyXG5cdFx0XHQvKiBcdTZBMkFcdTU0MTFcdTg4NjhcdTUzNTVcdTVFMDNcdTVDNDBcdUZGMENcdTUzOEJcdTdGMjlcdTU3ODJcdTc2RjRcdTdBN0FcdTc2N0QgKi9cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmFzc2V0LWZvcm0uYXNzZXQtZm9ybS0taG9yaXpvbnRhbCB7IGZvbnQtc2l6ZTogMTUuNXB4OyBkaXNwbGF5OiBncmlkICFpbXBvcnRhbnQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyByb3ctZ2FwOiA4cHggIWltcG9ydGFudDsgY29sdW1uLWdhcDogMCAhaW1wb3J0YW50OyBnYXA6IDhweCAhaW1wb3J0YW50OyB9XHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5hc3NldC1mb3JtLmFzc2V0LWZvcm0tLWhvcml6b250YWwgLmZvcm0tZ3JvdXAgeyBkaXNwbGF5OiBncmlkICFpbXBvcnRhbnQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogNjRweCAxZnI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGNvbHVtbi1nYXA6IDhweDsgcm93LWdhcDogMDsgbWFyZ2luOiAwICFpbXBvcnRhbnQ7IHBhZGRpbmc6IDAgIWltcG9ydGFudDsgfVxyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuYXNzZXQtZm9ybS5hc3NldC1mb3JtLS1ob3Jpem9udGFsIGxhYmVsIHsgbWluLXdpZHRoOiA2NHB4OyBtYXJnaW46IDA7IHRleHQtYWxpZ246IHJpZ2h0OyBqdXN0aWZ5LXNlbGY6IGVuZDsgfVxyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuYXNzZXQtZm9ybS5hc3NldC1mb3JtLS1ob3Jpem9udGFsIC5mb3JtLWZpZWxkIHsgd2lkdGg6IDEwMCU7IG1hcmdpbjogMCAhaW1wb3J0YW50OyBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7IH1cclxuXHRcdFx0LyogXHU1MzhCXHU3RjI5XHU4RjkzXHU1MTY1XHU2M0E3XHU0RUY2XHU5QUQ4XHU1RUE2XHU0RTBFXHU1MTg1XHU4RkI5XHU4REREICovXHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5hc3NldC1mb3JtLmFzc2V0LWZvcm0tLWhvcml6b250YWwgaW5wdXRbdHlwZT1cInRleHRcIl0sXHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5hc3NldC1mb3JtLmFzc2V0LWZvcm0tLWhvcml6b250YWwgaW5wdXRbdHlwZT1cIm51bWJlclwiXSB7IGhlaWdodDogMzJweDsgcGFkZGluZzogNHB4IDEwcHg7IGZvbnQtc2l6ZTogMTUuNXB4OyBsaW5lLWhlaWdodDogMS40NTsgfVxyXG5cdFx0XHQvKiBcdTY4MDdcdTdCN0VcdThGOTNcdTUxNjVcdTRFMEUgY2hpcCBcdTY2RjRcdTdEMjdcdTUxRDEgKi9cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmFzc2V0LWZvcm0uYXNzZXQtZm9ybS0taG9yaXpvbnRhbCAudGFncy1pbnB1dCB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtd3JhcDogd3JhcDsgZ2FwOiA0cHg7IH1cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmFzc2V0LWZvcm0uYXNzZXQtZm9ybS0taG9yaXpvbnRhbCAudGFnLWNoaXAgeyBmb250LXNpemU6IDEycHg7IGhlaWdodDogMThweDsgbGluZS1oZWlnaHQ6IDE4cHg7IHBhZGRpbmc6IDAgNnB4OyBib3JkZXItcmFkaXVzOiA0cHg7IH1cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmFzc2V0LWZvcm0uYXNzZXQtZm9ybS0taG9yaXpvbnRhbCAudGFnLWNoaXAgLnJlbW92ZSB7IHdpZHRoOiAxNnB4OyBoZWlnaHQ6IDE2cHg7IGxpbmUtaGVpZ2h0OiAxNnB4OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi1sZWZ0OiA0cHg7IH1cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmFzc2V0LWZvcm0uYXNzZXQtZm9ybS0taG9yaXpvbnRhbCAudGFncy1pbnB1dCBpbnB1dCB7IGZsZXg6IDE7IG1pbi13aWR0aDogMTIwcHg7IGhlaWdodDogMjhweDsgcGFkZGluZzogNHB4IDEwcHg7IGZvbnQtc2l6ZTogMTQuNXB4OyB9XHJcblxyXG5cdFx0XHQvKiBcdTVGQzVcdTU4NkJcdTRFMEVcdTk1MTlcdThCRUZcdTY4MzdcdTVGMEYgKi9cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmxhYmVsLXJlcXVpcmVkOjphZnRlciB7IGNvbnRlbnQ6ICcgKic7IGNvbG9yOiAjZmY0ZDRmOyBtYXJnaW4tbGVmdDogMnB4OyB9XHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5mb3JtLWdyb3VwLmhhcy1lcnJvciBpbnB1dFt0eXBlPVwidGV4dFwiXSxcclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmZvcm0tZ3JvdXAuaGFzLWVycm9yIGlucHV0W3R5cGU9XCJudW1iZXJcIl0geyBib3JkZXItY29sb3I6ICNmZjRkNGYgIWltcG9ydGFudDsgYm94LXNoYWRvdzogMCAwIDAgMXB4ICNmZjRkNGYgaW5zZXQ7IH1cclxuXHRcdFx0LmRhdGUtcGlja2VyLW1vZGFsLmFzc2V0LWZvcm0tbW9kYWwgLmZpZWxkLWVycm9yIHsgbWFyZ2luLXRvcDogNHB4OyBjb2xvcjogI2ZmODU4NzsgZm9udC1zaXplOiAxMnB4OyBsaW5lLWhlaWdodDogMS4zOyB9XHJcblx0XHRcdC5kYXRlLXBpY2tlci1tb2RhbC5hc3NldC1mb3JtLW1vZGFsIC5maWVsZC1lcnJvcjplbXB0eSB7IGRpc3BsYXk6IG5vbmU7IG1hcmdpbi10b3A6IDA7IH1cclxuXHJcblx0XHRcdC8qIFx1NjRDRFx1NEY1Q1x1NjMwOVx1OTRBRVx1NTMzQVx1NjZGNFx1N0QyN1x1NTFEMSAqL1xyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuZm9ybS1hY3Rpb25zIHsgbWFyZ2luLXRvcDogMTJweDsgZ2FwOiAxNnB4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgfVxyXG5cdFx0XHQuZGF0ZS1waWNrZXItbW9kYWwuYXNzZXQtZm9ybS1tb2RhbCAuZm9ybS1idG4geyBoZWlnaHQ6IDM0cHg7IHBhZGRpbmc6IDAgMTRweDsgZm9udC1zaXplOiAxNHB4OyB9XHJcblx0XHRgO1xyXG5cdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFwcGx5Um93TGF5b3V0KGdyb3VwOiBIVE1MRWxlbWVudCkge1xyXG5cdFx0Z3JvdXAuc3R5bGUuZGlzcGxheSA9ICdncmlkJztcclxuXHRcdChncm91cC5zdHlsZSBhcyBhbnkpLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSAnNzJweCAxZnInO1xyXG5cdFx0Z3JvdXAuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xyXG5cdFx0Z3JvdXAuc3R5bGUuY29sdW1uR2FwID0gJzhweCc7XHJcblx0XHRncm91cC5zdHlsZS5yb3dHYXAgPSAnMHB4JztcclxuXHRcdGdyb3VwLnN0eWxlLm1hcmdpbiA9ICcwJztcclxuXHRcdGNvbnN0IGxhYmVsID0gZ3JvdXAucXVlcnlTZWxlY3RvcignbGFiZWwnKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XHJcblx0XHRpZiAobGFiZWwpIHtcclxuXHRcdFx0bGFiZWwuc3R5bGUubWluV2lkdGggPSAnNzJweCc7XHJcblx0XHRcdGxhYmVsLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuXHRcdFx0bGFiZWwuc3R5bGUubWFyZ2luID0gJzAnO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgZmllbGQgPSBncm91cC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1maWVsZCcpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHRcdGlmIChmaWVsZCkge1xyXG5cdFx0XHRmaWVsZC5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNsb3NlKCkge1xyXG5cdFx0aWYgKHRoaXMubWFza0VsICYmIHRoaXMubWFza0VsLnBhcmVudEVsZW1lbnQpIHtcclxuXHRcdFx0dGhpcy5tYXNrRWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLm1hc2tFbCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLm1hc2tFbCA9IHVuZGVmaW5lZDtcclxuXHRcdHRoaXMubW9kYWxFbCA9IHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZm9ybWF0RGF0ZUxvY2FsKGRhdGU6IERhdGUpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgZCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xyXG5cdFx0cmV0dXJuIGQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xyXG5cdH1cclxuXHJcblx0Ly8gXHUyMDE0XHUyMDE0IFx1OTFEMVx1OTg5RFx1NUI1N1x1N0IyNlx1NEUzMlx1NTkwNFx1NzQwNlx1RkYwOFx1NjIxMFx1NzE5Rlx1OTAzQlx1OEY5MVx1RkYwOVx1MjAxNFx1MjAxNFxyXG5cdHByaXZhdGUgc2FuaXRpemVOdW1lcmljU3RyaW5nKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0bGV0IHYgPSAodmFsdWUgfHwgJycpLnJlcGxhY2UoL1teXFxkLl0vZywgJycpOyAvLyBcdTRFQzVcdTY1NzBcdTVCNTdcdTU0OENcdTcwQjlcclxuXHRcdHYgPSB2LnJlcGxhY2UoL15cXC4vLCAnJyk7IC8vIFx1NTNCQlx1OTY2NFx1NUYwMFx1NTkzNFx1NzY4NFx1NzBCOVxyXG5cdFx0diA9IHYucmVwbGFjZSgvXFwuKD89LipcXC4pL2csICcnKTsgLy8gXHU1M0VBXHU0RkREXHU3NTU5XHU0RTAwXHU0RTJBXHU3MEI5XHJcblx0XHRyZXR1cm4gdjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY2xhbXBUd29EZWNpbWFsc1N0cmluZyh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IG0gPSAodmFsdWUgfHwgJycpLm1hdGNoKC9eKFxcZCspKD86XFwuKFxcZCopKT8kLyk7XHJcblx0XHRpZiAoIW0pIHJldHVybiAnJztcclxuXHRcdGNvbnN0IGludFBhcnQgPSBtWzFdO1xyXG5cdFx0Y29uc3QgZGVjUGFydCA9IChtWzJdIHx8ICcnKS5zbGljZSgwLCAyKTtcclxuXHRcdHJldHVybiBkZWNQYXJ0ID8gYCR7aW50UGFydH0uJHtkZWNQYXJ0fWAgOiBpbnRQYXJ0O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwYXJzZU1vbmV5KHZhbHVlOiBzdHJpbmcpOiBudW1iZXIgfCBudWxsIHtcclxuXHRcdGNvbnN0IHNhbml0aXplZCA9IHRoaXMuc2FuaXRpemVOdW1lcmljU3RyaW5nKHZhbHVlKTtcclxuXHRcdGNvbnN0IGNsYW1wZWQgPSB0aGlzLmNsYW1wVHdvRGVjaW1hbHNTdHJpbmcoc2FuaXRpemVkKTtcclxuXHRcdGlmIChjbGFtcGVkID09PSAnJykgcmV0dXJuIG51bGw7XHJcblx0XHRjb25zdCBudW0gPSBOdW1iZXIoY2xhbXBlZCk7XHJcblx0XHRyZXR1cm4gTnVtYmVyLmlzRmluaXRlKG51bSkgJiYgbnVtID49IDAgPyBudW0gOiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gXHU0RTBFIGNvc3RzZXRhcHAgXHU1QkY5XHU5RjUwXHVGRjFBXHU3NTI4IHN1cnJvZ2F0ZSBwYWlyIFx1NTMzOVx1OTE0RFx1ODNCN1x1NTNENlx1N0IyQ1x1NEUwMFx1NEUyQSBlbW9qaVxyXG5cdHByaXZhdGUgZ2V0Rmlyc3RFbW9qaUdyYXBoZW1lKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgZW1vamlSZWdleCA9IC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdLzsgLy8gY29zdHNldGFwcCBcdTU0MENcdTZCM0VcdTVCOUVcdTczQjBcclxuXHRcdGNvbnN0IG0gPSAoaW5wdXQgfHwgJycpLm1hdGNoKGVtb2ppUmVnZXgpO1xyXG5cdFx0cmV0dXJuIG0gPyBtWzBdIDogJyc7XHJcblx0fVxyXG5cclxuXHQvLyBcdTVGMzlcdTUxRkFcdTY1RTVcdTY3MUZcdTkwMDlcdTYyRTlcdTU2NjhcdUZGMDhcdTU5MERcdTc1MjhcdTY1RTVcdTY3MUYvXHU2ODA3XHU3QjdFXHU1RjM5XHU3QTk3XHU5OENFXHU2ODNDXHVGRjA5XHJcblx0cHJpdmF0ZSBvcGVuRGF0ZVBpY2tlcihjdXJyZW50RGF0ZTogRGF0ZSwgb25Db25maXJtOiAocGlja2VkOiBEYXRlKSA9PiB2b2lkKSB7XHJcblx0XHQvLyBcdTUyMUJcdTVFRkFcdTkwNkVcdTdGNjlcdTVDNDJcclxuXHRcdGNvbnN0IG1hc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdG1hc2suY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLW1hc2snO1xyXG5cclxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjVFNVx1NjcxRlx1OTAwOVx1NjJFOVx1NTY2OFx1NUYzOVx1N0E5N1xyXG5cdFx0Y29uc3QgcGlja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRwaWNrZXIuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLW1vZGFsJztcclxuXHJcblx0XHQvLyBcdTUyMUJcdTVFRkFcdTY1RTVcdTY3MUZcdTkwMDlcdTYyRTlcdTU2NjhcdTUxODVcdTVCQjlcclxuXHRcdGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdGNvbnRlbnQuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWNvbnRlbnQnO1xyXG5cclxuXHRcdC8vIFx1NjgwN1x1OTg5OFxyXG5cdFx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHRpdGxlLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci10aXRsZSc7XHJcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9IHQoJ2RhdGUucGljaycpO1xyXG5cclxuXHRcdC8vIFx1NEUwOVx1NTIxN1x1NkVEQVx1OEY2RVxyXG5cdFx0Y29uc3Qgd2hlZWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHdoZWVsQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdkYXRlLXdoZWVsLWNvbnRhaW5lcic7XHJcblxyXG5cdFx0Y29uc3QgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG5cdFx0Y29uc3QgY3VycmVudE1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKSArIDE7XHJcblx0XHRjb25zdCBjdXJyZW50RGF5ID0gY3VycmVudERhdGUuZ2V0RGF0ZSgpO1xyXG5cclxuXHRcdGNvbnN0IHllYXJDb2x1bW4gPSB0aGlzLmNyZWF0ZVdoZWVsQ29sdW1uKHQoJ2RhdGUueWVhcicpLCB0aGlzLmdlbmVyYXRlWWVhcnMoY3VycmVudFllYXIpLCBjdXJyZW50WWVhciwgKHllYXIpID0+IHtcclxuXHRcdFx0dGhpcy51cGRhdGVEYXlzQ29sdW1uKGRheUNvbHVtbiwgeWVhciwgbW9udGhDb2x1bW4uc2VsZWN0ZWRWYWx1ZSk7XHJcblx0XHR9LCBmYWxzZSk7XHJcblx0XHRjb25zdCBtb250aENvbHVtbiA9IHRoaXMuY3JlYXRlV2hlZWxDb2x1bW4odCgnZGF0ZS5tb250aCcpLCB0aGlzLmdlbmVyYXRlTW9udGhzKCksIGN1cnJlbnRNb250aCwgKG1vbnRoKSA9PiB7XHJcblx0XHRcdHRoaXMudXBkYXRlRGF5c0NvbHVtbihkYXlDb2x1bW4sIHllYXJDb2x1bW4uc2VsZWN0ZWRWYWx1ZSwgbW9udGgpO1xyXG5cdFx0fSwgdHJ1ZSk7XHJcblx0XHRjb25zdCBkYXlDb2x1bW4gPSB0aGlzLmNyZWF0ZVdoZWVsQ29sdW1uKHQoJ2RhdGUuZGF5JyksIHRoaXMuZ2VuZXJhdGVEYXlzKGN1cnJlbnRZZWFyLCBjdXJyZW50TW9udGgpLCBjdXJyZW50RGF5LCB1bmRlZmluZWQsIHRydWUpO1xyXG5cclxuXHRcdHdoZWVsQ29udGFpbmVyLmFwcGVuZENoaWxkKHllYXJDb2x1bW4uZWxlbWVudCk7XHJcblx0XHR3aGVlbENvbnRhaW5lci5hcHBlbmRDaGlsZChtb250aENvbHVtbi5lbGVtZW50KTtcclxuXHRcdHdoZWVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGRheUNvbHVtbi5lbGVtZW50KTtcclxuXHJcblx0XHQvLyBcdTYzMDlcdTk0QUVcclxuXHRcdGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdGFjdGlvbnMuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWFjdGlvbnMnO1xyXG5cdFx0Y29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRjYW5jZWxCdG4uY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWJ0biBkYXRlLXBpY2tlci1idG4tY2FuY2VsJztcclxuXHRcdGNhbmNlbEJ0bi50ZXh0Q29udGVudCA9IHQoJ2NvbW1vbi5jYW5jZWwnKTtcclxuXHRcdGNvbnN0IGNvbmZpcm1CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdGNvbmZpcm1CdG4uY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWJ0biBkYXRlLXBpY2tlci1idG4tY29uZmlybSc7XHJcblx0XHRjb25maXJtQnRuLnRleHRDb250ZW50ID0gdCgnY29tbW9uLmNvbmZpcm0nKTtcclxuXHJcblx0XHRhY3Rpb25zLmFwcGVuZENoaWxkKGNhbmNlbEJ0bik7XHJcblx0XHRhY3Rpb25zLmFwcGVuZENoaWxkKGNvbmZpcm1CdG4pO1xyXG5cdFx0Y29udGVudC5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblx0XHRjb250ZW50LmFwcGVuZENoaWxkKHdoZWVsQ29udGFpbmVyKTtcclxuXHRcdGNvbnRlbnQuYXBwZW5kQ2hpbGQoYWN0aW9ucyk7XHJcblx0XHRwaWNrZXIuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcblx0XHRtYXNrLmFwcGVuZENoaWxkKHBpY2tlcik7XHJcblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1hc2spO1xyXG5cclxuXHRcdGNvbnN0IGNsb3NlUGlja2VyID0gKCkgPT4geyBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1hc2spOyB9O1xyXG5cdFx0bWFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7IGlmIChlLnRhcmdldCA9PT0gbWFzaykgY2xvc2VQaWNrZXIoKTsgfSk7XHJcblx0XHRjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBpY2tlcik7XHJcblx0XHRjb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB5ZWFyID0geWVhckNvbHVtbi5zZWxlY3RlZFZhbHVlO1xyXG5cdFx0XHRjb25zdCBtb250aCA9IG1vbnRoQ29sdW1uLnNlbGVjdGVkVmFsdWU7XHJcblx0XHRcdGNvbnN0IGRheSA9IGRheUNvbHVtbi5zZWxlY3RlZFZhbHVlO1xyXG5cdFx0XHRjb25zdCBwaWNrZWQgPSBuZXcgRGF0ZShgJHt5ZWFyfS0ke21vbnRoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0tJHtkYXkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWApO1xyXG5cdFx0XHRvbkNvbmZpcm0ocGlja2VkKTtcclxuXHRcdFx0Y2xvc2VQaWNrZXIoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZW5lcmF0ZVllYXJzKGN1cnJlbnRZZWFyOiBudW1iZXIpOiBudW1iZXJbXSB7XHJcblx0XHRjb25zdCBtaW5ZZWFyID0gMTkwMDtcclxuXHRcdGNvbnN0IG5vd1llYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XHJcblx0XHRjb25zdCBtYXhZZWFyID0gbm93WWVhciArIDc7XHJcblx0XHRjb25zdCB5ZWFyczogbnVtYmVyW10gPSBbXTtcclxuXHRcdGZvciAobGV0IGkgPSBtaW5ZZWFyOyBpIDw9IG1heFllYXI7IGkrKykgeWVhcnMucHVzaChpKTtcclxuXHRcdHJldHVybiB5ZWFycztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2VuZXJhdGVNb250aHMoKTogbnVtYmVyW10ge1xyXG5cdFx0cmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IDEyIH0sIChfLCBpKSA9PiBpICsgMSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdlbmVyYXRlRGF5cyh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpOiBudW1iZXJbXSB7XHJcblx0XHRjb25zdCBkYXlzSW5Nb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAwKS5nZXREYXRlKCk7XHJcblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogZGF5c0luTW9udGggfSwgKF8sIGkpID0+IGkgKyAxKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlV2hlZWxDb2x1bW4oc3VmZml4OiBzdHJpbmcsIHZhbHVlczogbnVtYmVyW10sIHNlbGVjdGVkVmFsdWU6IG51bWJlciwgb25DaGFuZ2U/OiAodmFsdWU6IG51bWJlcikgPT4gdm9pZCwgaXNJbmZpbml0ZTogYm9vbGVhbiA9IGZhbHNlKTogeyBlbGVtZW50OiBIVE1MRWxlbWVudCwgc2VsZWN0ZWRWYWx1ZTogbnVtYmVyIH0ge1xyXG5cdFx0Y29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRjb2x1bW4uY2xhc3NOYW1lID0gJ2RhdGUtd2hlZWwtY29sdW1uJztcclxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0Y29udGFpbmVyLmNsYXNzTmFtZSA9ICdkYXRlLXdoZWVsLWl0ZW1zJztcclxuXHJcblx0XHRsZXQgc2VsZWN0ZWRJbmRleCA9IHZhbHVlcy5pbmRleE9mKHNlbGVjdGVkVmFsdWUpO1xyXG5cdFx0bGV0IGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHRcdGNvbnN0IGFwaSA9IHsgZWxlbWVudDogY29sdW1uLCBzZWxlY3RlZFZhbHVlOiBjdXJyZW50U2VsZWN0ZWRWYWx1ZSB9O1xyXG5cdFx0Y29uc3QgaXRlbUhlaWdodCA9IDQwO1xyXG5cclxuXHRcdGlmIChpc0luZmluaXRlKSB7XHJcblx0XHRcdGNvbnN0IHJlcGVhdENvdW50ID0gNTtcclxuXHRcdFx0Y29uc3QgdG90YWxJdGVtcyA9IHZhbHVlcy5sZW5ndGggKiByZXBlYXRDb3VudDtcclxuXHRcdFx0Y29uc3QgbWlkZGxlR3JvdXBJbmRleCA9IDI7XHJcblx0XHRcdGNvbnN0IGluaXRpYWxTY3JvbGxUb3AgPSBtaWRkbGVHcm91cEluZGV4ICogdmFsdWVzLmxlbmd0aCAqIGl0ZW1IZWlnaHQgKyBzZWxlY3RlZEluZGV4ICogaXRlbUhlaWdodDtcclxuXHRcdFx0Zm9yIChsZXQgcmVwZWF0ID0gMDsgcmVwZWF0IDwgcmVwZWF0Q291bnQ7IHJlcGVhdCsrKSB7XHJcblx0XHRcdFx0dmFsdWVzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnZGF0ZS13aGVlbC1pdGVtJztcclxuXHRcdFx0XHRcdGl0ZW0udGV4dENvbnRlbnQgPSBgJHt2YWx1ZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9JHtzdWZmaXh9YDtcclxuXHRcdFx0XHRcdGl0ZW0uZGF0YXNldC52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0XHRpdGVtLmRhdGFzZXQuaW5kZXggPSAocmVwZWF0ICogdmFsdWVzLmxlbmd0aCArIGluZGV4KS50b1N0cmluZygpO1xyXG5cdFx0XHRcdFx0aXRlbS5kYXRhc2V0LnJlYWxWYWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3RvdGFsSXRlbXMgKiBpdGVtSGVpZ2h0fXB4YDtcclxuXHRcdFx0Y29uc3QgaW5pdGlhbEl0ZW1JbmRleCA9IG1pZGRsZUdyb3VwSW5kZXggKiB2YWx1ZXMubGVuZ3RoICsgc2VsZWN0ZWRJbmRleDtcclxuXHRcdFx0Y29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS13aGVlbC1pdGVtJykpIGFzIEhUTUxFbGVtZW50W107XHJcblx0XHRcdGlmIChpdGVtc1tpbml0aWFsSXRlbUluZGV4XSkge1xyXG5cdFx0XHRcdGl0ZW1zLmZvckVhY2goKGVsLCBpZHgpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaWR4ID09PSBpbml0aWFsSXRlbUluZGV4KSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuXHRcdFx0XHRjb250YWluZXIuc2Nyb2xsVG9wID0gaW5pdGlhbFNjcm9sbFRvcDtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGxldCBpc1Njcm9sbGluZyA9IGZhbHNlO1xyXG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChpc1Njcm9sbGluZykgcmV0dXJuO1xyXG5cdFx0XHRcdGNvbnN0IHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudEluZGV4ID0gTWF0aC5yb3VuZChzY3JvbGxUb3AgLyBpdGVtSGVpZ2h0KTtcclxuXHRcdFx0XHRjb25zdCByZWFsSW5kZXggPSAoKGN1cnJlbnRJbmRleCAlIHZhbHVlcy5sZW5ndGgpICsgdmFsdWVzLmxlbmd0aCkgJSB2YWx1ZXMubGVuZ3RoO1xyXG5cdFx0XHRcdGNvbnN0IHJlYWxWYWx1ZSA9IHZhbHVlc1tyZWFsSW5kZXhdO1xyXG5cdFx0XHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS13aGVlbC1pdGVtJykuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGl0ZW1SZWFsSW5kZXggPSBpbmRleCAlIHZhbHVlcy5sZW5ndGg7XHJcblx0XHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaXRlbVJlYWxJbmRleCA9PT0gcmVhbEluZGV4KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRzZWxlY3RlZEluZGV4ID0gcmVhbEluZGV4O1xyXG5cdFx0XHRcdGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gcmVhbFZhbHVlO1xyXG5cdFx0XHRcdChhcGkgYXMgYW55KS5zZWxlY3RlZFZhbHVlID0gcmVhbFZhbHVlO1xyXG5cdFx0XHRcdGlmIChvbkNoYW5nZSkgb25DaGFuZ2UoY3VycmVudFNlbGVjdGVkVmFsdWUpO1xyXG5cdFx0XHRcdGNvbnN0IG1heFNjcm9sbFRvcCA9IChyZXBlYXRDb3VudCAtIDEpICogdmFsdWVzLmxlbmd0aCAqIGl0ZW1IZWlnaHQ7XHJcblx0XHRcdFx0aWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGxUb3ApIHtcclxuXHRcdFx0XHRcdGlzU2Nyb2xsaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGNvbnN0IG9mZnNldCA9IHNjcm9sbFRvcCAtIG1heFNjcm9sbFRvcDtcclxuXHRcdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSB2YWx1ZXMubGVuZ3RoICogaXRlbUhlaWdodCArIG9mZnNldDtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBpc1Njcm9sbGluZyA9IGZhbHNlOyB9LCA1MCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChzY3JvbGxUb3AgPD0gMCkge1xyXG5cdFx0XHRcdFx0aXNTY3JvbGxpbmcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0Y29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wO1xyXG5cdFx0XHRcdFx0Y29udGFpbmVyLnNjcm9sbFRvcCA9IChyZXBlYXRDb3VudCAtIDIpICogdmFsdWVzLmxlbmd0aCAqIGl0ZW1IZWlnaHQgKyBvZmZzZXQ7XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHsgaXNTY3JvbGxpbmcgPSBmYWxzZTsgfSwgNTApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBcdTUxNDFcdThCQjhcdTc2RjRcdTYzQTVcdTcwQjlcdTUxRkJcdTkwMDlcdTYyRTlcclxuXHRcdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRcdGNvbnN0IGl0ZW1FbCA9IHRhcmdldCAmJiB0YXJnZXQuY2xvc2VzdCA/ICh0YXJnZXQuY2xvc2VzdCgnLmRhdGUtd2hlZWwtaXRlbScpIGFzIEhUTUxFbGVtZW50IHwgbnVsbCkgOiBudWxsO1xyXG5cdFx0XHRcdGlmICghaXRlbUVsKSByZXR1cm47XHJcblx0XHRcdFx0Y29uc3QgY2xpY2tlZEluZGV4ID0gTnVtYmVyKGl0ZW1FbC5kYXRhc2V0LmluZGV4IHx8ICcwJyk7XHJcblx0XHRcdFx0Y29uc3QgcmVhbEluZGV4ID0gKChjbGlja2VkSW5kZXggJSB2YWx1ZXMubGVuZ3RoKSArIHZhbHVlcy5sZW5ndGgpICUgdmFsdWVzLmxlbmd0aDtcclxuXHRcdFx0XHRjb25zdCBtaWRkbGVJbmRleCA9IG1pZGRsZUdyb3VwSW5kZXggKiB2YWx1ZXMubGVuZ3RoICsgcmVhbEluZGV4O1xyXG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBtaWRkbGVJbmRleCAqIGl0ZW1IZWlnaHQ7XHJcblx0XHRcdFx0c2VsZWN0ZWRJbmRleCA9IHJlYWxJbmRleDtcclxuXHRcdFx0XHRjdXJyZW50U2VsZWN0ZWRWYWx1ZSA9IHZhbHVlc1tyZWFsSW5kZXhdO1xyXG5cdFx0XHRcdChhcGkgYXMgYW55KS5zZWxlY3RlZFZhbHVlID0gY3VycmVudFNlbGVjdGVkVmFsdWU7XHJcblx0XHRcdFx0aWYgKG9uQ2hhbmdlKSBvbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRWYWx1ZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFsdWVzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRpdGVtLmNsYXNzTmFtZSA9ICdkYXRlLXdoZWVsLWl0ZW0nO1xyXG5cdFx0XHRcdGl0ZW0udGV4dENvbnRlbnQgPSBgJHt2YWx1ZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9JHtzdWZmaXh9YDtcclxuXHRcdFx0XHRpdGVtLmRhdGFzZXQudmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xyXG5cdFx0XHRcdGl0ZW0uZGF0YXNldC5pbmRleCA9IGluZGV4LnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0aWYgKHZhbHVlID09PSBjdXJyZW50U2VsZWN0ZWRWYWx1ZSkgaXRlbS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG5cdFx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChpdGVtKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcclxuXHRcdFx0XHRjb25zdCBuZXdJbmRleCA9IE1hdGgucm91bmQoc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCk7XHJcblx0XHRcdFx0aWYgKG5ld0luZGV4ICE9PSBzZWxlY3RlZEluZGV4ICYmIG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCB2YWx1ZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnLCBpbmRleCA9PT0gbmV3SW5kZXgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRzZWxlY3RlZEluZGV4ID0gbmV3SW5kZXg7XHJcblx0XHRcdFx0XHRjdXJyZW50U2VsZWN0ZWRWYWx1ZSA9IHZhbHVlc1tuZXdJbmRleF07XHJcblx0XHRcdFx0XHQoYXBpIGFzIGFueSkuc2VsZWN0ZWRWYWx1ZSA9IGN1cnJlbnRTZWxlY3RlZFZhbHVlO1xyXG5cdFx0XHRcdFx0aWYgKG9uQ2hhbmdlKSBvbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRWYWx1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly8gXHU1MTQxXHU4QkI4XHU3NkY0XHU2M0E1XHU3MEI5XHU1MUZCXHU5MDA5XHU2MkU5XHJcblx0XHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRjb25zdCBpdGVtRWwgPSB0YXJnZXQgJiYgdGFyZ2V0LmNsb3Nlc3QgPyAodGFyZ2V0LmNsb3Nlc3QoJy5kYXRlLXdoZWVsLWl0ZW0nKSBhcyBIVE1MRWxlbWVudCB8IG51bGwpIDogbnVsbDtcclxuXHRcdFx0XHRpZiAoIWl0ZW1FbCkgcmV0dXJuO1xyXG5cdFx0XHRcdGNvbnN0IGlkeCA9IE51bWJlcihpdGVtRWwuZGF0YXNldC5pbmRleCB8fCAnMCcpO1xyXG5cdFx0XHRcdC8vIFx1N0FDQlx1NTM3M1x1NjZGNFx1NjVCMFx1OTAwOVx1NEUyRFx1NjgzN1x1NUYwRlxyXG5cdFx0XHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS13aGVlbC1pdGVtJykuZm9yRWFjaCgoZWwsIGkpID0+IHtcclxuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaSA9PT0gaWR4KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRjb250YWluZXIuc2Nyb2xsVG9wID0gaWR4ICogaXRlbUhlaWdodDtcclxuXHRcdFx0XHRzZWxlY3RlZEluZGV4ID0gaWR4O1xyXG5cdFx0XHRcdGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gdmFsdWVzW2lkeF07XHJcblx0XHRcdFx0KGFwaSBhcyBhbnkpLnNlbGVjdGVkVmFsdWUgPSBjdXJyZW50U2VsZWN0ZWRWYWx1ZTtcclxuXHRcdFx0XHRpZiAob25DaGFuZ2UpIG9uQ2hhbmdlKGN1cnJlbnRTZWxlY3RlZFZhbHVlKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBjb250YWluZXIuc2Nyb2xsVG9wID0gc2VsZWN0ZWRJbmRleCAqIGl0ZW1IZWlnaHQ7IH0sIDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbHVtbi5hcHBlbmRDaGlsZChjb250YWluZXIpO1xyXG5cdFx0cmV0dXJuIGFwaSBhcyBhbnk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZURheXNDb2x1bW4oZGF5Q29sdW1uOiB7IGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzZWxlY3RlZFZhbHVlOiBudW1iZXIgfSwgeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKTogdm9pZCB7XHJcblx0XHRjb25zdCBjb250YWluZXIgPSBkYXlDb2x1bW4uZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZS13aGVlbC1pdGVtcycpIGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0Y29uc3QgY3VycmVudERheSA9IGRheUNvbHVtbi5zZWxlY3RlZFZhbHVlO1xyXG5cdFx0Y29uc3QgbmV3RGF5cyA9IHRoaXMuZ2VuZXJhdGVEYXlzKHllYXIsIG1vbnRoKTtcclxuXHRcdGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuXHRcdGNvbnN0IHJlcGVhdENvdW50ID0gNTtcclxuXHRcdGNvbnN0IGl0ZW1IZWlnaHQgPSA0MDtcclxuXHRcdGNvbnN0IG1pZGRsZUdyb3VwSW5kZXggPSAyO1xyXG5cdFx0Y29uc3QgbWF4RGF5ID0gTWF0aC5tYXgoLi4ubmV3RGF5cyk7XHJcblx0XHRjb25zdCBzZWxlY3RlZERheSA9IE1hdGgubWluKGN1cnJlbnREYXksIG1heERheSk7XHJcblx0XHRjb25zdCBzZWxlY3RlZEluZGV4ID0gbmV3RGF5cy5pbmRleE9mKHNlbGVjdGVkRGF5KTtcclxuXHRcdGZvciAobGV0IHJlcGVhdCA9IDA7IHJlcGVhdCA8IHJlcGVhdENvdW50OyByZXBlYXQrKykge1xyXG5cdFx0XHRuZXdEYXlzLmZvckVhY2goKGRheSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnZGF0ZS13aGVlbC1pdGVtJztcclxuXHRcdFx0XHRpdGVtLnRleHRDb250ZW50ID0gYCR7ZGF5LnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0ke3QoJ2RhdGUuZGF5Jyl9YDtcclxuXHRcdFx0XHRpdGVtLmRhdGFzZXQudmFsdWUgPSBkYXkudG9TdHJpbmcoKTtcclxuXHRcdFx0XHRpdGVtLmRhdGFzZXQuaW5kZXggPSAocmVwZWF0ICogbmV3RGF5cy5sZW5ndGggKyBpbmRleCkudG9TdHJpbmcoKTtcclxuXHRcdFx0XHRpdGVtLmRhdGFzZXQucmVhbFZhbHVlID0gZGF5LnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtuZXdEYXlzLmxlbmd0aCAqIHJlcGVhdENvdW50ICogaXRlbUhlaWdodH1weGA7XHJcblx0XHRjb25zdCBpbml0aWFsSXRlbUluZGV4RGF5ID0gbWlkZGxlR3JvdXBJbmRleCAqIG5ld0RheXMubGVuZ3RoICsgc2VsZWN0ZWRJbmRleDtcclxuXHRcdGNvbnN0IGRheUl0ZW1zID0gQXJyYXkuZnJvbShjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpKSBhcyBIVE1MRWxlbWVudFtdO1xyXG5cdFx0aWYgKGRheUl0ZW1zW2luaXRpYWxJdGVtSW5kZXhEYXldKSB7XHJcblx0XHRcdGRheUl0ZW1zLmZvckVhY2goKGVsLCBpZHgpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaWR4ID09PSBpbml0aWFsSXRlbUluZGV4RGF5KSk7XHJcblx0XHR9XHJcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4geyBjb250YWluZXIuc2Nyb2xsVG9wID0gbWlkZGxlR3JvdXBJbmRleCAqIG5ld0RheXMubGVuZ3RoICogaXRlbUhlaWdodCArIHNlbGVjdGVkSW5kZXggKiBpdGVtSGVpZ2h0OyB9KTtcclxuXHRcdGxldCBpc1Njcm9sbGluZyA9IGZhbHNlO1xyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcclxuXHRcdFx0aWYgKGlzU2Nyb2xsaW5nKSByZXR1cm47XHJcblx0XHRcdGNvbnN0IHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IE1hdGgucm91bmQoc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCk7XHJcblx0XHRcdGNvbnN0IHJlYWxJbmRleCA9IGN1cnJlbnRJbmRleCAlIG5ld0RheXMubGVuZ3RoO1xyXG5cdFx0XHRjb25zdCByZWFsVmFsdWUgPSBuZXdEYXlzW3JlYWxJbmRleF07XHJcblx0XHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS13aGVlbC1pdGVtJykuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBpdGVtUmVhbEluZGV4ID0gaW5kZXggJSBuZXdEYXlzLmxlbmd0aDtcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaXRlbVJlYWxJbmRleCA9PT0gcmVhbEluZGV4KTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdChkYXlDb2x1bW4gYXMgYW55KS5zZWxlY3RlZFZhbHVlID0gcmVhbFZhbHVlO1xyXG5cdFx0XHRjb25zdCBtYXhTY3JvbGxUb3AgPSAocmVwZWF0Q291bnQgLSAxKSAqIG5ld0RheXMubGVuZ3RoICogaXRlbUhlaWdodDtcclxuXHRcdFx0aWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGxUb3ApIHtcclxuXHRcdFx0XHRpc1Njcm9sbGluZyA9IHRydWU7XHJcblx0XHRcdFx0Y29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wIC0gbWF4U2Nyb2xsVG9wO1xyXG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBuZXdEYXlzLmxlbmd0aCAqIGl0ZW1IZWlnaHQgKyBvZmZzZXQ7XHJcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7IGlzU2Nyb2xsaW5nID0gZmFsc2U7IH0sIDUwKTtcclxuXHRcdFx0fSBlbHNlIGlmIChzY3JvbGxUb3AgPD0gMCkge1xyXG5cdFx0XHRcdGlzU2Nyb2xsaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHRjb25zdCBvZmZzZXQgPSBzY3JvbGxUb3A7XHJcblx0XHRcdFx0Y29udGFpbmVyLnNjcm9sbFRvcCA9IChyZXBlYXRDb3VudCAtIDIpICogbmV3RGF5cy5sZW5ndGggKiBpdGVtSGVpZ2h0ICsgb2Zmc2V0O1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBpc1Njcm9sbGluZyA9IGZhbHNlOyB9LCA1MCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1NTE0MVx1OEJCOFx1NzZGNFx1NjNBNVx1NzBCOVx1NTFGQlx1OTAwOVx1NjJFOVx1NjdEMFx1NEUwMFx1NTkyOVxyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XHJcblx0XHRcdGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0Y29uc3QgaXRlbUVsID0gdGFyZ2V0ICYmIHRhcmdldC5jbG9zZXN0ID8gKHRhcmdldC5jbG9zZXN0KCcuZGF0ZS13aGVlbC1pdGVtJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsKSA6IG51bGw7XHJcblx0XHRcdGlmICghaXRlbUVsKSByZXR1cm47XHJcblx0XHRcdGNvbnN0IGNsaWNrZWRJbmRleCA9IE51bWJlcihpdGVtRWwuZGF0YXNldC5pbmRleCB8fCAnMCcpO1xyXG5cdFx0XHRjb25zdCByZWFsSW5kZXggPSBjbGlja2VkSW5kZXggJSBuZXdEYXlzLmxlbmd0aDtcclxuXHRcdFx0Y29uc3QgbWlkZGxlSW5kZXggPSBtaWRkbGVHcm91cEluZGV4ICogbmV3RGF5cy5sZW5ndGggKyByZWFsSW5kZXg7XHJcblx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBtaWRkbGVJbmRleCAqIGl0ZW1IZWlnaHQ7XHJcblx0XHRcdChkYXlDb2x1bW4gYXMgYW55KS5zZWxlY3RlZFZhbHVlID0gbmV3RGF5c1tyZWFsSW5kZXhdO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdHByaXZhdGUgY3JlYXRlTGFiZWwodGV4dDogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xyXG5cdFx0Y29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG5cdFx0ZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG5cdFx0cmV0dXJuIGVsO1xyXG5cdH1cclxufVxyXG4iLCAiZXhwb3J0IGNsYXNzIENvbmZpcm1Nb2RhbCB7XHJcbiAgICBwcml2YXRlIG1hc2tFbD86IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBtb2RhbEVsPzogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgcHJpdmF0ZSBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGNvbmZpcm1UZXh0OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGNhbmNlbFRleHQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgZGFuZ2VyOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgY29uZmlybVRleHQ6IHN0cmluZyA9ICdcdTc4NkVcdTVCOUEnLCBjYW5jZWxUZXh0OiBzdHJpbmcgPSAnXHU1M0Q2XHU2RDg4JywgZGFuZ2VyOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gICAgICAgIHRoaXMuY29uZmlybVRleHQgPSBjb25maXJtVGV4dDtcclxuICAgICAgICB0aGlzLmNhbmNlbFRleHQgPSBjYW5jZWxUZXh0O1xyXG4gICAgICAgIHRoaXMuZGFuZ2VyID0gZGFuZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5qZWN0U3R5bGVzT25jZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXNrRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgdGhpcy5tYXNrRWwuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLW1hc2snO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tb2RhbEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kYWxFbC5jbGFzc05hbWUgPSAnZGF0ZS1waWNrZXItbW9kYWwnO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBjb250ZW50LmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci1jb250ZW50JztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci10aXRsZSc7XHJcbiAgICAgICAgICAgIC8vIFx1NjgwN1x1OTg5OFx1OTY4Rlx1OEJFRFx1OEEwMFxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB0IH0gPSByZXF1aXJlKCcuLi8uLi9pMThuJyk7XHJcbiAgICAgICAgICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IHQoJ2NvbmZpcm0udGl0bGUnKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoXykge1xyXG4gICAgICAgICAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSAnXHU3ODZFXHU4QkE0XHU2NENEXHU0RjVDJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgbXNnRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgbXNnRWwuY2xhc3NOYW1lID0gJ2NvbmZpcm0tbWVzc2FnZSc7XHJcbiAgICAgICAgICAgIG1zZ0VsLnRleHRDb250ZW50ID0gdGhpcy5tZXNzYWdlO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBhY3Rpb25zLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci1hY3Rpb25zJztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBjYW5jZWxCdG4uY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWJ0biBkYXRlLXBpY2tlci1idG4tY2FuY2VsJztcclxuICAgICAgICAgICAgY2FuY2VsQnRuLnRleHRDb250ZW50ID0gdGhpcy5jYW5jZWxUZXh0O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29uZmlybUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBjb25maXJtQnRuLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci1idG4gZGF0ZS1waWNrZXItYnRuLWNvbmZpcm0nO1xyXG4gICAgICAgICAgICBjb25maXJtQnRuLnRleHRDb250ZW50ID0gdGhpcy5jb25maXJtVGV4dDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGFuZ2VyKSBjb25maXJtQnRuLmNsYXNzTGlzdC5hZGQoJ2RhbmdlcicpO1xyXG5cclxuICAgICAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChjYW5jZWxCdG4pO1xyXG4gICAgICAgICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGNvbmZpcm1CdG4pO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChtc2dFbCk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoYWN0aW9ucyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kYWxFbC5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYXNrRWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbEVsKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm1hc2tFbCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjbG9zZSA9IChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hc2tFbCAmJiB0aGlzLm1hc2tFbC5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXNrRWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLm1hc2tFbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tFbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kYWxFbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWFza0VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsgaWYgKGUudGFyZ2V0ID09PSB0aGlzLm1hc2tFbCkgY2xvc2UoZmFsc2UpOyB9KTtcclxuICAgICAgICAgICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2xvc2UoZmFsc2UpKTtcclxuICAgICAgICAgICAgY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlKHRydWUpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluamVjdFN0eWxlc09uY2UoKSB7XHJcbiAgICAgICAgY29uc3QgU1RZTEVfSUQgPSAnbGFjLWNvbmZpcm0tbW9kYWwtc3R5bGVzJztcclxuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU1RZTEVfSUQpKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG4gICAgICAgIHN0eWxlLmlkID0gU1RZTEVfSUQ7XHJcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXHJcbiAgICAgICAgICAgIC5kYXRlLXBpY2tlci1tb2RhbCAuY29uZmlybS1tZXNzYWdlIHsgY29sb3I6ICNGNUY2RkE7IGxpbmUtaGVpZ2h0OiAxLjY7IHBhZGRpbmc6IDhweCAwIDE2cHg7IH1cclxuICAgICAgICAgICAgLmRhdGUtcGlja2VyLW1vZGFsIC5kYXRlLXBpY2tlci1idG4uZGFuZ2VyIHsgYmFja2dyb3VuZDogIzdhMWUxZTsgY29sb3I6ICNmZmY7IH1cclxuICAgICAgICAgICAgLmRhdGUtcGlja2VyLW1vZGFsIC5kYXRlLXBpY2tlci1idG4uZGFuZ2VyOmhvdmVyIHsgYmFja2dyb3VuZDogIzk5MjUyNTsgfVxyXG4gICAgICAgIGA7XHJcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iLCAiaW1wb3J0IHsgQXNzZXRGb3JtTW9kYWwgfSBmcm9tICcuL21vZGFscy9Bc3NldEZvcm1Nb2RhbCc7XG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgQ29uZmlybU1vZGFsIH0gZnJvbSAnLi9tb2RhbHMvQ29uZmlybU1vZGFsJztcbmltcG9ydCB7IEFzc2V0UmVwb3NpdG9yeSB9IGZyb20gJy4uL3JlcG9zaXRvcmllcy9Bc3NldFJlcG9zaXRvcnknO1xuaW1wb3J0IHsgQXNzZXQgfSBmcm9tICcuLi9tb2RlbHMvQXNzZXQnO1xuaW1wb3J0IHsgVG9wU3VtbWFyeSwgVG9wU3VtbWFyeVByb3BzIH0gZnJvbSAnLi9Ub3BTdW1tYXJ5JztcbmltcG9ydCB7IExpbmVDaGFydCwgTGluZUNoYXJ0UHJvcHMgfSBmcm9tICcuL0xpbmVDaGFydCc7XG5pbXBvcnQgeyBUYWdQYW5lbCwgVGFnUGFuZWxQcm9wcyB9IGZyb20gJy4vVGFnUGFuZWwnO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uL2kxOG4nO1xuXG4vLyBcdThENDRcdTRFQTdcdTdCQTFcdTc0MDZcdTU2NjhcdTg5QzZcdTU2RkVcbmV4cG9ydCBjbGFzcyBBc3NldE1hbmFnZXJWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuXHRwcml2YXRlIGFzc2V0UmVwb3NpdG9yeTogQXNzZXRSZXBvc2l0b3J5O1xuXHRwcml2YXRlIGFzc2V0czogQXNzZXRbXSA9IFtdO1xuXHRwcml2YXRlIGZpbGVQYXRoPzogc3RyaW5nO1xuXHRwcml2YXRlIHRvcFN1bW1hcnlDb21wb25lbnQ/OiBUb3BTdW1tYXJ5O1xuXHRwcml2YXRlIHRhZ1BhbmVsQ29tcG9uZW50PzogVGFnUGFuZWw7XG5cdHByaXZhdGUgc2VsZWN0ZWREYXRlPzogRGF0ZTsgLy8gXHU1RjUzXHU1MjREXHU5MDA5XHU2MkU5XHU3Njg0XHU2NUU1XHU2NzFGXG5cdHByaXZhdGUgc2VsZWN0ZWRUYWdzOiBzdHJpbmdbXSA9IFtdOyAvLyBcdTVGNTNcdTUyNERcdTkwMDlcdTYyRTlcdTc2ODRcdTY4MDdcdTdCN0Vcblx0cHJpdmF0ZSBhY3Rpb25CYXJFbD86IEhUTUxFbGVtZW50OyAvLyBcdTk4NzZcdTkwRThcdTdFREZcdThCQTFcdTRFMEJcdTY1QjlcdTc2ODRcdTYzMDlcdTk0QUVcdTUzNjFcdTcyNDdcblx0cHJpdmF0ZSBzZWFyY2hRdWVyeTogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBzb3J0TW9kZTogJ25vbmUnIHwgJ2RhaWx5RGVzYycgfCAncHJpY2VEZXNjJyB8ICdkYXRlRGVzYycgPSAnbm9uZSc7XG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgYXNzZXRSZXBvc2l0b3J5OiBBc3NldFJlcG9zaXRvcnksIGZpbGVQYXRoPzogc3RyaW5nKSB7XG5cdFx0c3VwZXIobGVhZik7XG5cdFx0dGhpcy5hc3NldFJlcG9zaXRvcnkgPSBhc3NldFJlcG9zaXRvcnk7XG5cdFx0dGhpcy5maWxlUGF0aCA9IGZpbGVQYXRoO1xuXHRcdHRoaXMuc2VsZWN0ZWREYXRlID0gbmV3IERhdGUoKTsgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU0RTNBXHU1RjUzXHU1MjREXHU2NUU1XHU2NzFGXG5cdH1cblxuXHRnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiAnbGFjLWNvc3RzZXQtdmlldyc7XG5cdH1cblxuXHRnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiAnTGFDLkNvc3RTZXQnO1xuXHR9XG5cblx0Z2V0SWNvbigpOiBzdHJpbmcge1xuXHRcdHJldHVybiAncGFja2FnZSc7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdGNvbnRhaW5lckVsLmFkZENsYXNzKCdwYWdlLXJvb3QnKTtcblxuXHRcdC8vIFx1Nzg2RVx1NEZERFx1N0E4NFx1NUJCRFx1NUVBNlx1NEUwQlx1NjgwN1x1OTg5OFx1NjgwRlx1NzY4NFx1ODNEQ1x1NTM1NS9cdThGRDRcdTU2REVcdTYzMDlcdTk0QUVcdTRFMERcdTg4QUJcdTRFM0JcdTk4OThcdTk2OTBcdTg1Q0Zcblx0XHR0aGlzLmluamVjdEhlYWRlckZpeFN0eWxlcygpO1xuXG5cdFx0Ly8gXHU1MjFEXHU1OUNCXHU1MzE2XHU5RUQ4XHU4QkE0XHU2MzkyXHU1RThGXHU4MUVBXHU4QkJFXHU3RjZFXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBsdWdpbiA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnM/LnBsdWdpbnM/LlsnbGFjLWNvc3RzZXQnXTtcblx0XHRcdGlmIChwbHVnaW4gJiYgcGx1Z2luLnNldHRpbmdzICYmIHBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0U29ydCkge1xuXHRcdFx0XHR0aGlzLnNvcnRNb2RlID0gcGx1Z2luLnNldHRpbmdzLmRlZmF1bHRTb3J0O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKF8pIHt9XG5cblx0XHQvLyBcdTU5ODJcdTY3OUNcdTRGMjBcdTUxNjVcdTRFODZcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdUZGMENcdTc2RjRcdTYzQTVcdTRGN0ZcdTc1MjhcdThCRTVcdTY1ODdcdTRFRjZcbiAgICAgICAgaWYgKHRoaXMuZmlsZVBhdGgpIHtcblx0XHRcdHRoaXMudXNlRmlsZSh0aGlzLmZpbGVQYXRoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBcdTgyRTVcdTY3MkFcdTRGMjBcdTUxNjVcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdUZGMUFcdTRFMERcdTg5ODFcdTVGMzlcdTUxRkFcdTY1ODdcdTRFRjZcdTUyMTdcdTg4NjhcdUZGMENcdTY2M0VcdTc5M0FcdThGN0JcdTkxQ0ZcdTYzRDBcdTc5M0Fcblx0XHRjb25zdCBoaW50ID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCk7XG5cdFx0aGludC5zdHlsZS5wYWRkaW5nID0gJzE2cHgnO1xuXHRcdGhpbnQuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xuXHRcdGhpbnQudGV4dENvbnRlbnQgPSB0KCd2aWV3LmhpbnQub3BlbkZyb21NZW51Jyk7XG5cdFx0cmV0dXJuO1xuXG5cdFx0dGhpcy5sb2FkQXNzZXRzKCk7XG5cdH1cblxuXHRhc3luYyBvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgdXNlRmlsZShmaWxlUGF0aDogc3RyaW5nKSB7XG5cdFx0Ly8gXHU5MUNEXHU2NUIwXHU1MjFEXHU1OUNCXHU1MzE2QXNzZXRSZXBvc2l0b3J5XG5cdFx0Y29uc3QgcGx1Z2luID0gKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zWydsYWMtY29zdHNldCddO1xuXHRcdGlmIChwbHVnaW4pIHtcblx0XHRcdHBsdWdpbi5hc3NldFJlcG9zaXRvcnkgPSBuZXcgQXNzZXRSZXBvc2l0b3J5KHRoaXMuYXBwLCBmaWxlUGF0aCk7XG5cdFx0XHR0aGlzLmFzc2V0UmVwb3NpdG9yeSA9IHBsdWdpbi5hc3NldFJlcG9zaXRvcnk7XG5cdFx0XHRcblx0XHRcdHRoaXMubG9hZEFzc2V0cygpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgbG9hZEFzc2V0cygpIHtcblx0XHR0aGlzLmFzc2V0cyA9IGF3YWl0IHRoaXMuYXNzZXRSZXBvc2l0b3J5LmxvYWRBbGwoKTtcblx0XHR0aGlzLnJlbmRlckFzc2V0cygpO1xuXHR9XG5cblx0cHJpdmF0ZSBzaG93RmlsZVNlbGVjdG9yKCkge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IHQoJ3ZpZXcuc2VsZWN0Um9vdC50aXRsZScpIH0pO1xuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0KCd2aWV3LnNlbGVjdFJvb3QuZGVzYycpIH0pO1xuXG5cdFx0Y29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cdFx0Y29uc3QgZmlsZUxpc3QgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoJ2ZpbGUtbGlzdCcpO1xuXHRcdFxuXHRcdGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG5cdFx0XHRjb25zdCBmaWxlSXRlbSA9IGZpbGVMaXN0LmNyZWF0ZURpdignZmlsZS1pdGVtJyk7XG5cdFx0XHRmaWxlSXRlbS5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBmaWxlLnBhdGggfSk7XG5cdFx0XHRmaWxlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcblx0XHRcdFx0Ly8gXHU5MUNEXHU2NUIwXHU1MjFEXHU1OUNCXHU1MzE2QXNzZXRSZXBvc2l0b3J5XG5cdFx0XHRcdGNvbnN0IHBsdWdpbiA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2luc1snbGFjLWNvc3RzZXQnXTtcblx0XHRcdFx0aWYgKHBsdWdpbikge1xuXHRcdFx0XHRcdHBsdWdpbi5hc3NldFJlcG9zaXRvcnkgPSBuZXcgQXNzZXRSZXBvc2l0b3J5KHRoaXMuYXBwLCBmaWxlLnBhdGgpO1xuXHRcdFx0XHRcdHRoaXMuYXNzZXRSZXBvc2l0b3J5ID0gcGx1Z2luLmFzc2V0UmVwb3NpdG9yeTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHR0aGlzLmxvYWRBc3NldHMoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIHJlbmRlckFzc2V0cygpIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdFxuXHRcdC8vIFx1NkUwNVx1N0E3QVx1NUJCOVx1NTY2OFx1RkYwQ1x1OTA3Rlx1NTE0RFx1OTFDRFx1NTkwRFx1OEZGRFx1NTJBMCBUb3BTdW1tYXJ5IFx1NEUwRVx1NTIxN1x1ODg2OFxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0Y29udGFpbmVyRWwuYWRkQ2xhc3MoJ3BhZ2Utcm9vdCcpO1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1OTg3Nlx1OTBFOFx1N0VERlx1OEJBMVx1NTMzQVx1NTdERlxuXHRcdHRoaXMucmVuZGVyVG9wU3VtbWFyeShjb250YWluZXJFbCk7XG5cdFx0Ly8gXHU5ODc2XHU5MEU4XHU3RURGXHU4QkExXHU0RTBCXHU2NUI5XHU3Njg0XHU2NENEXHU0RjVDXHU2NzYxXG5cdFx0dGhpcy5yZW5kZXJBY3Rpb25CYXIoY29udGFpbmVyRWwpO1xuXHRcdFxuXHRcdGNvbnN0IGFzc2V0c0NvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignYXNzZXRzLWNvbnRhaW5lcicpO1xuXHRcdHRoaXMucmVuZGVyQXNzZXRDYXJkcyhhc3NldHNDb250YWluZXIpO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJBc3NldENhcmRzKGFzc2V0c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcblx0XHRhc3NldHNDb250YWluZXIuZW1wdHkoKTtcblx0XHRpZiAodGhpcy5hc3NldHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRhc3NldHNDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IHQoJ3ZpZXcuZW1wdHknKSB9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgY2FsY0RhdGUgPSB0aGlzLnNlbGVjdGVkRGF0ZSB8fCBuZXcgRGF0ZSgpO1xuXHRcdGxldCB2aXNpYmxlQXNzZXRzID0gdGhpcy5hc3NldHMuZmlsdGVyKGEgPT4gYS5hY3RpdmVGcm9tIDw9IGNhbGNEYXRlKTtcblx0XHRpZiAodGhpcy5zZWxlY3RlZFRhZ3MubGVuZ3RoID4gMCkge1xuXHRcdFx0dmlzaWJsZUFzc2V0cyA9IHZpc2libGVBc3NldHMuZmlsdGVyKGEgPT4gYS50YWdzPy5zb21lKHQgPT4gdGhpcy5zZWxlY3RlZFRhZ3MuaW5jbHVkZXModCkpKTtcblx0XHR9XG5cdFx0Ly8gXHU2NDFDXHU3RDIyXHU4RkM3XHU2RUU0XHVGRjFBXHU1NDBEXHU3OUYwXHU2MjE2XHU2ODA3XHU3QjdFXHU1MzA1XHU1NDJCXG5cdFx0aWYgKHRoaXMuc2VhcmNoUXVlcnkgJiYgdGhpcy5zZWFyY2hRdWVyeS50cmltKCkpIHtcblx0XHRcdGNvbnN0IHEgPSB0aGlzLnNlYXJjaFF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0dmlzaWJsZUFzc2V0cyA9IHZpc2libGVBc3NldHMuZmlsdGVyKGEgPT4ge1xuXHRcdFx0XHRjb25zdCBuYW1lSGl0ID0gKGEubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKTtcblx0XHRcdFx0Y29uc3QgdGFnSGl0ID0gKGEudGFncyB8fCBbXSkuc29tZSh0ID0+ICh0IHx8ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpKTtcblx0XHRcdFx0cmV0dXJuIG5hbWVIaXQgfHwgdGFnSGl0O1xuXHRcdFx0fSk7XG5cdFx0fVxuICAgICAgICAvLyBcdTYzOTJcdTVFOEZcbiAgICAgICAgaWYgKHRoaXMuc29ydE1vZGUgIT09ICdub25lJykge1xuICAgICAgICAgICAgdmlzaWJsZUFzc2V0cyA9IFsuLi52aXNpYmxlQXNzZXRzXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc29ydE1vZGUgPT09ICdkYWlseURlc2MnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFDb3N0ID0gYS5nZXREYWlseUNvc3QoY2FsY0RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiQ29zdCA9IGIuZ2V0RGFpbHlDb3N0KGNhbGNEYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJDb3N0IC0gYUNvc3Q7IC8vIFx1NjVFNVx1NTc0N1x1NjIxMFx1NjcyQ1x1OTY0RFx1NUU4RlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3J0TW9kZSA9PT0gJ3ByaWNlRGVzYycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcihiLnByaWNlIHx8IDApIC0gTnVtYmVyKGEucHJpY2UgfHwgMCk7IC8vIFx1NEVGN1x1NjgzQ1x1OTY0RFx1NUU4RlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3J0TW9kZSA9PT0gJ2RhdGVEZXNjJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdCA9IGEuYWN0aXZlRnJvbT8uZ2V0VGltZT8uKCkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnQgPSBiLmFjdGl2ZUZyb20/LmdldFRpbWU/LigpIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBidCAtIGF0OyAvLyBcdThEMkRcdTUxNjVcdTY1RTVcdTY3MUZcdUZGMDhhY3RpdmVGcm9tXHVGRjA5XHU5NjREXHU1RThGXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblx0XHR2aXNpYmxlQXNzZXRzLmZvckVhY2goYXNzZXQgPT4ge1xuXHRcdFx0Y29uc3QgaXNFeHBpcmVkID0gISEoYXNzZXQuYWN0aXZlVG8gJiYgYXNzZXQuYWN0aXZlVG8gPD0gY2FsY0RhdGUpO1xuXHRcdFx0Y29uc3QgZW5kVGV4dCA9IGlzRXhwaXJlZCA/IGFzc2V0LmFjdGl2ZVRvIS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gOiB0KCd2aWV3LnRvTm93Jyk7XG5cdFx0XHRjb25zdCBhc3NldEVsID0gYXNzZXRzQ29udGFpbmVyLmNyZWF0ZURpdignYXNzZXQtY2FyZCcpO1xuXHRcdFx0aWYgKGlzRXhwaXJlZCkgYXNzZXRFbC5hZGRDbGFzcygnYXNzZXQtY2FyZC0tZXhwaXJlZCcpO1xuXHRcdFx0aWYgKGFzc2V0LmhpZGRlbikgYXNzZXRFbC5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRhc3NldEVsLmlubmVySFRNTCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cImFzc2V0LWluZm9cIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYXNzZXQtdGl0bGVcIj4ke2Fzc2V0Lmljb259ICR7YXNzZXQubmFtZX08L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYXNzZXQtZGF0ZVwiPiR7dCgndmlldy51c2VkRGF5cycsIHsgZGF5czogYXNzZXQuZ2V0VXNhZ2VEYXlzKGNhbGNEYXRlKSB9KX0gKCR7YXNzZXQuYWN0aXZlRnJvbS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19IH4gJHthc3NldC5hY3RpdmVUbyA/IGVuZFRleHQgOiB0KCd2aWV3LnRvTm93Jyl9KTwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhc3NldC1sYWJlbHMtc2Nyb2xsXCI+XG5cdFx0XHRcdFx0XHQke2Fzc2V0LnRhZ3MubWFwKHRhZyA9PiBgPHNwYW4gY2xhc3M9XFxcInRhZ1xcXCI+JHt0YWd9PC9zcGFuPmApLmpvaW4oJycpfVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImFzc2V0LWNvc3RzXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFzc2V0LWNvc3RzLWxpbmVcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhc3NldC1wcmljZVwiPiR7dCgndmlldy5kYWlseScpfSZuYnNwOzwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFzc2V0LWRhaWx5Y29zdFwiPlx1MDBBNSR7YXNzZXQuZ2V0RGFpbHlDb3N0KGNhbGNEYXRlKS50b0ZpeGVkKDIpfTwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhc3NldC1wcmljZVwiPiR7dCgndmlldy5wcmljZScpfSAke3RoaXMuZ2V0Q3VycmVuY3lTeW1ib2woKX0ke2Fzc2V0LnByaWNlfTwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhc3NldC1wcmljZVwiPiR7dCgndmlldy5yZWN5Y2xlUHJpY2UnKX0gJHt0aGlzLmdldEN1cnJlbmN5U3ltYm9sKCl9JHthc3NldC5yZWN5Y2xlUHJpY2V9PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblx0XHRcdGxldCBkaWRMb25nUHJlc3MgPSBmYWxzZTtcblx0XHRcdGFzc2V0RWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0XHRpZiAoZGlkTG9uZ1ByZXNzKSB7XG5cdFx0XHRcdFx0ZGlkTG9uZ1ByZXNzID0gZmFsc2U7XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5ldyBBc3NldEZvcm1Nb2RhbCh0aGlzLmFwcCwgdGhpcy5hc3NldFJlcG9zaXRvcnksIGFzc2V0LCAoKSA9PiB0aGlzLmxvYWRBc3NldHMoKSkub3BlbigpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFx1OTU3Rlx1NjMwOVx1OTY5MFx1ODVDRi9cdTYwNjJcdTU5MERcdTY2M0VcdTc5M0FcdUZGMENcdTRFQzVcdTUxODVcdTVCNThcdTUyMDdcdTYzNjJcdUZGMUJcdTRFQzVcdTUyMzdcdTY1QjBcdTk4NzZcdTkwRThcdTY1NzBcdTVCNTdcdUZGMENcdTRFMERcdTUyMzdcdTY1QjBcdTU2RkVcdTg4Njhcblx0XHRcdGxldCBwcmVzc1RpbWVyOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdGNvbnN0IHN0YXJ0UHJlc3MgPSAoZXY/OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xuXHRcdFx0XHQvLyBcdTRFQzVcdTU0Q0RcdTVFOTRcdTlGMjBcdTY4MDdcdTVERTZcdTk1MkVcblx0XHRcdFx0aWYgKGV2ICYmICdidXR0b24nIGluIGV2ICYmIHR5cGVvZiBldi5idXR0b24gPT09ICdudW1iZXInICYmIGV2LmJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xuXHRcdFx0XHRpZiAocHJlc3NUaW1lcikgd2luZG93LmNsZWFyVGltZW91dChwcmVzc1RpbWVyKTtcblx0XHRcdFx0cHJlc3NUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRkaWRMb25nUHJlc3MgPSB0cnVlO1xuXHRcdFx0XHRcdGFzc2V0LmhpZGRlbiA9ICFhc3NldC5oaWRkZW47XG5cdFx0XHRcdFx0YXNzZXRFbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBhc3NldC5oaWRkZW4pO1xuXHRcdFx0XHRcdHRoaXMucmVmcmVzaFRvcE51bWJlcnNPbmx5KCk7XG5cdFx0XHRcdH0sIDUwMCk7XG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgY2FuY2VsUHJlc3MgPSAoKSA9PiB7IGlmIChwcmVzc1RpbWVyKSB7IHdpbmRvdy5jbGVhclRpbWVvdXQocHJlc3NUaW1lcik7IHByZXNzVGltZXIgPSBudWxsOyB9IH07XG5cdFx0XHRhc3NldEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHN0YXJ0UHJlc3MpO1xuXHRcdFx0YXNzZXRFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc3RhcnRQcmVzcywgeyBwYXNzaXZlOiB0cnVlIH0gYXMgYW55KTtcblx0XHRcdGFzc2V0RWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNhbmNlbFByZXNzKTtcblx0XHRcdGFzc2V0RWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGNhbmNlbFByZXNzKTtcblx0XHRcdGFzc2V0RWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBjYW5jZWxQcmVzcyk7XG5cdFx0XHRhc3NldEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgYXN5bmMgKGUpID0+IHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRjb25zdCBvayA9IGF3YWl0IG5ldyBDb25maXJtTW9kYWwodCgndmlldy5jb25maXJtRGVsZXRlQXNzZXQnLCB7IG5hbWU6IGFzc2V0Lm5hbWUgfSksIHQoJ2NvbW1vbi5kZWxldGUnKSwgdCgnY29tbW9uLmNhbmNlbCcpLCB0cnVlKS5vcGVuKCk7XG5cdFx0XHRcdGlmICghb2spIHJldHVybjtcblx0XHRcdFx0YXdhaXQgdGhpcy5hc3NldFJlcG9zaXRvcnkuZGVsZXRlQXNzZXQoYXNzZXQuaWQpO1xuXHRcdFx0XHR0aGlzLmxvYWRBc3NldHMoKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gXHU0RUM1XHU1MjM3XHU2NUIwXHU5ODc2XHU5MEU4XHU2NTcwXHU1QjU3IChcdTYzOTJcdTk2NjQgaGlkZGVuIFx1OEQ0NFx1NEVBNylcdUZGMENcdTRFMERcdTUyMzdcdTY1QjBcdTU2RkVcdTg4NjhcdTMwMDFcdTRFMERcdTkxQ0RcdTVFRkFcdTUyMTdcdTg4Njhcblx0cHJpdmF0ZSByZWZyZXNoVG9wTnVtYmVyc09ubHkoKSB7XG5cdFx0aWYgKCF0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQpIHJldHVybjtcblx0XHRjb25zdCBjYWxjRGF0ZSA9IHRoaXMuc2VsZWN0ZWREYXRlIHx8IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgYWN0aXZlQXNzZXRzID0gdGhpcy5hc3NldHMuZmlsdGVyKGEgPT4gYS5pc0FjdGl2ZShjYWxjRGF0ZSkgJiYgIWEuaGlkZGVuKTtcblx0XHRjb25zdCBmaWx0ZXJlZEFjdGl2ZUFzc2V0cyA9IHRoaXMuYXBwbHlUYWdGaWx0ZXIoYWN0aXZlQXNzZXRzKTtcblx0XHRjb25zdCB0b3RhbENvc3QgPSBmaWx0ZXJlZEFjdGl2ZUFzc2V0cy5yZWR1Y2UoKHN1bSwgYSkgPT4gc3VtICsgYS5wcmljZSwgMCk7XG5cdFx0Y29uc3QgdG90YWxSZWN5Y2xlID0gZmlsdGVyZWRBY3RpdmVBc3NldHMucmVkdWNlKChzdW0sIGEpID0+IHN1bSArIGEucmVjeWNsZVByaWNlLCAwKTtcblx0XHRjb25zdCB0b3RhbERhaWx5Q29zdCA9IGZpbHRlcmVkQWN0aXZlQXNzZXRzLnJlZHVjZSgoc3VtLCBhKSA9PiBzdW0gKyBhLmdldERhaWx5Q29zdChjYWxjRGF0ZSksIDApO1xuXHRcdHRoaXMudG9wU3VtbWFyeUNvbXBvbmVudC51cGRhdGVOdW1iZXJzKHRvdGFsRGFpbHlDb3N0LCB0b3RhbENvc3QsIHRvdGFsUmVjeWNsZSk7XG5cdH1cblxuXHQvLyBcdTk4NzZcdTkwRThcdTdFREZcdThCQTFcdTRFMEJcdTY1QjlcdTc2ODRcdTY0Q0RcdTRGNUNcdTY3NjFcdUZGMDhcdTY0MUNcdTdEMjIgLyBcdTYzOTJcdTVFOEYgLyBcdTZERkJcdTUyQTBcdUZGMDlcblx0cHJpdmF0ZSByZW5kZXJBY3Rpb25CYXIoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KSB7XG5cdFx0dGhpcy5pbmplY3RBY3Rpb25CYXJTdHlsZXMoKTtcblx0XHRjb25zdCBiYXIgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoJ2xhYy1hY3Rpb25iYXItY2FyZCcpO1xuXHRcdHRoaXMuYWN0aW9uQmFyRWwgPSBiYXI7XG5cblx0XHQvLyBcdTdBODRcdTVDNEZcdThGRDRcdTU2REVcdTYzMDlcdTk0QUVcdUZGMDhcdTkwN0ZcdTUxNERcdTdDRkJcdTdFREZcdTY4MDdcdTk4OThcdTY4MEZcdTk2OTBcdTg1Q0ZcdTY1RjZcdTY1RTBcdTU5MDRcdThGRDRcdTU2REVcdUZGMDlcblx0XHRjb25zdCBiYWNrQnRuID0gYmFyLmNyZWF0ZURpdih7IGNsczogJ2xhYy1pY29uLWJ0biBiYWNrJywgYXR0cjogeyB0aXRsZTogdCgndmlldy5iYWNrJykgfSB9KTtcblx0XHRiYWNrQnRuLmlubmVySFRNTCA9IHRoaXMuc3ZnQmFjaygpO1xuXHRcdGJhY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Ly8gXHU3NkY0XHU2M0E1XHU1MTczXHU5NUVEXHU1RjUzXHU1MjREXHU1M0Y2XHU1QjUwXHVGRjA4XHU2ODA3XHU3QjdFXHVGRjA5XHVGRjBDXHU3QjQ5XHU2NTQ4XHUyMDFDXHU4RkQ0XHU1NkRFL1x1NTE3M1x1OTVFRFx1MjAxRFxuXHRcdFx0dHJ5IHsgdGhpcy5sZWFmLmRldGFjaCgpOyB9IGNhdGNoIChfKSB7fVxuXHRcdH0pO1xuXG5cdFx0Ly8gXHU1REU2XHU0RkE3XHVGRjFBXHU2NDFDXHU3RDIyXHU4RjkzXHU1MTY1XHVGRjA4XHU1MTg1XHU1RDRDXHU1NkZFXHU2ODA3XHU2MzA5XHU5NEFFXHVGRjA5XG5cdFx0Y29uc3Qgc2VhcmNoV3JhcCA9IGJhci5jcmVhdGVEaXYoJ2xhYy1hY3Rpb25iYXItc2VhcmNoJyk7XG5cdFx0Y29uc3Qgc2VhcmNoSWNvbkJ0biA9IHNlYXJjaFdyYXAuY3JlYXRlRWwoJ2J1dHRvbicsIHsgY2xzOiAnbGFjLWljb24tYnRuIHNlYXJjaC1pY29uJywgYXR0cjogeyB0eXBlOiAnYnV0dG9uJywgJ2FyaWEtbGFiZWwnOiB0KCd2aWV3LnNlYXJjaC5hcmlhJykgfSB9KTtcblx0XHRzZWFyY2hJY29uQnRuLmlubmVySFRNTCA9IHRoaXMuc3ZnU2VhcmNoKCk7XG5cdFx0Y29uc3Qgc2VhcmNoSW5wdXQgPSBzZWFyY2hXcmFwLmNyZWF0ZUVsKCdpbnB1dCcsIHsgYXR0cjogeyB0eXBlOiAndGV4dCcsIHBsYWNlaG9sZGVyOiB0KCd2aWV3LnNlYXJjaC5wbGFjZWhvbGRlcicpIH0gfSkgYXMgSFRNTElucHV0RWxlbWVudDtcblx0XHRpZiAodGhpcy5zZWFyY2hRdWVyeSkgc2VhcmNoSW5wdXQudmFsdWUgPSB0aGlzLnNlYXJjaFF1ZXJ5O1xuXHRcdHNlYXJjaEljb25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWFyY2hJbnB1dC5mb2N1cygpKTtcblx0XHRzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcblx0XHRcdHRoaXMuc2VhcmNoUXVlcnkgPSBzZWFyY2hJbnB1dC52YWx1ZSB8fCAnJztcblx0XHRcdHRoaXMucmVmcmVzaEFzc2V0TGlzdE9ubHkoKTtcblx0XHR9KTtcblxuXHRcdC8vIFx1NTNGM1x1NEZBN1x1RkYxQVx1NjRDRFx1NEY1Q1x1NjMwOVx1OTRBRVx1NTMzQVx1RkYwOFx1NjM5Mlx1NUU4Rlx1MzAwMVx1NkRGQlx1NTJBMFx1RkYwOVxuXHRcdGNvbnN0IGFjdGlvbnMgPSBiYXIuY3JlYXRlRGl2KCdsYWMtYWN0aW9uYmFyLWFjdGlvbnMnKTtcblx0XHRjb25zdCBzb3J0QnRuID0gYWN0aW9ucy5jcmVhdGVEaXYoeyBjbHM6ICdsYWMtaWNvbi1idG4gc29ydCcsIGF0dHI6IHsgdGl0bGU6IHQoJ3ZpZXcuc29ydC50aXRsZScpIH0gfSk7XG5cdFx0c29ydEJ0bi5pbm5lckhUTUwgPSB0aGlzLnN2Z1NvcnQoKTtcblx0XHRjb25zdCBhcHBseVNvcnRCdG5TdGF0ZSA9ICgpID0+IHtcblx0XHRcdHNvcnRCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgdGhpcy5zb3J0TW9kZSAhPT0gJ25vbmUnKTtcblx0XHRcdHNvcnRCdG4uc2V0QXR0cignZGF0YS1tb2RlJywgdGhpcy5zb3J0TW9kZSk7XG5cdFx0XHRzb3J0QnRuLnNldEF0dHIoJ2FyaWEtcHJlc3NlZCcsIFN0cmluZyh0aGlzLnNvcnRNb2RlICE9PSAnbm9uZScpKTtcblx0XHRcdGNvbnN0IHRpdGxlID0gdGhpcy5zb3J0TW9kZSA9PT0gJ2RhaWx5RGVzYycgPyB0KCd2aWV3LnNvcnQudGl0bGUuZGFpbHlEZXNjJylcblx0XHRcdFx0OiB0aGlzLnNvcnRNb2RlID09PSAncHJpY2VEZXNjJyA/IHQoJ3ZpZXcuc29ydC50aXRsZS5wcmljZURlc2MnKVxuXHRcdFx0XHQ6IHRoaXMuc29ydE1vZGUgPT09ICdkYXRlRGVzYycgPyB0KCd2aWV3LnNvcnQudGl0bGUuZGF0ZURlc2MnKVxuXHRcdFx0XHQ6IHQoJ3ZpZXcuc29ydC50aXRsZScpO1xuICAgICAgICAgICAgc29ydEJ0bi5zZXRBdHRyKCd0aXRsZScsIHRpdGxlKTtcblx0XHR9O1xuXHRcdGFwcGx5U29ydEJ0blN0YXRlKCk7XG4gICAgICAgIHNvcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5vcGVuU29ydE1lbnUoc29ydEJ0biwgKG1vZGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvcnRNb2RlID0gbW9kZTtcbiAgICAgICAgICAgICAgICBhcHBseVNvcnRCdG5TdGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaEFzc2V0TGlzdE9ubHkoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuXHRcdGNvbnN0IGFkZEJ0biA9IGFjdGlvbnMuY3JlYXRlRGl2KHsgY2xzOiAnbGFjLWljb24tYnRuIGFkZCcsIGF0dHI6IHsgdGl0bGU6IHQoJ3ZpZXcuYWRkJykgfSB9KTtcblx0XHRhZGRCdG4uaW5uZXJIVE1MID0gdGhpcy5zdmdQbHVzKCk7XG5cdFx0YWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0bmV3IEFzc2V0Rm9ybU1vZGFsKHRoaXMuYXBwLCB0aGlzLmFzc2V0UmVwb3NpdG9yeSwgdW5kZWZpbmVkLCAoKSA9PiB0aGlzLmxvYWRBc3NldHMoKSkub3BlbigpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSByZWZyZXNoQXNzZXRMaXN0T25seSgpIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdGNvbnN0IGxpc3RFbCA9IGNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5hc3NldHMtY29udGFpbmVyJyk7XG5cdFx0aWYgKGxpc3RFbCkge1xuXHRcdFx0KGxpc3RFbCBhcyBIVE1MRWxlbWVudCkucmVtb3ZlKCk7XG5cdFx0XHRjb25zdCBuZXdMaXN0ID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdhc3NldHMtY29udGFpbmVyJyk7XG5cdFx0XHR0aGlzLnJlbmRlckFzc2V0Q2FyZHMobmV3TGlzdCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBpbmplY3RBY3Rpb25CYXJTdHlsZXMoKSB7XG5cdFx0Y29uc3QgU1RZTEVfSUQgPSAnbGFjLWNvc3RzZXQtYWN0aW9uYmFyLXN0eWxlcyc7XG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFNUWUxFX0lEKSkgcmV0dXJuO1xuXHRcdGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0XHRzdHlsZS5pZCA9IFNUWUxFX0lEO1xuXHRcdHN0eWxlLnRleHRDb250ZW50ID0gYFxuXHRcdFx0LyogXHU2MzA5XHU5NEFFXHU1MzYxXHU3MjQ3XHVGRjFBXHU0RTBFIHRvcC1zdW1tYXJ5IC8gYXNzZXQtY2FyZCBcdTU0MENcdTk4Q0VcdTY4M0NcdUZGMENcdTRFQzVcdTlBRDhcdTVFQTZcdTY2RjRcdTVDMEYgKi9cblx0XHRcdC5sYWMtYWN0aW9uYmFyLWNhcmQgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGdhcDogMTBweDsgcGFkZGluZzogNnB4IDEwcHg7IG1hcmdpbjogMHB4IDE0cHggOHB4OyBib3JkZXItcmFkaXVzOiA4cHg7IGJhY2tncm91bmQ6ICMyMzI2MkY7IGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMTgpOyB9XG5cdFx0XHQubGFjLWFjdGlvbmJhci1zZWFyY2ggeyBwb3NpdGlvbjogcmVsYXRpdmU7IGZsZXg6IDE7IG1pbi13aWR0aDogMDsgfVxuXHRcdFx0LmxhYy1hY3Rpb25iYXItc2VhcmNoIGlucHV0IHsgd2lkdGg6IDEwMCU7IGhlaWdodDogMzBweDsgcGFkZGluZzogNHB4IDhweCA0cHggMzBweDsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXI6IDFweCBzb2xpZCAjM0EzRDQ2OyBiYWNrZ3JvdW5kOiAjMkEyRDM2OyBjb2xvcjogI0Y1RjZGQTsgZm9udC1zaXplOiAxM3B4OyBsaW5lLWhlaWdodDogMjBweDsgfVxuXHRcdFx0LmxhYy1hY3Rpb25iYXItc2VhcmNoIGlucHV0OjpwbGFjZWhvbGRlciB7IGNvbG9yOiAjQTBBM0IxOyB9XG5cdFx0XHQubGFjLWFjdGlvbmJhci1zZWFyY2ggLnNlYXJjaC1pY29uIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiA4cHg7IHRvcDogNTAlOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7IHdpZHRoOiAxNnB4OyBoZWlnaHQ6IDE2cHg7IHBhZGRpbmc6IDA7IGJvcmRlcjogbm9uZTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IGNvbG9yOiAjQzlDQkQzOyB9XG5cdFx0XHQubGFjLWFjdGlvbmJhci1hY3Rpb25zIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA4cHg7IH1cblx0XHRcdC5sYWMtaWNvbi1idG4geyB3aWR0aDogMzJweDsgaGVpZ2h0OiAzMnB4OyBkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDhweDsgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7IG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50OyBjb2xvcjogI0M5Q0JEMzsgY3Vyc29yOiBwb2ludGVyOyB9XG5cdFx0XHQubGFjLWljb24tYnRuLmFkZCB7IGNvbG9yOiAjZjNlNzAwOyB9XG5cdFx0XHQubGFjLWljb24tYnRuLmJhY2sgeyBkaXNwbGF5OiBpbmxpbmUtZmxleDsgY29sb3I6ICNDOUNCRDM7IH1cblx0XHRcdC5sYWMtaWNvbi1idG46aG92ZXIgeyBmaWx0ZXI6IGJyaWdodG5lc3MoMS4wNSk7IH1cblx0XHRcdC5sYWMtaWNvbi1idG4gc3ZnIHsgd2lkdGg6IDIwcHg7IGhlaWdodDogMjBweDsgZGlzcGxheTpibG9jazsgfVxuXHRcdFx0LmxhYy1pY29uLWJ0biBzdmcgKiB7IHN0cm9rZTogY3VycmVudENvbG9yICFpbXBvcnRhbnQ7IGZpbGw6IG5vbmUgIWltcG9ydGFudDsgc3Ryb2tlLXdpZHRoOiAyICFpbXBvcnRhbnQ7IH1cblx0XHRcdC5sYWMtaWNvbi1idG4uYWN0aXZlIHsgYmFja2dyb3VuZDogIzJGMzEzOTsgfVxuXHRcdFx0LyogXHU5NjkwXHU4NUNGXHU2MDAxXHU2ODM3XHU1RjBGXHVGRjA4XHU1QkY5XHU5RjUwIGNvc3RzZXRhcHBcdUZGMDkgKi9cblx0XHRcdC5hc3NldC1jYXJkLmhpZGRlbiB7IG9wYWNpdHk6IDAuMzsgZmlsdGVyOiBncmF5c2NhbGUoMC41KTsgfVxuICAgICAgICAgICAgLyogXHU2MzkyXHU1RThGXHU4M0RDXHU1MzU1ICovXG4gICAgICAgICAgICAubGFjLXNvcnQtbWVudSB7IHBvc2l0aW9uOiBmaXhlZDsgbWluLXdpZHRoOiAxNjBweDsgYmFja2dyb3VuZDogIzIzMjYyRjsgY29sb3I6ICNGNUY2RkE7IGJvcmRlci1yYWRpdXM6IDEwcHg7IG92ZXJmbG93OiBoaWRkZW47IGJveC1zaGFkb3c6IDAgOHB4IDE4cHggcmdiYSgwLDAsMCwwLjM1KTsgYm9yZGVyOiAxcHggc29saWQgIzNBM0Q0Njsgei1pbmRleDogOTk5OTsgfVxuICAgICAgICAgICAgLmxhYy1zb3J0LW1lbnUgLm1lbnUtaXRlbSB7IHBhZGRpbmc6IDEwcHggMTRweDsgY3Vyc29yOiBwb2ludGVyOyBib3JkZXItdG9wOiAxcHggc29saWQgIzJFMzEzQTsgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAxMjBtcyBlYXNlLCBjb2xvciAxMjBtcyBlYXNlOyB9XG4gICAgICAgICAgICAubGFjLXNvcnQtbWVudSAubWVudS1pdGVtOmZpcnN0LWNoaWxkIHsgYm9yZGVyLXRvcDogbm9uZTsgfVxuICAgICAgICAgICAgLmxhYy1zb3J0LW1lbnUgLm1lbnUtaXRlbTpob3ZlciB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyMTQsIDAsIDAuMTIpOyBjb2xvcjogaW5oZXJpdDsgfVxuICAgICAgICAgICAgLmxhYy1zb3J0LW1lbnUgLm1lbnUtaXRlbS5hY3RpdmUgeyBjb2xvcjogI0ZGRDcwMDsgfVxuXG5cdFx0XHQvKiBcdTVDMEZcdTRFOEUgNzIwcHggXHU2NUY2XHU3RDI3XHU1MUQxXHU1RTAzXHU1QzQwICovXG5cdFx0XHRAbWVkaWEgKG1heC13aWR0aDogNzIwcHgpIHtcblx0XHRcdFx0LmxhYy1hY3Rpb25iYXItY2FyZCB7IGdhcDogOHB4OyB9XG5cdFx0XHRcdC5sYWMtYWN0aW9uYmFyLXNlYXJjaCBpbnB1dCB7IHBhZGRpbmctbGVmdDogMzBweDsgfVxuXHRcdFx0fVxuXHRcdGA7XG5cdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH1cblxuXHRwcml2YXRlIGluamVjdEhlYWRlckZpeFN0eWxlcygpIHtcblx0XHRjb25zdCBTVFlMRV9JRCA9ICdsYWMtY29zdHNldC1oZWFkZXItc3R5bGVzJztcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU1RZTEVfSUQpKSByZXR1cm47XG5cdFx0Y29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXHRcdHN0eWxlLmlkID0gU1RZTEVfSUQ7XG5cdFx0c3R5bGUudGV4dENvbnRlbnQgPSBgXG5cdFx0XHQvKiBcdTRFQzVcdTRGNUNcdTc1MjhcdTRFOEVcdTY3MkNcdTg5QzZcdTU2RkVcdUZGMUFcdTRGRERcdThCQzFcdTdBODRcdTVCQkRcdTY1RjZcdTRFNUZcdTY2M0VcdTc5M0FcdTY4MDdcdTk4OThcdTY4MEZcdTgzRENcdTUzNTUvXHU4RkQ0XHU1NkRFXHU1MzNBXHU1N0RGICovXG5cdFx0XHQud29ya3NwYWNlLWxlYWZbZGF0YS10eXBlPVwibGFjLWNvc3RzZXQtdmlld1wiXSAudmlldy1oZWFkZXIgeyBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7IH1cblx0XHRcdC53b3Jrc3BhY2UtbGVhZltkYXRhLXR5cGU9XCJsYWMtY29zdHNldC12aWV3XCJdIC52aWV3LWhlYWRlciAudmlldy1hY3Rpb25zIHsgZGlzcGxheTogaW5saW5lLWZsZXggIWltcG9ydGFudDsgZ2FwOiA2cHg7IH1cblx0XHRcdC53b3Jrc3BhY2UtbGVhZltkYXRhLXR5cGU9XCJsYWMtY29zdHNldC12aWV3XCJdIC52aWV3LWhlYWRlci10aXRsZS1jb250YWluZXIgeyBtaW4td2lkdGg6IDA7IH1cblx0XHRcdC53b3Jrc3BhY2UtbGVhZltkYXRhLXR5cGU9XCJsYWMtY29zdHNldC12aWV3XCJdIC52aWV3LWhlYWRlci10aXRsZSB7IG1heC13aWR0aDogNjAlOyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgfVxuXHRcdFx0QG1lZGlhIChtYXgtd2lkdGg6IDcyMHB4KSB7XG5cdFx0XHRcdC53b3Jrc3BhY2UtbGVhZltkYXRhLXR5cGU9XCJsYWMtY29zdHNldC12aWV3XCJdIC52aWV3LWhlYWRlci10aXRsZSB7IG1heC13aWR0aDogNDUlOyB9XG5cdFx0XHR9XG5cdFx0XHRAbWVkaWEgKG1heC13aWR0aDogNTYwcHgpIHtcblx0XHRcdFx0LndvcmtzcGFjZS1sZWFmW2RhdGEtdHlwZT1cImxhYy1jb3N0c2V0LXZpZXdcIl0gLnZpZXctaGVhZGVyLXRpdGxlIHsgbWF4LXdpZHRoOiAzNSU7IH1cblx0XHRcdH1cblx0XHRgO1xuXHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9XG5cbiAgICBwcml2YXRlIG9wZW5Tb3J0TWVudShhbmNob3JFbDogSFRNTEVsZW1lbnQsIG9uU2VsZWN0OiAobW9kZTogJ25vbmUnIHwgJ2RhaWx5RGVzYycgfCAncHJpY2VEZXNjJyB8ICdkYXRlRGVzYycpID0+IHZvaWQpIHtcbiAgICAgICAgLy8gXHU4MkU1XHU1REYyXHU1QjU4XHU1NzI4XHU1MTQ4XHU2RTA1XHU3NDA2XG4gICAgICAgIHRoaXMuY2xvc2VFeGlzdGluZ1NvcnRNZW51KCk7XG5cbiAgICAgICAgY29uc3QgcmVjdCA9IGFuY2hvckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBtZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG1lbnUuY2xhc3NOYW1lID0gJ2xhYy1zb3J0LW1lbnUnO1xuXG4gICAgICAgIGNvbnN0IGJ1aWxkSXRlbSA9IChsYWJlbDogc3RyaW5nLCB2YWx1ZTogJ25vbmUnIHwgJ2RhaWx5RGVzYycgfCAncHJpY2VEZXNjJyB8ICdkYXRlRGVzYycpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ21lbnUtaXRlbScgKyAodGhpcy5zb3J0TW9kZSA9PT0gdmFsdWUgPyAnIGFjdGl2ZScgOiAnJyk7XG4gICAgICAgICAgICBpdGVtLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMuc29ydE1vZGUgPT09IHZhbHVlID8gJ25vbmUnIDogdmFsdWU7XG4gICAgICAgICAgICAgICAgb25TZWxlY3QobmV4dCBhcyBhbnkpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VFeGlzdGluZ1NvcnRNZW51KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9O1xuXG5cdFx0bWVudS5hcHBlbmRDaGlsZChidWlsZEl0ZW0odCgndmlldy5zb3J0Lm1lbnUuZGFpbHlEZXNjJyksICdkYWlseURlc2MnKSk7XG5cdFx0bWVudS5hcHBlbmRDaGlsZChidWlsZEl0ZW0odCgndmlldy5zb3J0Lm1lbnUucHJpY2VEZXNjJyksICdwcmljZURlc2MnKSk7XG5cdFx0bWVudS5hcHBlbmRDaGlsZChidWlsZEl0ZW0odCgndmlldy5zb3J0Lm1lbnUuZGF0ZURlc2MnKSwgJ2RhdGVEZXNjJykpO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWVudSk7XG4gICAgICAgIC8vIFx1NUI5QVx1NEY0RFx1NTIzMFx1NjMwOVx1OTRBRVx1NEUwQlx1NjVCOVxuICAgICAgICBjb25zdCB0b3AgPSByZWN0LmJvdHRvbSArIDY7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBNYXRoLm1pbihNYXRoLm1heCg4LCByZWN0LmxlZnQpLCB3aW5kb3cuaW5uZXJXaWR0aCAtIDE4MCk7XG4gICAgICAgIG1lbnUuc3R5bGUudG9wID0gYCR7dG9wfXB4YDtcbiAgICAgICAgbWVudS5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG5cbiAgICAgICAgY29uc3Qgb25Eb2NDbGljayA9IChldjogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFtZW51LmNvbnRhaW5zKGV2LnRhcmdldCBhcyBOb2RlKSkgdGhpcy5jbG9zZUV4aXN0aW5nU29ydE1lbnUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25Fc2MgPSAoZXY6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldi5rZXkgPT09ICdFc2NhcGUnKSB0aGlzLmNsb3NlRXhpc3RpbmdTb3J0TWVudSgpO1xuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbkRvY0NsaWNrLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVzYywgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICAobWVudSBhcyBhbnkpLl9jbGVhbnVwID0gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb2NDbGljayk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25Fc2MpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFx1OEJBOVx1ODlDNlx1NTZGRVx1NTNFRlx1ODhBQiBzZXRWaWV3U3RhdGUgXHU2MDYyXHU1OTBEXHU0RTBFXHU1QkZDXHU4MjJBXHVGRjFBXHU0RkREXHU1QjU4L1x1NUU5NFx1NzUyOFx1NzJCNlx1NjAwMVxuICAgIGdldFN0YXRlKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB7IGZpbGVQYXRoOiB0aGlzLmZpbGVQYXRoIH07XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0U3RhdGUoc3RhdGU6IGFueSwgcmVzdWx0OiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgbmV4dFBhdGggPSBzdGF0ZT8uZmlsZVBhdGggYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAobmV4dFBhdGggJiYgbmV4dFBhdGggIT09IHRoaXMuZmlsZVBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsZVBhdGggPSBuZXh0UGF0aDtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXNlRmlsZShuZXh0UGF0aCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gXHU4MkU1XHU2NUUwXHU4REVGXHU1Rjg0XHVGRjBDXHU2RTA1XHU3QTdBXHU1RTc2XHU2M0QwXHU3OTNBXG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG4gICAgICAgIGNvbnRhaW5lckVsLmFkZENsYXNzKCdwYWdlLXJvb3QnKTtcbiAgICAgICAgY29uc3QgaGludCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdigpO1xuICAgICAgICBoaW50LnN0eWxlLnBhZGRpbmcgPSAnMTZweCc7XG4gICAgICAgIGhpbnQuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xuICAgICAgICBoaW50LnRleHRDb250ZW50ID0gJ1x1NEVDRVx1NjU4N1x1NEVGNlx1NzY4NFx1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NVx1NEUyRFx1OTAwOVx1NjJFOSBcdTIwMUNcdTc1MjggTGFDLkNvc3RTZXQgXHU2MjUzXHU1RjAwXHUyMDFEXHUzMDAyJztcbiAgICB9XG5cbiAgICBwcml2YXRlIGNsb3NlRXhpc3RpbmdTb3J0TWVudSgpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFjLXNvcnQtbWVudScpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBjb25zdCBjbGVhbnVwID0gKGV4aXN0aW5nIGFzIGFueSkuX2NsZWFudXAgYXMgKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGNsZWFudXApIGNsZWFudXAoKTtcbiAgICAgICAgICAgIGV4aXN0aW5nLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG5cdHByaXZhdGUgc3ZnU2VhcmNoKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGBcblx0XHRcdDxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuXHRcdFx0XHQ8Y2lyY2xlIGN4PVwiMTFcIiBjeT1cIjExXCIgcj1cIjdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIvPlxuXHRcdFx0XHQ8bGluZSB4MT1cIjIwXCIgeTE9XCIyMFwiIHgyPVwiMTYuNjVcIiB5Mj1cIjE2LjY1XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIi8+XG5cdFx0XHQ8L3N2Zz5cblx0XHRgO1xuXHR9XG5cblx0cHJpdmF0ZSBzdmdQbHVzKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGBcblx0XHRcdDxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuXHRcdFx0XHQ8cGF0aCBkPVwiTTEyIDV2MTRNNSAxMmgxNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIvPlxuXHRcdFx0PC9zdmc+XG5cdFx0YDtcblx0fVxuXG5cdHByaXZhdGUgc3ZnU29ydCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgXG5cdFx0XHQ8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cblx0XHRcdFx0PHBhdGggZD1cIk04IDlsNC00IDQgNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG5cdFx0XHRcdDxwYXRoIGQ9XCJNMTYgMTVsLTQgNC00LTRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPlxuXHRcdFx0PC9zdmc+XG5cdFx0YDtcblx0fVxuXG5cdHByaXZhdGUgc3ZnQmFjaygpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgXG5cdFx0XHQ8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cblx0XHRcdFx0PHBhdGggZD1cIk0xNSAxOGwtNi02IDYtNlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG5cdFx0XHQ8L3N2Zz5cblx0XHRgO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJUb3BTdW1tYXJ5KGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCkge1xuXHRcdC8vIFx1OEJBMVx1N0I5N1x1N0VERlx1OEJBMVx1NjU3MFx1NjM2RVxuXHRcdGNvbnN0IGNhbGNEYXRlID0gdGhpcy5zZWxlY3RlZERhdGUgfHwgbmV3IERhdGUoKTtcblx0XHRjb25zdCBhY3RpdmVBc3NldHMgPSB0aGlzLmFzc2V0cy5maWx0ZXIoYXNzZXQgPT4gYXNzZXQuaXNBY3RpdmUoY2FsY0RhdGUpICYmICFhc3NldC5oaWRkZW4pO1xuXHRcdGNvbnN0IGZpbHRlcmVkQWN0aXZlQXNzZXRzID0gdGhpcy5hcHBseVRhZ0ZpbHRlcihhY3RpdmVBc3NldHMpO1xuXHRcdGNvbnN0IHRvdGFsQ29zdCA9IGZpbHRlcmVkQWN0aXZlQXNzZXRzLnJlZHVjZSgoc3VtLCBhc3NldCkgPT4gc3VtICsgYXNzZXQucHJpY2UsIDApO1xuXHRcdGNvbnN0IHRvdGFsUmVjeWNsZSA9IGZpbHRlcmVkQWN0aXZlQXNzZXRzLnJlZHVjZSgoc3VtLCBhc3NldCkgPT4gc3VtICsgYXNzZXQucmVjeWNsZVByaWNlLCAwKTtcblx0XHRjb25zdCB0b3RhbERhaWx5Q29zdCA9IGZpbHRlcmVkQWN0aXZlQXNzZXRzLnJlZHVjZSgoc3VtLCBhc3NldCkgPT4gc3VtICsgYXNzZXQuZ2V0RGFpbHlDb3N0KGNhbGNEYXRlKSwgMCk7XG5cdFx0XG5cdFx0Ly8gXHU4M0I3XHU1M0Q2XHU2MjQwXHU2NzA5XHU2ODA3XHU3QjdFXHVGRjA4XHU0RUNFXHU1MTY4XHU5MEU4XHU4RDQ0XHU0RUE3XHU2NTM2XHU5NkM2XHVGRjA5XHVGRjBDXHU1RTc2XHU4RkRCXHU4ODRDXHU1NkZBXHU1QjlBXHU5ODdBXHU1RThGXHU2MzkyXHU1RThGXHVGRjA4XHU0RTJEXHU2NTg3XHUzMDAxXHU1RkZEXHU3NTY1XHU1OTI3XHU1QzBGXHU1MTk5XHUzMDAxXHU2NTcwXHU1MDNDXHU5ODdBXHU1RThGXHVGRjA5XG5cdFx0Y29uc3QgYWxsVGFncyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXHRcdHRoaXMuYXNzZXRzLmZvckVhY2goYXNzZXQgPT4ge1xuXHRcdFx0KGFzc2V0LnRhZ3MgfHwgW10pLmZvckVhY2godGFnID0+IGFsbFRhZ3MuYWRkKHRhZykpO1xuXHRcdH0pO1xuXHRcdGNvbnN0IGNvbGxhdG9yID0gbmV3IEludGwuQ29sbGF0b3IoJ3poJywgeyBzZW5zaXRpdml0eTogJ2Jhc2UnLCBudW1lcmljOiB0cnVlIH0pO1xuXHRcdGNvbnN0IHRhZ3NBcnJheSA9IEFycmF5LmZyb20oYWxsVGFncykuc29ydCgoYSwgYikgPT4gY29sbGF0b3IuY29tcGFyZShhLCBiKSk7XG5cblx0XHQvLyBcdThCQTFcdTdCOTdcdTVFNzRcdTRFRkRcdTgzMDNcdTU2RjRcdUZGMUFcdTRFQ0VcdTY3MDBcdTY1RTlcdThENDRcdTRFQTdcdTVFNzRcdTRFRkRcdTUyMzBcdTY3MkFcdTY3NjU3XHU1RTc0XG5cdFx0Y29uc3QgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cdFx0Y29uc3QgbWF4WWVhciA9IGN1cnJlbnRZZWFyICsgNzsgLy8gXHU2NzJBXHU2NzY1N1x1NUU3NFxuXHRcdFxuXHRcdGxldCBtaW5ZZWFyID0gY3VycmVudFllYXI7IC8vIFx1OUVEOFx1OEJBNFx1NjcwMFx1NUMwRlx1NUU3NFx1NEVGRFx1NEUzQVx1NUY1M1x1NTI0RFx1NUU3NFx1NEVGRFxuXHRcdGlmICh0aGlzLmFzc2V0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHQvLyBcdTYyN0VcdTUyMzBcdTYyNDBcdTY3MDlcdThENDRcdTRFQTdcdTRFMkRcdTc2ODRcdTY3MDBcdTY1RTlcdTVFNzRcdTRFRkRcblx0XHRcdGNvbnN0IGVhcmxpZXN0WWVhciA9IE1hdGgubWluKC4uLnRoaXMuYXNzZXRzLm1hcChhc3NldCA9PiBhc3NldC5hY3RpdmVGcm9tLmdldEZ1bGxZZWFyKCkpKTtcblx0XHRcdG1pblllYXIgPSBlYXJsaWVzdFllYXI7XG5cdFx0fVxuXG5cdFx0Ly8gXHU4QkExXHU3Qjk3XHU1NkZFXHU4ODY4XHU2NTcwXHU2MzZFIC0gXHU0RjdGXHU3NTI4XHU0RTI0XHU2QjY1XHU2RTMyXHU2N0QzXHU3QjU2XHU3NTY1XHVGRjA4XHU1N0ZBXHU0RThFXHU3QjVCXHU5MDA5XHU1NDBFXHU3Njg0XHU4RDQ0XHU0RUE3XHVGRjA5XG5cdFx0Y29uc3QgdHJlbmRQb2ludHMgPSB0aGlzLmNhbGNUcmVuZFBvaW50cyhmaWx0ZXJlZEFjdGl2ZUFzc2V0cywgMzApO1xuXG5cdFx0Y29uc29sZS5sb2coJ1x1NkUzMlx1NjdEM1x1OTg3Nlx1OTBFOFx1N0VERlx1OEJBMVx1NTMzQVx1NTdERjonLCB7IFxuXHRcdFx0YWN0aXZlQXNzZXRzOiBhY3RpdmVBc3NldHMubGVuZ3RoLCBcblx0XHRcdHRvdGFsQ29zdCwgXG5cdFx0XHR0b3RhbFJlY3ljbGUsIFxuXHRcdFx0dG90YWxEYWlseUNvc3QsIFxuXHRcdFx0dGFnc0FycmF5LFxuXHRcdFx0eWVhclJhbmdlOiB7IG1pblllYXIsIG1heFllYXIgfVxuXHRcdH0pO1xuXG5cdFx0Ly8gXHU1MjFCXHU1RUZBVG9wU3VtbWFyeVx1N0VDNFx1NEVGNlxuXHRcdGNvbnN0IHRvcFN1bW1hcnlFbCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdigpO1xuXHRcdGNvbnN0IHRvcFN1bW1hcnlQcm9wczogVG9wU3VtbWFyeVByb3BzID0ge1xuXHRcdFx0dG90YWxEYWlseUNvc3QsXG5cdFx0XHR0b3RhbENvc3QsXG5cdFx0XHR0b3RhbFJlY3ljbGUsXG5cdFx0XHR0YWdzOiB0YWdzQXJyYXksXG5cdFx0XHRzZWxlY3RlZFRhZ3M6IHRoaXMuc2VsZWN0ZWRUYWdzLFxuXHRcdFx0b25UYWdDbGljazogKHRhZzogc3RyaW5nIHwgc3RyaW5nW10pID0+IHtcblx0XHRcdFx0Ly8gXHU2NTJGXHU2MzAxXHU1MzU1XHU0RTJBXHU2ODA3XHU3QjdFXHU1MjA3XHU2MzYyXHU2MjE2XHU2Mjc5XHU5MUNGXHU4QkJFXHU3RjZFXG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KHRhZykpIHtcblx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkVGFncyA9IFsuLi5uZXcgU2V0KHRhZyldO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICh0aGlzLnNlbGVjdGVkVGFncy5pbmNsdWRlcyh0YWcpKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkVGFncyA9IHRoaXMuc2VsZWN0ZWRUYWdzLmZpbHRlcih0ID0+IHQgIT09IHRhZyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRUYWdzID0gWy4uLnRoaXMuc2VsZWN0ZWRUYWdzLCB0YWddO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcdTk4NzVcdTk3NjJcdTRFRTVcdTUzQ0RcdTY2MjBcdTdCNUJcdTkwMDlcblx0XHRcdFx0dGhpcy5yZW5kZXJBc3NldHMoKTtcblx0XHRcdH0sXG5cdFx0XHR0cmVuZFBvaW50cyxcblx0XHRcdHNlbGVjdGVkRGF0ZTogdGhpcy5zZWxlY3RlZERhdGUsXG5cdFx0XHRvbkNoYXJ0U2VsZWN0OiAoeDogbnVtYmVyKSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdcdTU2RkVcdTg4NjhcdTkwMDlcdTYyRTk6JywgeCk7XG5cdFx0XHRcdC8vIFx1NTQwRVx1N0VFRFx1NTNFRlx1NEVFNVx1NkRGQlx1NTJBMFx1NTZGRVx1ODg2OFx1NEVBNFx1NEU5Mlx1NTI5Rlx1ODBGRFxuXHRcdFx0fSxcblx0XHRcdG9uQ2hhcnRXaWR0aDogKHc6IG51bWJlcikgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnXHU1NkZFXHU4ODY4XHU1QkJEXHU1RUE2OicsIHcpO1xuXHRcdFx0fSxcblx0XHRcdG9uRGF0ZVBpY2s6IChkYXRlU3RyOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ1x1NjVFNVx1NjcxRlx1OTAwOVx1NjJFOTonLCBkYXRlU3RyKTtcblx0XHRcdFx0Ly8gXHU1OTA0XHU3NDA2XHU2NUU1XHU2NzFGXHU5MDA5XHU2MkU5XHU5MDNCXHU4RjkxXHVGRjFBXHU0RUM1XHU2NkY0XHU2NUIwXHU3QUQ2XHU3RUJGXHU0RTBFXHU2NTcwXHU1QjU3XHVGRjBDXHU0RTBEXHU5MUNEXHU3Qjk3XHU2Mjk4XHU3RUJGXG5cdFx0XHRcdGNvbnN0IHNlbGVjdGVkRGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpO1xuXHRcdFx0XHR0aGlzLnNlbGVjdGVkRGF0ZSA9IHNlbGVjdGVkRGF0ZTsgLy8gXHU2NkY0XHU2NUIwXHU3MkI2XHU2MDAxXG5cdFx0XHRcdGlmICh0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQpIHtcblx0XHRcdFx0XHR0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQudXBkYXRlU2VsZWN0aW9uKG51bGwsIHNlbGVjdGVkRGF0ZSk7XG5cdFx0XHRcdFx0Ly8gXHU1NDBDXHU2QjY1XHU2NkY0XHU2NUIwXHU5ODc2XHU5MEU4XHU2NTcwXHU1QjU3XG5cdFx0XHRcdFx0Y29uc3QgY2FsY0RhdGUgPSBzZWxlY3RlZERhdGU7XG5cdFx0XHRcdFx0Y29uc3QgYWN0aXZlQXNzZXRzID0gdGhpcy5hc3NldHMuZmlsdGVyKGFzc2V0ID0+IGFzc2V0LmlzQWN0aXZlKGNhbGNEYXRlKSAmJiAhYXNzZXQuaGlkZGVuKTtcblx0XHRcdFx0XHRjb25zdCBmaWx0ZXJlZEFjdGl2ZUFzc2V0cyA9IHRoaXMuYXBwbHlUYWdGaWx0ZXIoYWN0aXZlQXNzZXRzKTtcblx0XHRcdFx0XHRjb25zdCB0b3RhbENvc3QgPSBmaWx0ZXJlZEFjdGl2ZUFzc2V0cy5yZWR1Y2UoKHN1bSwgYXNzZXQpID0+IHN1bSArIGFzc2V0LnByaWNlLCAwKTtcblx0XHRcdFx0XHRjb25zdCB0b3RhbFJlY3ljbGUgPSBmaWx0ZXJlZEFjdGl2ZUFzc2V0cy5yZWR1Y2UoKHN1bSwgYXNzZXQpID0+IHN1bSArIGFzc2V0LnJlY3ljbGVQcmljZSwgMCk7XG5cdFx0XHRcdFx0Y29uc3QgdG90YWxEYWlseUNvc3QgPSBmaWx0ZXJlZEFjdGl2ZUFzc2V0cy5yZWR1Y2UoKHN1bSwgYXNzZXQpID0+IHN1bSArIGFzc2V0LmdldERhaWx5Q29zdChjYWxjRGF0ZSksIDApO1xuXHRcdFx0XHRcdHRoaXMudG9wU3VtbWFyeUNvbXBvbmVudC51cGRhdGVOdW1iZXJzKHRvdGFsRGFpbHlDb3N0LCB0b3RhbENvc3QsIHRvdGFsUmVjeWNsZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gXHU0RUM1XHU1MjM3XHU2NUIwXHU1MjE3XHU4ODY4XG5cdFx0XHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0XHRcdGNvbnN0IGxpc3RFbCA9IGNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5hc3NldHMtY29udGFpbmVyJyk7XG5cdFx0XHRcdGlmIChsaXN0RWwpIHtcblx0XHRcdFx0XHQvLyBcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcdTY1NzRcdTRFMkFcdTg5QzZcdTU2RkVcdTRGMUFcdTkxQ0RcdTVFRkFcdTU2RkVcdTg4NjhcdUZGMENcdThGRDlcdTkxQ0NcdTUzRUFcdTkxQ0RcdTVFRkFcdTUyMTdcdTg4NjhcdTUzM0FcdTU3REZcblx0XHRcdFx0XHQobGlzdEVsIGFzIEhUTUxFbGVtZW50KS5yZW1vdmUoKTtcblx0XHRcdFx0XHRjb25zdCBuZXdMaXN0ID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdhc3NldHMtY29udGFpbmVyJyk7XG5cdFx0XHRcdFx0dGhpcy5yZW5kZXJBc3NldENhcmRzKG5ld0xpc3QpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIFx1ODJFNVx1OTk5Nlx1NkIyMVx1OEZEQlx1NTE2NVx1RkYwQ1x1NkI2M1x1NUUzOFx1NjU3NFx1NEY1M1x1NkUzMlx1NjdEM1xuXHRcdFx0XHRcdHRoaXMucmVuZGVyQXNzZXRzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRtaW5ZZWFyLFxuXHRcdFx0bWF4WWVhclxuXHRcdH07XG5cblx0XHR0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQgPSBuZXcgVG9wU3VtbWFyeSh0b3BTdW1tYXJ5RWwsIHRvcFN1bW1hcnlQcm9wcyk7XG5cdFx0dGhpcy50b3BTdW1tYXJ5Q29tcG9uZW50LnJlbmRlcigpO1xuXG5cdFx0Ly8gXHU1RjAyXHU2QjY1XHU3RUM2XHU1MzE2XHU1NkZFXHU4ODY4XHVGRjA4XHU1N0ZBXHU0RThFXHU1RjUzXHU1MjREXHU3QjVCXHU5MDA5XHU1NDBFXHU3Njg0XHU4RDQ0XHU0RUE3XHVGRjA5XG5cdFx0dGhpcy5yZW5kZXJDaGFydFdpdGhQcm9ncmVzc2l2ZVJlZmluZW1lbnQoZmlsdGVyZWRBY3RpdmVBc3NldHMpO1xuXHRcdFxuXHRcdGNvbnNvbGUubG9nKCdcdTk4NzZcdTkwRThcdTdFREZcdThCQTFcdTUzM0FcdTU3REZcdTVERjJcdTUyMUJcdTVFRkE6JywgdG9wU3VtbWFyeUVsKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0Q3VycmVuY3lTeW1ib2woKTogc3RyaW5nIHtcblx0XHRjb25zdCB7IHQgfSA9IHJlcXVpcmUoJy4uL2kxOG4nKTtcblx0XHRyZXR1cm4gdCgnY3VycmVuY3kuc3ltYm9sJyk7XG5cdH1cblxuXHQvLyBcdTZFMTBcdThGREJcdTVGMEZcdTdFQzZcdTUzMTZcdTZFMzJcdTY3RDNcdUZGMDhcdTUzQzJcdTgwMDNjb3N0c2V0YXBwXHU1QjlFXHU3M0IwXHVGRjA5XG5cdHByaXZhdGUgcmVuZGVyQ2hhcnRXaXRoUHJvZ3Jlc3NpdmVSZWZpbmVtZW50KGFzc2V0czogQXNzZXRbXSkge1xuXHRcdGlmIChhc3NldHMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cdFx0XG5cdFx0Ly8gXHU4QkExXHU3Qjk3XHU2MjQwXHU2NzA5XHU4RDQ0XHU0RUE3XHU3Njg0IGFjdGl2ZV90byBcdTY3MDBcdTU5MjdcdTUwM0Ncblx0XHRsZXQgbWF4QWN0aXZlVG8gPSAwO1xuXHRcdGFzc2V0cy5mb3JFYWNoKGEgPT4ge1xuXHRcdFx0Y29uc3QgdG8gPSBhLmFjdGl2ZVRvO1xuXHRcdFx0aWYgKHRvKSB7XG5cdFx0XHRcdGNvbnN0IHQgPSB0by5nZXRUaW1lKCk7XG5cdFx0XHRcdGlmICh0ICYmIHQgPiBtYXhBY3RpdmVUbykgbWF4QWN0aXZlVG8gPSB0O1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgbWF4RGF0ZSA9IG1heEFjdGl2ZVRvICYmIG1heEFjdGl2ZVRvID4gbm93LmdldFRpbWUoKSA/IG5ldyBEYXRlKG1heEFjdGl2ZVRvKSA6IG5vdztcblx0XHRcblx0XHQvLyBcdTdCMkNcdTRFMDBcdTZCNjVcdUZGMUFcdTUyMURcdTU5Q0JcdTcwQjlcdTVFNzZcdTg4NENcblx0XHRjb25zdCBpbml0aWFsUG9pbnRzID0gdGhpcy5jYWxjVHJlbmRQb2ludHMoYXNzZXRzLCAzMCwgdW5kZWZpbmVkLCBtYXhEYXRlKTtcblx0XHRpZiAodGhpcy50b3BTdW1tYXJ5Q29tcG9uZW50KSB7XG5cdFx0XHR0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQudXBkYXRlQ2hhcnQoaW5pdGlhbFBvaW50cyk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFx1N0IyQ1x1NEU4Q1x1NkI2NVx1RkYxQVx1NUYwMlx1NkI2NVx1N0VDNlx1NTMxNlx1NUU3Nlx1ODg0QyAtIDMwKjMwXHU0RTJBXHU3MEI5XG5cdFx0c2V0VGltZW91dChhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBzZWdQcm9taXNlczogUHJvbWlzZTx7IGRhdGU6IERhdGU7IHZhbHVlOiBudW1iZXI7IH1bXT5bXSA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbml0aWFsUG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuXHRcdFx0XHRzZWdQcm9taXNlcy5wdXNoKFxuXHRcdFx0XHRcdFByb21pc2UucmVzb2x2ZSh0aGlzLmNhbGNUcmVuZFBvaW50cyhhc3NldHMsIDMwLCBpbml0aWFsUG9pbnRzW2ldLmRhdGUsIGluaXRpYWxQb2ludHNbaSArIDFdLmRhdGUpKS50aGVuKHNlZ1BvaW50cyA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoaSA+IDApIHJldHVybiBzZWdQb2ludHMuc2xpY2UoMSk7IC8vIFx1OTA3Rlx1NTE0RFx1OTFDRFx1NTkwRFx1NzBCOVxuXHRcdFx0XHRcdFx0cmV0dXJuIHNlZ1BvaW50cztcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3Qgc2VnUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHNlZ1Byb21pc2VzKTtcblx0XHRcdGNvbnN0IGZpbmVQb2ludHMgPSBzZWdSZXN1bHRzLmZsYXQoKTtcblx0XHRcdGlmICh0aGlzLnRvcFN1bW1hcnlDb21wb25lbnQpIHtcblx0XHRcdFx0dGhpcy50b3BTdW1tYXJ5Q29tcG9uZW50LnVwZGF0ZUNoYXJ0KGZpbmVQb2ludHMpO1xuXHRcdFx0fVxuXHRcdH0sIDUwMCk7XG5cdH1cblxuXHQvLyBcdTVDMDZcdTY4MDdcdTdCN0VcdTdCNUJcdTkwMDlcdTVFOTRcdTc1MjhcdTUyMzBcdTdFRDlcdTVCOUFcdThENDRcdTRFQTdcdTk2QzZcblx0cHJpdmF0ZSBhcHBseVRhZ0ZpbHRlcihpbnB1dDogQXNzZXRbXSk6IEFzc2V0W10ge1xuXHRcdGlmICghdGhpcy5zZWxlY3RlZFRhZ3MgfHwgdGhpcy5zZWxlY3RlZFRhZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gaW5wdXQ7XG5cdFx0cmV0dXJuIGlucHV0LmZpbHRlcihhID0+IGEudGFncz8uc29tZSh0ID0+IHRoaXMuc2VsZWN0ZWRUYWdzLmluY2x1ZGVzKHQpKSk7XG5cdH1cblxuXHRwcml2YXRlIGNhbGNUcmVuZFBvaW50cyhhc3NldHM6IEFzc2V0W10sIGNvdW50OiBudW1iZXIsIGZyb21EYXRlPzogRGF0ZSwgdG9EYXRlPzogRGF0ZSk6IHsgZGF0ZTogRGF0ZSwgdmFsdWU6IG51bWJlciB9W10ge1xuXHRcdGlmIChhc3NldHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG5cdFx0XG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBtaW5EYXRlID0gZnJvbURhdGUgfHwgbmV3IERhdGUoTWF0aC5taW4oLi4uYXNzZXRzLm1hcChhID0+IGEuYWN0aXZlRnJvbS5nZXRUaW1lKCkpKSk7XG5cdFx0Y29uc3QgbWF4QWN0aXZlVG8gPSBNYXRoLm1heCguLi5hc3NldHMubWFwKGEgPT4ge1xuXHRcdFx0Y29uc3QgdG8gPSBhLmFjdGl2ZVRvO1xuXHRcdFx0aWYgKHRvKSB7XG5cdFx0XHRcdGNvbnN0IHQgPSB0by5nZXRUaW1lKCk7XG5cdFx0XHRcdGlmICghaXNOYU4odCkpIHJldHVybiB0O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5vdy5nZXRUaW1lKCk7XG5cdFx0fSkpO1xuXHRcdGNvbnN0IG1heERhdGUgPSB0b0RhdGUgfHwgbmV3IERhdGUobWF4QWN0aXZlVG8pO1xuXHRcdFxuXHRcdGNvbnN0IHBvaW50czogeyBkYXRlOiBEYXRlLCB2YWx1ZTogbnVtYmVyIH1bXSA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuXHRcdFx0Y29uc3QgdCA9IG1pbkRhdGUuZ2V0VGltZSgpICsgKG1heERhdGUuZ2V0VGltZSgpIC0gbWluRGF0ZS5nZXRUaW1lKCkpICogaSAvIChjb3VudCAtIDEpO1xuXHRcdFx0Y29uc3QgZGF0ZSA9IG5ldyBEYXRlKHQpO1xuXHRcdFx0bGV0IHRvdGFsQ29zdCA9IDA7XG5cdFx0XHRcblx0XHRcdC8vIFx1OEJBMVx1N0I5N1x1NTcyOFx1OEJFNVx1NjVGNlx1OTVGNFx1NzBCOVx1NkQzQlx1OERDM1x1NzY4NFx1OEQ0NFx1NEVBN1x1NzY4NFx1NjVFNVx1NTc0N1x1NjIxMFx1NjcyQ1x1NjAzQlx1NTQ4Q1xuXHRcdFx0YXNzZXRzLmZvckVhY2goYSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNvc3QgPSB0aGlzLmNhbGNEYWlseUNvc3QoYS5wcmljZSwgYS5yZWN5Y2xlUHJpY2UsIGEuYWN0aXZlRnJvbSwgYS5hY3RpdmVUbywgZGF0ZSk7XG5cdFx0XHRcdGlmIChpc0Zpbml0ZShjb3N0KSkgdG90YWxDb3N0ICs9IGNvc3Q7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0cG9pbnRzLnB1c2goeyBkYXRlLCB2YWx1ZTogdG90YWxDb3N0IH0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcG9pbnRzO1xuXHR9XG5cblx0Ly8gXHU4QkExXHU3Qjk3XHU2NUU1XHU1NzQ3XHU2MjEwXHU2NzJDXHVGRjA4XHU1M0MyXHU4MDAzY29zdHNldGFwcFx1N0I5N1x1NkNENVx1RkYwOVxuXHRwcml2YXRlIGNhbGNEYWlseUNvc3QocHJpY2U6IG51bWJlciwgcmVjeWNsZTogbnVtYmVyLCBmcm9tOiBEYXRlLCB0bzogRGF0ZSB8IG51bGwgfCB1bmRlZmluZWQsIG5vdzogRGF0ZSk6IG51bWJlciB7XG5cdFx0aWYgKCFmcm9tKSByZXR1cm4gMDtcblx0XHRjb25zdCBkYXlzID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGZyb20uZ2V0VGltZSgpKSAvIDg2NDAwMDAwKSArIDE7XG5cdFx0aWYgKCF0byB8fCB0byA+IG5vdykge1xuXHRcdFx0cmVjeWNsZSA9IDA7XG5cdFx0fVxuXHRcdGlmICghaXNGaW5pdGUoZGF5cykgfHwgZGF5cyA8PSAwKSByZXR1cm4gMDtcblx0XHRjb25zdCByZXN1bHQgPSAoTnVtYmVyKHByaWNlKSAtIE51bWJlcihyZWN5Y2xlIHx8IDApKSAvIGRheXM7XG5cdFx0cmV0dXJuIGlzRmluaXRlKHJlc3VsdCkgPyByZXN1bHQgOiAwO1xuXHR9XG5cbn1cbiIsICJleHBvcnQgaW50ZXJmYWNlIFRhZ1BhbmVsUHJvcHMge1xyXG5cdHRhZ3M6IHN0cmluZ1tdO1xyXG5cdHNlbGVjdGVkVGFnczogc3RyaW5nW107XHJcblx0b25UYWdDbGljazogKHRhZzogc3RyaW5nIHwgc3RyaW5nW10pID0+IHZvaWQ7XHJcblx0bWF4SGVpZ2h0Pzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnUGFuZWwge1xyXG5cdHByaXZhdGUgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcHJvcHM6IFRhZ1BhbmVsUHJvcHM7XHJcblx0cHJpdmF0ZSBwYW5lbFZpc2libGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRwcml2YXRlIHBhbmVsU2VsZWN0ZWQ6IHN0cmluZ1tdID0gW107XHJcblx0cHJpdmF0ZSBzZWFyY2hLZXl3b3JkOiBzdHJpbmcgPSAnJztcclxuXHRwcml2YXRlIG1hc2tFbD86IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcGFuZWxFbD86IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgbGFiZWxzRWw/OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHNlYXJjaEVsPzogSFRNTElucHV0RWxlbWVudDtcclxuICAgIC8vIGkxOG4gXHU1RUY2XHU1NDBFXHU1MkEwXHU4RjdEXHVGRjBDXHU5MDdGXHU1MTREXHU3ODZDXHU0RjlEXHU4RDU2XHVGRjFBXHU0RjdGXHU3NTI4XHU1MkE4XHU2MDAxXHU1QkZDXHU1MTY1XHJcblxyXG5cdGNvbnN0cnVjdG9yKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgcHJvcHM6IFRhZ1BhbmVsUHJvcHMpIHtcclxuXHRcdHRoaXMuY29udGFpbmVyRWwgPSBjb250YWluZXJFbDtcclxuXHRcdHRoaXMucHJvcHMgPSBwcm9wcztcclxuXHRcdHRoaXMucGFuZWxTZWxlY3RlZCA9IFsuLi5wcm9wcy5zZWxlY3RlZFRhZ3NdO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xyXG5cdFx0dGhpcy5jb250YWluZXJFbC5hZGRDbGFzcygndG9wLXN1bW1hcnktbGFiZWxzJyk7XHJcblx0XHRcclxuXHRcdC8vIFx1OEJCRVx1N0Y2RVx1NjcwMFx1NTkyN1x1OUFEOFx1NUVBNlxyXG5cdFx0aWYgKHRoaXMucHJvcHMubWF4SGVpZ2h0KSB7XHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuc3R5bGUubWF4SGVpZ2h0ID0gdGhpcy5wcm9wcy5tYXhIZWlnaHQ7XHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuc3R5bGUub3ZlcmZsb3dZID0gdGhpcy5wcm9wcy5tYXhIZWlnaHQgIT09ICdhdXRvJyA/ICdhdXRvJyA6ICd2aXNpYmxlJztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTZFMzJcdTY3RDNcdTY4MDdcdTdCN0VcdTUyMTdcdTg4NjhcclxuXHRcdHRoaXMucmVuZGVyVGFnTGlzdCgpO1xyXG5cdFx0XHJcblx0XHQvLyBcdTZFMzJcdTY3RDNcdTkwMDlcdTYyRTlcdTk3NjJcdTY3N0ZcdUZGMDhcdTU5ODJcdTY3OUNcdTUzRUZcdTg5QzFcdUZGMDlcclxuXHRcdGlmICh0aGlzLnBhbmVsVmlzaWJsZSkge1xyXG5cdFx0XHR0aGlzLnJlbmRlclNlbGVjdGlvblBhbmVsKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclRhZ0xpc3QoKTogdm9pZCB7XHJcblx0XHR0aGlzLnByb3BzLnRhZ3MuZm9yRWFjaCh0YWcgPT4ge1xyXG5cdFx0XHRjb25zdCBsYWJlbEVsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVTcGFuKCd0b3Atc3VtbWFyeS1sYWJlbCcpO1xyXG5cdFx0XHRsYWJlbEVsLnRleHRDb250ZW50ID0gdGFnO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2VsZWN0ZWRUYWdzLmluY2x1ZGVzKHRhZykpIHtcclxuXHRcdFx0XHRsYWJlbEVsLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRsYWJlbEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdHRoaXMucHJvcHMub25UYWdDbGljayh0YWcpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1NzBCOVx1NTFGQlx1NEU4Qlx1NEVGNlx1Njc2NVx1NjYzRVx1NzkzQVx1OTAwOVx1NjJFOVx1OTc2Mlx1Njc3RlxyXG5cdFx0dGhpcy5jb250YWluZXJFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0dGhpcy5zaG93U2VsZWN0aW9uUGFuZWwoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzaG93U2VsZWN0aW9uUGFuZWwoKTogdm9pZCB7XHJcblx0XHR0aGlzLnBhbmVsVmlzaWJsZSA9IHRydWU7XHJcblx0XHR0aGlzLnBhbmVsU2VsZWN0ZWQgPSBbLi4udGhpcy5wcm9wcy5zZWxlY3RlZFRhZ3NdO1xyXG5cdFx0dGhpcy5yZW5kZXIoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaGlkZVNlbGVjdGlvblBhbmVsKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5wYW5lbFZpc2libGUgPSBmYWxzZTtcclxuXHRcdGlmICh0aGlzLm1hc2tFbCAmJiB0aGlzLm1hc2tFbC5wYXJlbnRFbGVtZW50KSB7XHJcblx0XHRcdHRoaXMubWFza0VsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5tYXNrRWwpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5tYXNrRWwgPSB1bmRlZmluZWQ7XHJcblx0XHR0aGlzLnBhbmVsRWwgPSB1bmRlZmluZWQ7XHJcblx0XHR0aGlzLmxhYmVsc0VsID0gdW5kZWZpbmVkO1xyXG5cdFx0dGhpcy5zZWFyY2hFbCA9IHVuZGVmaW5lZDtcclxuXHRcdHRoaXMucmVuZGVyKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclNlbGVjdGlvblBhbmVsKCk6IHZvaWQge1xyXG5cdFx0Ly8gXHU1OTBEXHU3NTI4XHU5MDZFXHU3RjY5XHU1QzQyXHU0RTBFXHU5NzYyXHU2NzdGXHVGRjBDXHU5MDdGXHU1MTREXHU5MUNEXHU1RUZBXHU1QkZDXHU4MUY0XHU2RURBXHU1MkE4XHU0RTIyXHU1OTMxXHJcblx0XHRpZiAoIXRoaXMubWFza0VsKSB7XHJcblx0XHRcdHRoaXMubWFza0VsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoJ3RvcC1zdW1tYXJ5LXBhbmVsLW1hc2snKTtcclxuXHRcdFx0dGhpcy5tYXNrRWwuc3R5bGUuekluZGV4ID0gJzk5OTknO1xyXG5cdFx0XHR0aGlzLm1hc2tFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNvbmZpcm1TZWxlY3Rpb24oKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCF0aGlzLnBhbmVsRWwpIHtcclxuXHRcdFx0dGhpcy5wYW5lbEVsID0gdGhpcy5tYXNrRWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS1wYW5lbCcpO1xyXG5cdFx0XHR0aGlzLnBhbmVsRWwuc3R5bGUuekluZGV4ID0gJzEwMDAwJztcclxuXHRcdFx0dGhpcy5wYW5lbEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTY0MUNcdTdEMjJcdTY4NDZcdUZGMUFcdTUyMUJcdTVFRkFcdTYyMTZcdTU5MERcdTc1MjhcdUZGMENcdTVFNzZcdTdFRDFcdTVCOUFcdThGOTNcdTUxNjVcclxuXHRcdGlmICghdGhpcy5zZWFyY2hFbCkge1xyXG5cdFx0XHR0aGlzLnNlYXJjaEVsID0gdGhpcy5wYW5lbEVsLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0XHRjbHM6ICd0b3Atc3VtbWFyeS1wYW5lbC1zZWFyY2gnLFxyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiAocmVxdWlyZSgnLi4vaTE4bicpIGFzIGFueSk/LnQ/LigndGFncy5zZWFyY2gucGxhY2Vob2xkZXInKSB8fCAnXHU2NDFDXHU3RDIyXHU2ODA3XHU3QjdFJyxcclxuXHRcdFx0XHR0eXBlOiAndGV4dCdcclxuXHRcdFx0fSkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdFx0dGhpcy5zZWFyY2hFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaEtleXdvcmQgPSAodGhpcy5zZWFyY2hFbD8udmFsdWUgfHwgJycpLnRyaW0oKTtcclxuXHRcdFx0XHR0aGlzLnJlbmRlclNlbGVjdGlvblBhbmVsKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuc2VhcmNoRWwpIHtcclxuXHRcdFx0dGhpcy5zZWFyY2hFbC52YWx1ZSA9IHRoaXMuc2VhcmNoS2V5d29yZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTY4MDdcdTdCN0VcdTUyMTdcdTg4NjhcdUZGMDhcdTUzRUZcdTZFREFcdTUyQThcdUZGMDlcclxuXHRcdGNvbnN0IHByZXZTY3JvbGxUb3AgPSB0aGlzLmxhYmVsc0VsID8gdGhpcy5sYWJlbHNFbC5zY3JvbGxUb3AgOiAwO1xyXG5cdFx0aWYgKCF0aGlzLmxhYmVsc0VsKSB7XHJcblx0XHRcdHRoaXMubGFiZWxzRWwgPSB0aGlzLnBhbmVsRWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS1wYW5lbC1sYWJlbHMnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMubGFiZWxzRWwuZW1wdHkoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBsb3dlciA9IHRoaXMuc2VhcmNoS2V5d29yZC50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0Y29uc3QgdmlzaWJsZVRhZ3MgPSBsb3dlciA/IHRoaXMucHJvcHMudGFncy5maWx0ZXIodCA9PiB0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXIpKSA6IHRoaXMucHJvcHMudGFncztcclxuXHRcdHZpc2libGVUYWdzLmZvckVhY2godGFnID0+IHtcclxuXHRcdFx0Y29uc3QgbGFiZWxFbCA9IHRoaXMubGFiZWxzRWwhLmNyZWF0ZVNwYW4oJ3RvcC1zdW1tYXJ5LXBhbmVsLWxhYmVsJyk7XHJcblx0XHRcdGxhYmVsRWwudGV4dENvbnRlbnQgPSB0YWc7XHJcblx0XHRcdGlmICh0aGlzLnBhbmVsU2VsZWN0ZWQuaW5jbHVkZXModGFnKSkge1xyXG5cdFx0XHRcdGxhYmVsRWwuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0bGFiZWxFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHQvLyBcdTRFQzVcdTY2RjRcdTY1QjBcdTUxODVcdTVCQjlcdUZGMENcdTRFMERcdTk1MDBcdTZCQzFcdTk3NjJcdTY3N0ZcdUZGMENcdTRGRERcdTc1NTlcdTZFREFcdTUyQThcdTRGNERcdTdGNkVcclxuXHRcdFx0XHR0aGlzLnRvZ2dsZVRhZ1NlbGVjdGlvbih0YWcpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0Ly8gXHU2MDYyXHU1OTBEXHU2RURBXHU1MkE4XHU0RjREXHU3RjZFXHJcblx0XHRpZiAodGhpcy5sYWJlbHNFbCkge1xyXG5cdFx0XHR0aGlzLmxhYmVsc0VsLnNjcm9sbFRvcCA9IHByZXZTY3JvbGxUb3A7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gXHU1RTk1XHU5MEU4XHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFXHVGRjA4XHU4MkU1XHU2NzJBXHU1MjFCXHU1RUZBXHU1MjE5XHU1MjFCXHU1RUZBXHU0RTAwXHU2QjIxXHVGRjA5XHJcblx0XHRsZXQgYWN0aW9uc0VsID0gdGhpcy5wYW5lbEVsLnF1ZXJ5U2VsZWN0b3IoJy50b3Atc3VtbWFyeS1wYW5lbC1hY3Rpb25zJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xyXG5cdFx0aWYgKCFhY3Rpb25zRWwpIHtcclxuXHRcdFx0YWN0aW9uc0VsID0gdGhpcy5wYW5lbEVsLmNyZWF0ZURpdigndG9wLXN1bW1hcnktcGFuZWwtYWN0aW9ucycpO1xyXG5cdFx0XHRhY3Rpb25zRWwuc3R5bGUucGFkZGluZyA9ICc4cHggMTZweCAxMnB4IDE2cHgnO1xyXG5cdFx0XHRjb25zdCBzZWxlY3RBbGxCdG4gPSBhY3Rpb25zRWwuY3JlYXRlU3BhbigncGFuZWwtYnRuJyk7XHJcblx0XHRcdHNlbGVjdEFsbEJ0bi50ZXh0Q29udGVudCA9IChyZXF1aXJlKCcuLi9pMThuJykgYXMgYW55KT8udD8uKCd0YWdzLnNlbGVjdEFsbCcpIHx8ICdcdTUxNjhcdTkwMDknO1xyXG5cdFx0XHRzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wYW5lbFNlbGVjdGVkID0gWy4uLnRoaXMucHJvcHMudGFnc107XHJcblx0XHRcdFx0dGhpcy5yZW5kZXJTZWxlY3Rpb25QYW5lbCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Y29uc3QgZGVzZWxlY3RBbGxCdG4gPSBhY3Rpb25zRWwuY3JlYXRlU3BhbigncGFuZWwtYnRuJyk7XHJcblx0XHRcdGRlc2VsZWN0QWxsQnRuLnRleHRDb250ZW50ID0gKHJlcXVpcmUoJy4uL2kxOG4nKSBhcyBhbnkpPy50Py4oJ3RhZ3MuZGVzZWxlY3RBbGwnKSB8fCAnXHU1M0Q2XHU2RDg4XHU1MTY4XHU5MDA5JztcclxuXHRcdFx0ZGVzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wYW5lbFNlbGVjdGVkID0gW107XHJcblx0XHRcdFx0dGhpcy5yZW5kZXJTZWxlY3Rpb25QYW5lbCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdG9nZ2xlVGFnU2VsZWN0aW9uKHRhZzogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5wYW5lbFNlbGVjdGVkLmluY2x1ZGVzKHRhZykpIHtcclxuXHRcdFx0dGhpcy5wYW5lbFNlbGVjdGVkID0gdGhpcy5wYW5lbFNlbGVjdGVkLmZpbHRlcih0ID0+IHQgIT09IHRhZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnBhbmVsU2VsZWN0ZWQucHVzaCh0YWcpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5yZW5kZXJTZWxlY3Rpb25QYW5lbCgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjb25maXJtU2VsZWN0aW9uKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5wcm9wcy5vblRhZ0NsaWNrKHRoaXMucGFuZWxTZWxlY3RlZCk7XHJcblx0XHR0aGlzLmhpZGVTZWxlY3Rpb25QYW5lbCgpO1xyXG5cdH1cclxuXHJcblx0Ly8gXHU2NkY0XHU2NUIwXHU2ODA3XHU3QjdFXHJcblx0dXBkYXRlVGFncyh0YWdzOiBzdHJpbmdbXSwgc2VsZWN0ZWRUYWdzOiBzdHJpbmdbXSk6IHZvaWQge1xyXG5cdFx0dGhpcy5wcm9wcy50YWdzID0gdGFncztcclxuXHRcdHRoaXMucHJvcHMuc2VsZWN0ZWRUYWdzID0gc2VsZWN0ZWRUYWdzO1xyXG5cdFx0dGhpcy5yZW5kZXIoKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFzc2V0IH0gZnJvbSAnLi4vbW9kZWxzL0Fzc2V0JztcbmltcG9ydCB7IFRhZ1BhbmVsLCBUYWdQYW5lbFByb3BzIH0gZnJvbSAnLi9UYWdQYW5lbCc7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi4vaTE4bic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9wU3VtbWFyeVByb3BzIHtcblx0dG90YWxEYWlseUNvc3Q6IG51bWJlcjtcblx0dG90YWxDb3N0OiBudW1iZXI7XG5cdHRvdGFsUmVjeWNsZTogbnVtYmVyO1xuXHR0YWdzOiBzdHJpbmdbXTtcblx0c2VsZWN0ZWRUYWdzOiBzdHJpbmdbXTtcblx0b25UYWdDbGljazogKHRhZzogc3RyaW5nIHwgc3RyaW5nW10pID0+IHZvaWQ7XG5cdHRyZW5kUG9pbnRzOiB7IGRhdGU6IERhdGUsIHZhbHVlOiBudW1iZXIgfVtdO1xuXHRzZWxlY3RlZERhdGU/OiBEYXRlO1xuXHRzZWxlY3RlZFg/OiBudW1iZXIgfCBudWxsO1xuXHRvbkNoYXJ0U2VsZWN0PzogKHg6IG51bWJlcikgPT4gdm9pZDtcblx0b25DaGFydFdpZHRoPzogKHc6IG51bWJlcikgPT4gdm9pZDtcblx0b25EYXRlUGljaz86IChkYXRlU3RyOiBzdHJpbmcpID0+IHZvaWQ7XG5cdG1pbkRhdGVTdHI/OiBzdHJpbmc7XG5cdG1heERhdGVTdHI/OiBzdHJpbmc7XG5cdG1pblllYXI/OiBudW1iZXI7XG5cdG1heFllYXI/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBUb3BTdW1tYXJ5IHtcblx0cHJpdmF0ZSBjb250YWluZXJFbDogSFRNTEVsZW1lbnQ7XG5cdHByaXZhdGUgcHJvcHM6IFRvcFN1bW1hcnlQcm9wcztcblx0cHJpdmF0ZSBjaGFydENvbXBvbmVudD86IGFueTsgLy8gTGluZUNoYXJ0XHU3RUM0XHU0RUY2XHU1RjE1XHU3NTI4XG5cdHByaXZhdGUgdGFnUGFuZWxDb21wb25lbnQ/OiBUYWdQYW5lbDtcblxuXHRjb25zdHJ1Y3Rvcihjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHByb3BzOiBUb3BTdW1tYXJ5UHJvcHMpIHtcblx0XHR0aGlzLmNvbnRhaW5lckVsID0gY29udGFpbmVyRWw7XG5cdFx0dGhpcy5wcm9wcyA9IHByb3BzO1xuXHR9XG5cblx0cHJpdmF0ZSBmb3JtYXREYXRlTG9jYWwoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG5cdFx0Y29uc3QgZCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xuXHRcdHJldHVybiBkLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblx0fVxuXG5cdHJlbmRlcigpOiB2b2lkIHtcblx0XHR0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0dGhpcy5jb250YWluZXJFbC5hZGRDbGFzcygndG9wLXN1bW1hcnknKTtcblxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjU3MFx1NUI1N1x1NTMzQVx1NTdERlxuXHRcdHRoaXMucmVuZGVyTnVtYmVycygpO1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjgwN1x1N0I3RVx1NTMzQVx1NTdERlxuXHRcdHRoaXMucmVuZGVyTGFiZWxzKCk7XG5cdFx0XG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU1NkZFXHU4ODY4XHU1MzNBXHU1N0RGXG5cdFx0dGhpcy5yZW5kZXJDaGFydCgpO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJOdW1iZXJzKCk6IHZvaWQge1xuXHRcdGNvbnN0IG51bWJlcnNFbCA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS1udW1iZXJzJyk7XG5cdFx0XG5cdFx0Ly8gXHU1REU2XHU0RkE3XHU2NUU1XHU1NzQ3XHU2MjEwXHU2NzJDXG5cdFx0Y29uc3QgZGFpbHlFbCA9IG51bWJlcnNFbC5jcmVhdGVEaXYoJ3RvcC1zdW1tYXJ5LWRhaWx5Jyk7XG5cdFx0Y29uc3QgZGF0ZUVsID0gZGFpbHlFbC5jcmVhdGVEaXYoJ3RvcC1zdW1tYXJ5LWRhdGUnKTtcblx0XHRkYXRlRWwudGV4dENvbnRlbnQgPSB0aGlzLmZvcm1hdERhdGVMb2NhbCh0aGlzLnByb3BzLnNlbGVjdGVkRGF0ZSB8fCBuZXcgRGF0ZSgpKTtcblx0XHRkYXRlRWwuYWRkQ2xhc3MoJ2NsaWNrYWJsZScpO1xuXHRcdGRhdGVFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHRoaXMuc2hvd0RhdGVQaWNrZXIoKTtcblx0XHR9KTtcblx0XHRjb25zdCBkYWlseUNvc3RFbCA9IGRhaWx5RWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS1kYWlseWNvc3QnKTtcblx0XHRkYWlseUNvc3RFbC50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2V0Q3VycmVuY3lTeW1ib2woKX0ke3RoaXMucHJvcHMudG90YWxEYWlseUNvc3QudG9GaXhlZCgyKX1gO1xuXG5cdFx0Ly8gXHU1M0YzXHU0RkE3XHU2QzQ3XHU2MDNCXG5cdFx0Y29uc3Qgc3VtbWFyeUVsID0gbnVtYmVyc0VsLmNyZWF0ZURpdigndG9wLXN1bW1hcnktc3VtbWFyeScpO1xuXHRcdFxuXHRcdGNvbnN0IHRvdGFsRWwgPSBzdW1tYXJ5RWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS10b3RhbCcpO1xuXHRcdGNvbnN0IHRvdGFsTWV0YUVsID0gdG90YWxFbC5jcmVhdGVTcGFuKCd0b3Atc3VtbWFyeS1tZXRhJyk7XG5cdFx0dG90YWxNZXRhRWwudGV4dENvbnRlbnQgPSB0KCd0b3AudG90YWwnKTtcblx0XHRjb25zdCB0b3RhbENvc3RFbCA9IHRvdGFsRWwuY3JlYXRlU3BhbigndG9wLXN1bW1hcnktdG90YWxjb3N0Jyk7XG5cdFx0dG90YWxDb3N0RWwudGV4dENvbnRlbnQgPSBgJHt0aGlzLmdldEN1cnJlbmN5U3ltYm9sKCl9JHt0aGlzLnByb3BzLnRvdGFsQ29zdC50b0xvY2FsZVN0cmluZygpfWA7XG5cblx0XHRjb25zdCByZWN5Y2xlRWwgPSBzdW1tYXJ5RWwuY3JlYXRlRGl2KCd0b3Atc3VtbWFyeS10b3RhbCcpO1xuXHRcdGNvbnN0IHJlY3ljbGVNZXRhRWwgPSByZWN5Y2xlRWwuY3JlYXRlU3BhbigndG9wLXN1bW1hcnktbWV0YScpO1xuXHRcdHJlY3ljbGVNZXRhRWwudGV4dENvbnRlbnQgPSB0KCd0b3AucmVjeWNsZScpO1xuXHRcdGNvbnN0IHJlY3ljbGVDb3N0RWwgPSByZWN5Y2xlRWwuY3JlYXRlU3BhbigndG9wLXN1bW1hcnktdG90YWxjb3N0Jyk7XG5cdFx0cmVjeWNsZUNvc3RFbC50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2V0Q3VycmVuY3lTeW1ib2woKX0ke3RoaXMucHJvcHMudG90YWxSZWN5Y2xlLnRvTG9jYWxlU3RyaW5nKCl9YDtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyTGFiZWxzKCk6IHZvaWQge1xuXHRcdGNvbnN0IGxhYmVsc0VsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoJ3RvcC1zdW1tYXJ5LWxhYmVscycpO1xuXHRcdGNvbnN0IHBhbmVsUHJvcHM6IFRhZ1BhbmVsUHJvcHMgPSB7XG5cdFx0XHR0YWdzOiB0aGlzLnByb3BzLnRhZ3MsXG5cdFx0XHRzZWxlY3RlZFRhZ3M6IHRoaXMucHJvcHMuc2VsZWN0ZWRUYWdzLFxuXHRcdFx0b25UYWdDbGljazogdGhpcy5wcm9wcy5vblRhZ0NsaWNrLFxuXHRcdFx0bWF4SGVpZ2h0OiAnNDhweCdcblx0XHR9O1xuXHRcdHRoaXMudGFnUGFuZWxDb21wb25lbnQgPSBuZXcgVGFnUGFuZWwobGFiZWxzRWwsIHBhbmVsUHJvcHMpO1xuXHRcdHRoaXMudGFnUGFuZWxDb21wb25lbnQucmVuZGVyKCk7XG5cdH1cblxuXHRwcml2YXRlIGdldEN1cnJlbmN5U3ltYm9sKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHQoJ2N1cnJlbmN5LnN5bWJvbCcpO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJDaGFydCgpOiB2b2lkIHtcblx0XHRjb25zdCBjaGFydEVsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoJ3RvcC1zdW1tYXJ5LWNoYXJ0Jyk7XG5cdFx0Y29uc3QgY2FudmFzID0gY2hhcnRFbC5jcmVhdGVFbCgnY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5cdFx0Y2FudmFzLmlkID0gJ3RyZW5kLWNhbnZhcyc7XG5cdFx0Y2FudmFzLndpZHRoID0gMTAwO1xuXHRcdGNhbnZhcy5oZWlnaHQgPSAyMDtcblxuXHRcdC8vIFx1NkUzMlx1NjdEM1x1NTZGRVx1ODg2OFxuXHRcdHRoaXMucmVuZGVyQ2hhcnRDYW52YXMoY2FudmFzKTtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyQ2hhcnRDYW52YXMoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLnByb3BzLnRyZW5kUG9pbnRzLmxlbmd0aCA8IDIpIHJldHVybjtcblx0XHRcblx0XHRjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblx0XHRpZiAoIWN0eCkgcmV0dXJuO1xuXHRcdFxuXHRcdC8vIFx1OEJCRVx1N0Y2RUNhbnZhc1x1NUMzQVx1NUJGOFxuXHRcdGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0Y2FudmFzLndpZHRoID0gcmVjdC53aWR0aDtcblx0XHRjYW52YXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG5cdFx0XG5cdFx0Y29uc3Qgd2lkdGggPSBjYW52YXMud2lkdGg7XG5cdFx0Y29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblx0XHRjb25zdCBwYWQgPSAwO1xuXHRcdFxuXHRcdC8vIFx1OEJBMVx1N0I5N1x1NjU3MFx1NTAzQ1x1ODMwM1x1NTZGNFxuXHRcdGNvbnN0IHZhbHVlcyA9IHRoaXMucHJvcHMudHJlbmRQb2ludHMubWFwKHAgPT4gcC52YWx1ZSk7XG5cdFx0Y29uc3QgbWluVmFsdWUgPSBNYXRoLm1pbiguLi52YWx1ZXMpO1xuXHRcdGNvbnN0IG1heFZhbHVlID0gTWF0aC5tYXgoLi4udmFsdWVzKTtcblx0XHRjb25zdCByYW5nZSA9IG1heFZhbHVlIC0gbWluVmFsdWU7XG5cdFx0XG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU2NTcwXHU2MzZFXHU4MzAzXHU1NkY0XHU1Rjg4XHU1QzBGXHVGRjBDXHU0RjdGXHU3NTI4XHU3RUJGXHU2MDI3XHU3RjI5XHU2NTNFXHVGRjFCXHU1NDI2XHU1MjE5XHU0RjdGXHU3NTI4XHU1QkY5XHU2NTcwXHU3RjI5XHU2NTNFXG5cdFx0Y29uc3QgdXNlTG9nU2NhbGUgPSByYW5nZSA+IDEwMDtcblx0XHRcblx0XHRjb25zdCBnZXRYID0gKGk6IG51bWJlcikgPT4gcGFkICsgKHdpZHRoIC0gMiAqIHBhZCkgKiBpIC8gKHRoaXMucHJvcHMudHJlbmRQb2ludHMubGVuZ3RoIC0gMSk7XG5cdFx0Y29uc3QgZ2V0WSA9ICh2OiBudW1iZXIpID0+IHtcblx0XHRcdGlmICh1c2VMb2dTY2FsZSkge1xuXHRcdFx0XHRjb25zdCBsb2dWYWx1ZSA9IE1hdGgubG9nKHYgKyAxKTtcblx0XHRcdFx0Y29uc3QgbG9nTWluID0gTWF0aC5sb2cobWluVmFsdWUgKyAxKTtcblx0XHRcdFx0Y29uc3QgbG9nTWF4ID0gTWF0aC5sb2cobWF4VmFsdWUgKyAxKTtcblx0XHRcdFx0cmV0dXJuIGhlaWdodCAtIHBhZCAtICgobG9nVmFsdWUgLSBsb2dNaW4pIC8gTWF0aC5tYXgobG9nTWF4IC0gbG9nTWluLCAwLjUpKSAqIChoZWlnaHQgLSAyICogcGFkKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBoZWlnaHQgLSBwYWQgLSAoKHYgLSBtaW5WYWx1ZSkgLyBNYXRoLm1heChyYW5nZSwgMC41KSkgKiAoaGVpZ2h0IC0gMiAqIHBhZCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRjb25zdCBnZXRDb2xvckJ5VmFsdWUgPSAodjogbnVtYmVyKSA9PiB7XG5cdFx0XHQvLyBcdTRGN0ZcdTc1MjhcdTVCRjlcdTY1NzBcdTdGMjlcdTY1M0VcdThCQTFcdTdCOTdcdTk4OUNcdTgyNzJcdUZGMDhcdTUzQzJcdTgwMDNjb3N0c2V0YXBwXHU1QjlFXHU3M0IwXHVGRjA5XG5cdFx0XHRjb25zdCBsb2dWYWx1ZSA9IE1hdGgubG9nKHYgKyAxKTtcblx0XHRcdGNvbnN0IGxvZ01pbiA9IE1hdGgubG9nKG1pblZhbHVlICsgMSk7XG5cdFx0XHRjb25zdCBsb2dNYXggPSBNYXRoLmxvZyhtYXhWYWx1ZSArIDEpO1xuXHRcdFx0XG5cdFx0XHRpZiAobG9nTWF4ID09PSBsb2dNaW4pIHJldHVybiAncmdiKDI1NSwyNTUsMCknOyAvLyBcdTU5ODJcdTY3OUNcdTUzRUFcdTY3MDlcdTRFMDBcdTRFMkFcdTUwM0NcdUZGMENcdTY2M0VcdTc5M0FcdTlFQzRcdTgyNzJcblx0XHRcdFxuXHRcdFx0Y29uc3QgdCA9IChsb2dWYWx1ZSAtIGxvZ01pbikgLyAobG9nTWF4IC0gbG9nTWluKTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU1MjA2XHU2QkI1XHU2RTEwXHU1M0Q4XHVGRjFBXHU1MjREXHU1MzRBXHU2QkI1XHU3RUZGXHU4MjcyXHU1MjMwXHU5RUM0XHU4MjcyXHVGRjBDXHU1NDBFXHU1MzRBXHU2QkI1XHU5RUM0XHU4MjcyXHU1MjMwXHU3RUEyXHU4MjcyXG5cdFx0XHRpZiAodCA8PSAwLjUpIHtcblx0XHRcdFx0Y29uc3QgciA9IE1hdGgucm91bmQoMiAqIHQgKiAyNTUpOyAvLyBcdTdFQTJcdTgyNzJcdTUyMDZcdTkxQ0ZcdUZGMUEwIC0+IDI1NVxuXHRcdFx0XHRyZXR1cm4gYHJnYigke3J9LDI1NSwwKWA7IC8vIFx1N0VGRlx1ODI3Mlx1NTIzMFx1OUVDNFx1ODI3MlxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgZyA9IE1hdGgucm91bmQoKDEgLSAyICogKHQgLSAwLjUpKSAqIDI1NSk7IC8vIFx1N0VGRlx1ODI3Mlx1NTIwNlx1OTFDRlx1RkYxQTI1NSAtPiAwXG5cdFx0XHRcdHJldHVybiBgcmdiKDI1NSwke2d9LDApYDsgLy8gXHU5RUM0XHU4MjcyXHU1MjMwXHU3RUEyXHU4MjcyXG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcblx0XHQvLyBcdTZFMDVcdTdBN0FcdTc1M0JcdTVFMDNcblx0XHRjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXHRcdGN0eC5saW5lV2lkdGggPSAxO1xuXHRcdFxuXHRcdC8vIFx1N0VEOFx1NTIzNlx1NjI5OFx1N0VCRlxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9wcy50cmVuZFBvaW50cy5sZW5ndGggLSAxOyBpKyspIHtcblx0XHRcdGNvbnN0IHAxID0gdGhpcy5wcm9wcy50cmVuZFBvaW50c1tpXTtcblx0XHRcdGNvbnN0IHAyID0gdGhpcy5wcm9wcy50cmVuZFBvaW50c1tpICsgMV07XG5cdFx0XHRjb25zdCB4MSA9IGdldFgoaSk7XG5cdFx0XHRjb25zdCB5MSA9IGdldFkocDEudmFsdWUpO1xuXHRcdFx0Y29uc3QgeDIgPSBnZXRYKGkgKyAxKTtcblx0XHRcdGNvbnN0IHkyID0gZ2V0WShwMi52YWx1ZSk7XG5cdFx0XHRcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGdldENvbG9yQnlWYWx1ZShwMS52YWx1ZSk7XG5cdFx0XHRjdHgubW92ZVRvKHgxLCB5MSk7XG5cdFx0XHRjdHgubGluZVRvKHgyLCB5Mik7XG5cdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFx1N0VEOFx1NTIzNlx1OTAwOVx1NEUyRFx1N0VCRlx1RkYwOFx1NUY1M1x1NTI0RFx1NjVFNVx1NjcxRlx1RkYwOVxuXHRcdC8vIFx1NjUyRlx1NjMwMVx1NEUyNFx1NzlDRFx1NjVCOVx1NUYwRlx1RkYxQVxuXHRcdC8vIDEpIFx1NTkxNlx1OTBFOFx1NzZGNFx1NjNBNVx1NEYyMFx1NTE2NSBzZWxlY3RlZFggXHU1MENGXHU3RDIwXG5cdFx0Ly8gMikgXHU1OTE2XHU5MEU4XHU0RUM1XHU0RjIwXHU1MTY1IHNlbGVjdGVkRGF0ZVx1RkYwQ1x1NjIxMVx1NEVFQ1x1NTcyOFx1OEZEOVx1OTFDQ1x1NjMwOVx1NjVGNlx1OTVGNFx1NkJENFx1NEY4Qlx1OEJBMVx1N0I5NyBYXG5cdFx0bGV0IHNlbGVjdGVkWFRvRHJhdzogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0aWYgKHRoaXMucHJvcHMuc2VsZWN0ZWRYICE9PSBudWxsICYmIHRoaXMucHJvcHMuc2VsZWN0ZWRYICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHNlbGVjdGVkWFRvRHJhdyA9IHRoaXMucHJvcHMuc2VsZWN0ZWRYO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zZWxlY3RlZERhdGUpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHRpbWVzID0gdGhpcy5wcm9wcy50cmVuZFBvaW50cy5tYXAocCA9PiBwLmRhdGUuZ2V0VGltZSgpKTtcblx0XHRcdFx0Y29uc3QgbWluVGltZSA9IE1hdGgubWluKC4uLnRpbWVzKTtcblx0XHRcdFx0Y29uc3QgbWF4VGltZSA9IE1hdGgubWF4KC4uLnRpbWVzKTtcblx0XHRcdFx0Y29uc3QgY3VyID0gdGhpcy5wcm9wcy5zZWxlY3RlZERhdGUuZ2V0VGltZSgpO1xuXHRcdFx0XHRjb25zdCBkZW5vbSA9IE1hdGgubWF4KG1heFRpbWUgLSBtaW5UaW1lLCAxKTtcblx0XHRcdFx0Y29uc3QgcmF0aW8gPSAoY3VyIC0gbWluVGltZSkgLyBkZW5vbTtcblx0XHRcdFx0c2VsZWN0ZWRYVG9EcmF3ID0gcGFkICsgKHdpZHRoIC0gMiAqIHBhZCkgKiBNYXRoLm1pbihNYXRoLm1heChyYXRpbywgMCksIDEpO1xuXHRcdFx0fSBjYXRjaCAoXykge1xuXHRcdFx0XHRzZWxlY3RlZFhUb0RyYXcgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChzZWxlY3RlZFhUb0RyYXcgIT09IG51bGwgJiYgc2VsZWN0ZWRYVG9EcmF3ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9ICcjRkZENjAwJztcblx0XHRcdGN0eC5saW5lV2lkdGggPSAxO1xuXHRcdFx0Y3R4Lm1vdmVUbyhzZWxlY3RlZFhUb0RyYXcsIDApO1xuXHRcdFx0Y3R4LmxpbmVUbyhzZWxlY3RlZFhUb0RyYXcsIGhlaWdodCk7XG5cdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0fVxuXG5cdFx0Ly8gXHU3RUQxXHU1QjlBXHU3MEI5XHU1MUZCXHU0RThCXHU0RUY2XHVGRjFBXHU1QzA2XHU3MEI5XHU1MUZCXHU0RjREXHU3RjZFXHU2NjIwXHU1QzA0XHU0RTNBXHU2NUU1XHU2NzFGXHU1RTc2XHU2NkY0XHU2NUIwXHU5MDA5XHU2MkU5XG5cdFx0aWYgKCEoY2FudmFzIGFzIGFueSkuX2xhY19jbGlja19ib3VuZCkge1xuXHRcdFx0KGNhbnZhcyBhcyBhbnkpLl9sYWNfY2xpY2tfYm91bmQgPSB0cnVlO1xuXHRcdFx0Y2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHggPSAoZXYgYXMgYW55KS5vZmZzZXRYID8/IChldi5jbGllbnRYIC0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpO1xuXHRcdFx0XHRjb25zdCB1c2FibGVXaWR0aCA9IE1hdGgubWF4KHdpZHRoIC0gMiAqIHBhZCwgMSk7XG5cdFx0XHRcdGNvbnN0IHJhdGlvID0gTWF0aC5taW4oTWF0aC5tYXgoKHggLSBwYWQpIC8gdXNhYmxlV2lkdGgsIDApLCAxKTtcblx0XHRcdFx0Y29uc3QgaWR4ID0gTWF0aC5yb3VuZChyYXRpbyAqICh0aGlzLnByb3BzLnRyZW5kUG9pbnRzLmxlbmd0aCAtIDEpKTtcblx0XHRcdFx0Y29uc3QgY2xhbXBlZElkeCA9IE1hdGgubWluKE1hdGgubWF4KGlkeCwgMCksIHRoaXMucHJvcHMudHJlbmRQb2ludHMubGVuZ3RoIC0gMSk7XG5cdFx0XHRcdGNvbnN0IHBpY2tlZERhdGUgPSB0aGlzLnByb3BzLnRyZW5kUG9pbnRzW2NsYW1wZWRJZHhdLmRhdGU7XG5cblx0XHRcdFx0dGhpcy51cGRhdGVTZWxlY3Rpb24oeCwgcGlja2VkRGF0ZSk7XG5cdFx0XHRcdC8vIFx1OTAxQVx1NzdFNVx1NTkxNlx1NUM0Mlx1NTIzN1x1NjVCMFx1RkYwOFx1NTkwRFx1NzUyOFx1NzNCMFx1NjcwOSBvbkRhdGVQaWNrIFx1NkQ0MVx1N0EwQlx1RkYwOVxuXHRcdFx0XHRpZiAodGhpcy5wcm9wcy5vbkRhdGVQaWNrKSB7XG5cdFx0XHRcdFx0dGhpcy5wcm9wcy5vbkRhdGVQaWNrKHRoaXMuZm9ybWF0RGF0ZUxvY2FsKHBpY2tlZERhdGUpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBcdTUzRUZcdTkwMDlcdUZGMUFcdTRFNUZcdTYyOEFcdTUwQ0ZcdTdEMjBcdTRGNERcdTdGNkVcdTU2REVcdTRGMjBcblx0XHRcdFx0aWYgKHRoaXMucHJvcHMub25DaGFydFNlbGVjdCkge1xuXHRcdFx0XHRcdHRoaXMucHJvcHMub25DaGFydFNlbGVjdCh4KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gXHU2NkY0XHU2NUIwXHU1NkZFXHU4ODY4XHU2NTcwXHU2MzZFXG5cdHVwZGF0ZUNoYXJ0KHRyZW5kUG9pbnRzOiB7IGRhdGU6IERhdGUsIHZhbHVlOiBudW1iZXIgfVtdKTogdm9pZCB7XG5cdFx0dGhpcy5wcm9wcy50cmVuZFBvaW50cyA9IHRyZW5kUG9pbnRzO1xuXHRcdGNvbnN0IGNhbnZhcyA9IHRoaXMuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignI3RyZW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuXHRcdGlmIChjYW52YXMpIHtcblx0XHRcdHRoaXMucmVuZGVyQ2hhcnRDYW52YXMoY2FudmFzKTtcblx0XHR9XG5cdH1cblxuXHQvLyBcdTY2RjRcdTY1QjBcdTkwMDlcdTRFMkRcdTcyQjZcdTYwMDFcblx0dXBkYXRlU2VsZWN0aW9uKHNlbGVjdGVkWDogbnVtYmVyIHwgbnVsbCwgc2VsZWN0ZWREYXRlPzogRGF0ZSk6IHZvaWQge1xuXHRcdHRoaXMucHJvcHMuc2VsZWN0ZWRYID0gc2VsZWN0ZWRYO1xuXHRcdGlmIChzZWxlY3RlZERhdGUpIHtcblx0XHRcdHRoaXMucHJvcHMuc2VsZWN0ZWREYXRlID0gc2VsZWN0ZWREYXRlO1xuXHRcdFx0Y29uc3QgZGF0ZUxhYmVsID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcudG9wLXN1bW1hcnktZGF0ZScpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcblx0XHRcdGlmIChkYXRlTGFiZWwpIHtcblx0XHRcdFx0ZGF0ZUxhYmVsLnRleHRDb250ZW50ID0gdGhpcy5mb3JtYXREYXRlTG9jYWwoc2VsZWN0ZWREYXRlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgY2FudmFzID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcjdHJlbmQtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5cdFx0aWYgKGNhbnZhcykge1xuXHRcdFx0dGhpcy5yZW5kZXJDaGFydENhbnZhcyhjYW52YXMpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFx1NTNFQVx1NjZGNFx1NjVCMFx1NjU3MFx1NUI1N1x1RkYwOFx1NEUwRFx1OTFDRFx1N0VEOFx1NTZGRVx1ODg2OFx1NjU3MFx1NjM2RVx1RkYwOVxuXHR1cGRhdGVOdW1iZXJzKHRvdGFsRGFpbHlDb3N0OiBudW1iZXIsIHRvdGFsQ29zdDogbnVtYmVyLCB0b3RhbFJlY3ljbGU6IG51bWJlcik6IHZvaWQge1xuXHRcdHRoaXMucHJvcHMudG90YWxEYWlseUNvc3QgPSB0b3RhbERhaWx5Q29zdDtcblx0XHR0aGlzLnByb3BzLnRvdGFsQ29zdCA9IHRvdGFsQ29zdDtcblx0XHR0aGlzLnByb3BzLnRvdGFsUmVjeWNsZSA9IHRvdGFsUmVjeWNsZTtcblxuXHRcdGNvbnN0IGRhaWx5ID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcudG9wLXN1bW1hcnktZGFpbHljb3N0JykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuXHRcdGlmIChkYWlseSkgZGFpbHkudGV4dENvbnRlbnQgPSBgJHt0aGlzLmdldEN1cnJlbmN5U3ltYm9sKCl9JHt0b3RhbERhaWx5Q29zdC50b0ZpeGVkKDIpfWA7XG5cblx0XHRjb25zdCB0b3RhbHMgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy50b3Atc3VtbWFyeS10b3RhbGNvc3QnKTtcblx0XHRpZiAodG90YWxzICYmIHRvdGFscy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCB0b3RhbEVsID0gdG90YWxzWzBdIGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0aWYgKHRvdGFsRWwpIHRvdGFsRWwudGV4dENvbnRlbnQgPSBgJHt0aGlzLmdldEN1cnJlbmN5U3ltYm9sKCl9JHt0b3RhbENvc3QudG9Mb2NhbGVTdHJpbmcoKX1gO1xuXHRcdFx0Y29uc3QgcmVjeWNsZUVsID0gdG90YWxzWzFdIGFzIEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkIGFzIGFueTtcblx0XHRcdGlmIChyZWN5Y2xlRWwpIChyZWN5Y2xlRWwgYXMgSFRNTEVsZW1lbnQpLnRleHRDb250ZW50ID0gYCR7dGhpcy5nZXRDdXJyZW5jeVN5bWJvbCgpfSR7dG90YWxSZWN5Y2xlLnRvTG9jYWxlU3RyaW5nKCl9YDtcblx0XHR9XG5cdH1cblxuXHQvLyBcdTY2M0VcdTc5M0FcdTY1RTVcdTY3MUZcdTkwMDlcdTYyRTlcdTU2Njhcblx0cHJpdmF0ZSBzaG93RGF0ZVBpY2tlcigpOiB2b2lkIHtcblx0XHQvLyBcdTUyMUJcdTVFRkFcdTkwNkVcdTdGNjlcdTVDNDJcblx0XHRjb25zdCBtYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0bWFzay5jbGFzc05hbWUgPSAnZGF0ZS1waWNrZXItbWFzayc7XG5cdFx0XG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NUU1XHU2NzFGXHU5MDA5XHU2MkU5XHU1NjY4XHU1RjM5XHU3QTk3XG5cdFx0Y29uc3QgcGlja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0cGlja2VyLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci1tb2RhbCc7XG5cdFx0XG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NUU1XHU2NzFGXHU5MDA5XHU2MkU5XHU1NjY4XHU1MTg1XHU1QkI5XG5cdFx0Y29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGNvbnRlbnQuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWNvbnRlbnQnO1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjgwN1x1OTg5OFxuXHRcdGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dGl0bGUuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLXRpdGxlJztcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9IHQoJ2RhdGUucGljaycpO1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NEUwOVx1NTIxN1x1NkVEQVx1OEY2RVx1OTAwOVx1NjJFOVx1NTY2OFxuXHRcdGNvbnN0IHdoZWVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0d2hlZWxDb250YWluZXIuY2xhc3NOYW1lID0gJ2RhdGUtd2hlZWwtY29udGFpbmVyJztcblx0XHRcblx0XHQvLyBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTY1RTVcdTY3MUZcdUZGMDhcdTRFMEVcdTk4NzZcdTkwRThcdTY2M0VcdTc5M0FcdTc2ODRcdTY1RTVcdTY3MUZcdTRGRERcdTYzMDFcdTRFMDBcdTgxRjRcdUZGMDlcblx0XHRjb25zdCBjdXJyZW50RGF0ZSA9IHRoaXMucHJvcHMuc2VsZWN0ZWREYXRlIHx8IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdGNvbnN0IGN1cnJlbnRNb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxO1xuXHRcdGNvbnN0IGN1cnJlbnREYXkgPSBjdXJyZW50RGF0ZS5nZXREYXRlKCk7XG5cdFx0XG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU1RTc0XHU0RUZEXHU1MjE3XHVGRjA4XHU0RTBEXHU1RkFBXHU3M0FGXHVGRjA5XG5cdFx0Y29uc3QgeWVhckNvbHVtbiA9IHRoaXMuY3JlYXRlV2hlZWxDb2x1bW4odCgnZGF0ZS55ZWFyJyksIHRoaXMuZ2VuZXJhdGVZZWFycyhjdXJyZW50WWVhciksIGN1cnJlbnRZZWFyLCAoeWVhcikgPT4ge1xuXHRcdFx0dGhpcy51cGRhdGVEYXlzQ29sdW1uKGRheUNvbHVtbiwgeWVhciwgbW9udGhDb2x1bW4uc2VsZWN0ZWRWYWx1ZSk7XG5cdFx0fSwgZmFsc2UpO1xuXG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NzA4XHU0RUZEXHU1MjE3XHVGRjA4XHU1RkFBXHU3M0FGXHU2RURBXHU1MkE4XHVGRjA5XG5cdFx0Y29uc3QgbW9udGhDb2x1bW4gPSB0aGlzLmNyZWF0ZVdoZWVsQ29sdW1uKHQoJ2RhdGUubW9udGgnKSwgdGhpcy5nZW5lcmF0ZU1vbnRocygpLCBjdXJyZW50TW9udGgsIChtb250aCkgPT4ge1xuXHRcdFx0dGhpcy51cGRhdGVEYXlzQ29sdW1uKGRheUNvbHVtbiwgeWVhckNvbHVtbi5zZWxlY3RlZFZhbHVlLCBtb250aCk7XG5cdFx0fSwgdHJ1ZSk7XG5cblx0XHQvLyBcdTUyMUJcdTVFRkFcdTY1RTVcdTY3MUZcdTUyMTdcdUZGMDhcdTVGQUFcdTczQUZcdTZFREFcdTUyQThcdUZGMDlcblx0XHRjb25zdCBkYXlDb2x1bW4gPSB0aGlzLmNyZWF0ZVdoZWVsQ29sdW1uKHQoJ2RhdGUuZGF5JyksIHRoaXMuZ2VuZXJhdGVEYXlzKGN1cnJlbnRZZWFyLCBjdXJyZW50TW9udGgpLCBjdXJyZW50RGF5LCB1bmRlZmluZWQsIHRydWUpO1xuXHRcdFxuXHRcdHdoZWVsQ29udGFpbmVyLmFwcGVuZENoaWxkKHllYXJDb2x1bW4uZWxlbWVudCk7XG5cdFx0d2hlZWxDb250YWluZXIuYXBwZW5kQ2hpbGQobW9udGhDb2x1bW4uZWxlbWVudCk7XG5cdFx0d2hlZWxDb250YWluZXIuYXBwZW5kQ2hpbGQoZGF5Q29sdW1uLmVsZW1lbnQpO1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjMwOVx1OTRBRVx1NTMzQVx1NTdERlxuXHRcdGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRhY3Rpb25zLmNsYXNzTmFtZSA9ICdkYXRlLXBpY2tlci1hY3Rpb25zJztcblx0XHRcblx0XHRjb25zdCBjYW5jZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblx0XHRjYW5jZWxCdG4uY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWJ0biBkYXRlLXBpY2tlci1idG4tY2FuY2VsJztcblx0XHRjYW5jZWxCdG4udGV4dENvbnRlbnQgPSB0KCdjb21tb24uY2FuY2VsJyk7XG5cdFx0XG5cdFx0Y29uc3QgY29uZmlybUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHRcdGNvbmZpcm1CdG4uY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyLWJ0biBkYXRlLXBpY2tlci1idG4tY29uZmlybSc7XG5cdFx0Y29uZmlybUJ0bi50ZXh0Q29udGVudCA9IHQoJ2NvbW1vbi5jb25maXJtJyk7XG5cdFx0XG5cdFx0Ly8gXHU3RUM0XHU4OEM1XHU3RUQzXHU2Nzg0XG5cdFx0YWN0aW9ucy5hcHBlbmRDaGlsZChjYW5jZWxCdG4pO1xuXHRcdGFjdGlvbnMuYXBwZW5kQ2hpbGQoY29uZmlybUJ0bik7XG5cdFx0Y29udGVudC5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cdFx0Y29udGVudC5hcHBlbmRDaGlsZCh3aGVlbENvbnRhaW5lcik7XG5cdFx0Y29udGVudC5hcHBlbmRDaGlsZChhY3Rpb25zKTtcblx0XHRwaWNrZXIuYXBwZW5kQ2hpbGQoY29udGVudCk7XG5cdFx0bWFzay5hcHBlbmRDaGlsZChwaWNrZXIpO1xuXHRcdFxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1NTIzMFx1OTg3NVx1OTc2MlxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWFzayk7XG5cdFx0XG5cdFx0Ly8gXHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XG5cdFx0Y29uc3QgY2xvc2VQaWNrZXIgPSAoKSA9PiB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1hc2spO1xuXHRcdH07XG5cdFx0XG5cdFx0bWFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRpZiAoZS50YXJnZXQgPT09IG1hc2spIHtcblx0XHRcdFx0Y2xvc2VQaWNrZXIoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRcblx0XHRjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBpY2tlcik7XG5cdFx0XG5cdFx0Y29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdGNvbnN0IHllYXIgPSB5ZWFyQ29sdW1uLnNlbGVjdGVkVmFsdWU7XG5cdFx0XHRjb25zdCBtb250aCA9IG1vbnRoQ29sdW1uLnNlbGVjdGVkVmFsdWU7XG5cdFx0XHRjb25zdCBkYXkgPSBkYXlDb2x1bW4uc2VsZWN0ZWRWYWx1ZTtcblx0XHRcdGNvbnN0IHNlbGVjdGVkRGF0ZVN0ciA9IGAke3llYXJ9LSR7bW9udGgudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS0ke2RheS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcblx0XHRcdFxuXHRcdFx0aWYgKHRoaXMucHJvcHMub25EYXRlUGljaykge1xuXHRcdFx0XHR0aGlzLnByb3BzLm9uRGF0ZVBpY2soc2VsZWN0ZWREYXRlU3RyKTtcblx0XHRcdH1cblx0XHRcdGNsb3NlUGlja2VyKCk7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBcdTc1MUZcdTYyMTBcdTVFNzRcdTRFRkRcdTY1NzBcdTdFQzRcblx0cHJpdmF0ZSBnZW5lcmF0ZVllYXJzKGN1cnJlbnRZZWFyOiBudW1iZXIpOiBudW1iZXJbXSB7XG5cdFx0Y29uc3QgbWluWWVhciA9IHRoaXMucHJvcHMubWluWWVhciB8fCAoY3VycmVudFllYXIgLSA1KTtcblx0XHRjb25zdCBtYXhZZWFyID0gdGhpcy5wcm9wcy5tYXhZZWFyIHx8IChjdXJyZW50WWVhciArIDUpO1xuXHRcdFxuXHRcdGNvbnN0IHllYXJzID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IG1pblllYXI7IGkgPD0gbWF4WWVhcjsgaSsrKSB7XG5cdFx0XHR5ZWFycy5wdXNoKGkpO1xuXHRcdH1cblx0XHRyZXR1cm4geWVhcnM7XG5cdH1cblxuXHQvLyBcdTc1MUZcdTYyMTBcdTY3MDhcdTRFRkRcdTY1NzBcdTdFQzRcblx0cHJpdmF0ZSBnZW5lcmF0ZU1vbnRocygpOiBudW1iZXJbXSB7XG5cdFx0cmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IDEyIH0sIChfLCBpKSA9PiBpICsgMSk7XG5cdH1cblxuXHQvLyBcdTc1MUZcdTYyMTBcdTY1RTVcdTY3MUZcdTY1NzBcdTdFQzRcblx0cHJpdmF0ZSBnZW5lcmF0ZURheXMoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKTogbnVtYmVyW10ge1xuXHRcdGNvbnN0IGRheXNJbk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDApLmdldERhdGUoKTtcblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogZGF5c0luTW9udGggfSwgKF8sIGkpID0+IGkgKyAxKTtcblx0fVxuXG5cdC8vIFx1NTIxQlx1NUVGQVx1NkVEQVx1OEY2RVx1NTIxN1xuXHRwcml2YXRlIGNyZWF0ZVdoZWVsQ29sdW1uKHN1ZmZpeDogc3RyaW5nLCB2YWx1ZXM6IG51bWJlcltdLCBzZWxlY3RlZFZhbHVlOiBudW1iZXIsIG9uQ2hhbmdlPzogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQsIGlzSW5maW5pdGU6IGJvb2xlYW4gPSBmYWxzZSk6IHsgZWxlbWVudDogSFRNTEVsZW1lbnQsIHNlbGVjdGVkVmFsdWU6IG51bWJlciB9IHtcblx0XHRjb25zdCBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRjb2x1bW4uY2xhc3NOYW1lID0gJ2RhdGUtd2hlZWwtY29sdW1uJztcblx0XHRcblx0XHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRjb250YWluZXIuY2xhc3NOYW1lID0gJ2RhdGUtd2hlZWwtaXRlbXMnO1xuXHRcdFxuXHRcdGxldCBzZWxlY3RlZEluZGV4ID0gdmFsdWVzLmluZGV4T2Yoc2VsZWN0ZWRWYWx1ZSk7XG5cdFx0bGV0IGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcblx0XHRjb25zdCBhcGkgPSB7IGVsZW1lbnQ6IGNvbHVtbiwgc2VsZWN0ZWRWYWx1ZTogY3VycmVudFNlbGVjdGVkVmFsdWUgfTtcblx0XHRjb25zdCBpdGVtSGVpZ2h0ID0gNDA7IC8vIENTU1x1NEUyRFx1NUI5QVx1NEU0OVx1NzY4NGl0ZW1cdTlBRDhcdTVFQTZcblx0XHRcblx0XHRpZiAoaXNJbmZpbml0ZSkge1xuXHRcdFx0Ly8gXHU1RkFBXHU3M0FGXHU2RURBXHU1MkE4XHVGRjFBXHU1MjFCXHU1RUZBXHU1OTFBXHU0RTJBXHU5MUNEXHU1OTBEXHU3Njg0XHU5MDA5XHU5ODc5XHU5ODc5XG5cdFx0XHRjb25zdCByZXBlYXRDb3VudCA9IDU7IC8vIFx1OTFDRFx1NTkwRDVcdTZCMjFcdUZGMENcdTYwM0JcdTUxNzExNVx1N0VDNFx1NjU3MFx1NjM2RVxuXHRcdFx0Y29uc3QgdG90YWxJdGVtcyA9IHZhbHVlcy5sZW5ndGggKiByZXBlYXRDb3VudDtcblx0XHRcdFxuXHRcdFx0Ly8gXHU4QkExXHU3Qjk3XHU1MjFEXHU1OUNCXHU2RURBXHU1MkE4XHU0RjREXHU3RjZFXHVGRjA4XHU4QkE5XHU5MDA5XHU0RTJEXHU5ODc5XHU1NzI4XHU0RTJEXHU5NUY0XHVGRjBDXHU1RTc2XHU3ODZFXHU0RkREXHU2NzA5XHU4REIzXHU1OTFGXHU3Njg0XHU0RTBBXHU0RTBCXHU2RURBXHU1MkE4XHU3QTdBXHU5NUY0XHVGRjA5XG5cdFx0XHQvLyBcdTRGN0ZcdTc1MjhcdTRFMkRcdTk1RjRcdTdFQzRcdUZGMDhcdTdCMkMzXHU3RUM0XHVGRjBDXHU3RDIyXHU1RjE1XHU0RTNBMlx1RkYwOVx1NEY1Q1x1NEUzQVx1OEQ3N1x1NTlDQlx1NEY0RFx1N0Y2RVxuXHRcdFx0Y29uc3QgbWlkZGxlR3JvdXBJbmRleCA9IDI7IC8vIFx1N0IyQzNcdTdFQzRcdUZGMDgwLDEsMiwzLDRcdTRFMkRcdTc2ODQyXHVGRjA5XG5cdFx0XHRjb25zdCBpbml0aWFsU2Nyb2xsVG9wID0gbWlkZGxlR3JvdXBJbmRleCAqIHZhbHVlcy5sZW5ndGggKiBpdGVtSGVpZ2h0ICsgc2VsZWN0ZWRJbmRleCAqIGl0ZW1IZWlnaHQ7XG5cdFx0XHRcblx0XHRcdC8vIFx1NTIxQlx1NUVGQVx1OTFDRFx1NTkwRFx1NzY4NFx1OTAwOVx1OTg3OVx1OTg3OVxuXHRcdFx0Zm9yIChsZXQgcmVwZWF0ID0gMDsgcmVwZWF0IDwgcmVwZWF0Q291bnQ7IHJlcGVhdCsrKSB7XG5cdFx0XHRcdHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnZGF0ZS13aGVlbC1pdGVtJztcblx0XHRcdFx0XHRpdGVtLnRleHRDb250ZW50ID0gYCR7dmFsdWUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfSR7c3VmZml4fWA7XG5cdFx0XHRcdFx0aXRlbS5kYXRhc2V0LnZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcblx0XHRcdFx0XHRpdGVtLmRhdGFzZXQuaW5kZXggPSAocmVwZWF0ICogdmFsdWVzLmxlbmd0aCArIGluZGV4KS50b1N0cmluZygpO1xuXHRcdFx0XHRcdGl0ZW0uZGF0YXNldC5yZWFsVmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChpdGVtKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFx1OEJCRVx1N0Y2RVx1NUJCOVx1NTY2OFx1OUFEOFx1NUVBNlx1NTQ4Q1x1NTIxRFx1NTlDQlx1NkVEQVx1NTJBOFx1NEY0RFx1N0Y2RVxuXHRcdFx0Y29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3RvdGFsSXRlbXMgKiBpdGVtSGVpZ2h0fXB4YDtcblx0XHRcdC8vIFx1NTE0OFx1NjgwN1x1OEJCMFx1OTAwOVx1NEUyRFx1OTg3OVx1RkYwOFx1NEUyRFx1OTVGNFx1N0VDNFx1NUJGOVx1NUU5NFx1N0QyMlx1NUYxNVx1RkYwOVxuXHRcdFx0Y29uc3QgaW5pdGlhbEl0ZW1JbmRleCA9IG1pZGRsZUdyb3VwSW5kZXggKiB2YWx1ZXMubGVuZ3RoICsgc2VsZWN0ZWRJbmRleDtcblx0XHRcdGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbShjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpKSBhcyBIVE1MRWxlbWVudFtdO1xuXHRcdFx0aWYgKGl0ZW1zW2luaXRpYWxJdGVtSW5kZXhdKSB7XG5cdFx0XHRcdGl0ZW1zLmZvckVhY2goKGVsLCBpZHgpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaWR4ID09PSBpbml0aWFsSXRlbUluZGV4KSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBcdTdCNDlcdTRFMDBcdTVFMjdcdTUxOERcdThCQkVcdTdGNkVzY3JvbGxUb3BcdUZGMENcdTkwN0ZcdTUxNERcdTk5OTZcdTZCMjFcdTY1RTBcdTZDRDVcdTU0MTFcdTRFMEFcdTZFREFcdTc2ODRcdTk1RUVcdTk4OThcblx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBpbml0aWFsU2Nyb2xsVG9wO1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIFx1NkVEQVx1NTJBOFx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlx1RkYwOFx1NUZBQVx1NzNBRlx1NkVEQVx1NTJBOFx1RkYwOVxuXHRcdFx0bGV0IGlzU2Nyb2xsaW5nID0gZmFsc2U7XG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRcdFx0XHRpZiAoaXNTY3JvbGxpbmcpIHJldHVybjtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IE1hdGgucm91bmQoc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCk7XG5cdFx0XHRcdGNvbnN0IHJlYWxJbmRleCA9ICgoY3VycmVudEluZGV4ICUgdmFsdWVzLmxlbmd0aCkgKyB2YWx1ZXMubGVuZ3RoKSAlIHZhbHVlcy5sZW5ndGg7XG5cdFx0XHRcdGNvbnN0IHJlYWxWYWx1ZSA9IHZhbHVlc1tyZWFsSW5kZXhdO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2NkY0XHU2NUIwXHU5MDA5XHU0RTJEXHU3MkI2XHU2MDAxXG5cdFx0XHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS13aGVlbC1pdGVtJykuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBpdGVtUmVhbEluZGV4ID0gaW5kZXggJSB2YWx1ZXMubGVuZ3RoO1xuXHRcdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnLCBpdGVtUmVhbEluZGV4ID09PSByZWFsSW5kZXgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdHNlbGVjdGVkSW5kZXggPSByZWFsSW5kZXg7XG5cdFx0XHRcdGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gcmVhbFZhbHVlO1xuXHRcdFx0XHRhcGkuc2VsZWN0ZWRWYWx1ZSA9IHJlYWxWYWx1ZTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1ODlFNlx1NTNEMVx1NTNEOFx1NTMxNlx1NTZERVx1OEMwM1xuXHRcdFx0XHRpZiAob25DaGFuZ2UpIHtcblx0XHRcdFx0XHRvbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRWYWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1NUZBQVx1NzNBRlx1NkVEQVx1NTJBOFx1OTAzQlx1OEY5MVx1RkYxQVx1NUY1M1x1NkVEQVx1NTJBOFx1NTIzMFx1OEZCOVx1NzU0Q1x1NjVGNlx1RkYwQ1x1OTFDRFx1N0Y2RVx1NEY0RFx1N0Y2RVxuXHRcdFx0XHRjb25zdCBtYXhTY3JvbGxUb3AgPSAocmVwZWF0Q291bnQgLSAxKSAqIHZhbHVlcy5sZW5ndGggKiBpdGVtSGVpZ2h0O1xuXHRcdFx0XHRjb25zdCBtaW5TY3JvbGxUb3AgPSB2YWx1ZXMubGVuZ3RoICogaXRlbUhlaWdodDtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsVG9wKSB7XG5cdFx0XHRcdFx0aXNTY3JvbGxpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIFx1NEVDRVx1N0IyQzVcdTdFQzRcdThERjNcdThGNkNcdTUyMzBcdTdCMkMyXHU3RUM0XHVGRjA4XHU0RkREXHU2MzAxXHU3NkY4XHU1QkY5XHU0RjREXHU3RjZFXHVGRjA5XG5cdFx0XHRcdFx0Y29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wIC0gbWF4U2Nyb2xsVG9wO1xuXHRcdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSB2YWx1ZXMubGVuZ3RoICogaXRlbUhlaWdodCArIG9mZnNldDtcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHsgaXNTY3JvbGxpbmcgPSBmYWxzZTsgfSwgNTApO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHNjcm9sbFRvcCA8PSAwKSB7XG5cdFx0XHRcdFx0aXNTY3JvbGxpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIFx1NEVDRVx1N0IyQzFcdTdFQzRcdThERjNcdThGNkNcdTUyMzBcdTdCMkM0XHU3RUM0XHVGRjA4XHU0RkREXHU2MzAxXHU3NkY4XHU1QkY5XHU0RjREXHU3RjZFXHVGRjA5XG5cdFx0XHRcdFx0Y29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wO1xuXHRcdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSAocmVwZWF0Q291bnQgLSAyKSAqIHZhbHVlcy5sZW5ndGggKiBpdGVtSGVpZ2h0ICsgb2Zmc2V0O1xuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBpc1Njcm9sbGluZyA9IGZhbHNlOyB9LCA1MCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBcdTUxNDFcdThCQjhcdTc2RjRcdTYzQTVcdTcwQjlcdTUxRkJcdTkwMDlcdTYyRTlcblx0XHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuXHRcdFx0XHRjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0XHRcdGNvbnN0IGl0ZW1FbCA9IHRhcmdldCAmJiB0YXJnZXQuY2xvc2VzdCA/ICh0YXJnZXQuY2xvc2VzdCgnLmRhdGUtd2hlZWwtaXRlbScpIGFzIEhUTUxFbGVtZW50IHwgbnVsbCkgOiBudWxsO1xuXHRcdFx0XHRpZiAoIWl0ZW1FbCkgcmV0dXJuO1xuXHRcdFx0XHRjb25zdCBjbGlja2VkSW5kZXggPSBOdW1iZXIoaXRlbUVsLmRhdGFzZXQuaW5kZXggfHwgJzAnKTtcblx0XHRcdFx0Y29uc3QgcmVhbEluZGV4ID0gKChjbGlja2VkSW5kZXggJSB2YWx1ZXMubGVuZ3RoKSArIHZhbHVlcy5sZW5ndGgpICUgdmFsdWVzLmxlbmd0aDtcblx0XHRcdFx0Y29uc3QgbWlkZGxlSW5kZXggPSBtaWRkbGVHcm91cEluZGV4ICogdmFsdWVzLmxlbmd0aCArIHJlYWxJbmRleDtcblx0XHRcdFx0Y29udGFpbmVyLnNjcm9sbFRvcCA9IG1pZGRsZUluZGV4ICogaXRlbUhlaWdodDtcblx0XHRcdFx0c2VsZWN0ZWRJbmRleCA9IHJlYWxJbmRleDtcblx0XHRcdFx0Y3VycmVudFNlbGVjdGVkVmFsdWUgPSB2YWx1ZXNbcmVhbEluZGV4XTtcblx0XHRcdFx0YXBpLnNlbGVjdGVkVmFsdWUgPSBjdXJyZW50U2VsZWN0ZWRWYWx1ZTtcblx0XHRcdFx0aWYgKG9uQ2hhbmdlKSBvbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRWYWx1ZSk7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBcdTY2NkVcdTkwMUFcdTZFREFcdTUyQThcdUZGMUFcdTVFNzRcdTRFRkRcdTUyMTdcdTRFMERcdTk3MDBcdTg5ODFcdTVGQUFcdTczQUZcblx0XHRcdHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcblx0XHRcdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRpdGVtLmNsYXNzTmFtZSA9ICdkYXRlLXdoZWVsLWl0ZW0nO1xuXHRcdFx0XHRpdGVtLnRleHRDb250ZW50ID0gYCR7dmFsdWUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfSR7c3VmZml4fWA7XG5cdFx0XHRcdGl0ZW0uZGF0YXNldC52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cdFx0XHRcdGl0ZW0uZGF0YXNldC5pbmRleCA9IGluZGV4LnRvU3RyaW5nKCk7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAodmFsdWUgPT09IGN1cnJlbnRTZWxlY3RlZFZhbHVlKSB7XG5cdFx0XHRcdFx0aXRlbS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU2RURBXHU1MkE4XHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XHVGRjA4XHU2NjZFXHU5MDFBXHU2RURBXHU1MkE4XHVGRjA5XG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBzY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsVG9wO1xuXHRcdFx0XHRjb25zdCBuZXdJbmRleCA9IE1hdGgucm91bmQoc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCk7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAobmV3SW5kZXggIT09IHNlbGVjdGVkSW5kZXggJiYgbmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IHZhbHVlcy5sZW5ndGgpIHtcblx0XHRcdFx0XHQvLyBcdTY2RjRcdTY1QjBcdTkwMDlcdTRFMkRcdTcyQjZcdTYwMDFcblx0XHRcdFx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG5cdFx0XHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaW5kZXggPT09IG5ld0luZGV4KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRzZWxlY3RlZEluZGV4ID0gbmV3SW5kZXg7XG5cdFx0XHRcdFx0Y3VycmVudFNlbGVjdGVkVmFsdWUgPSB2YWx1ZXNbbmV3SW5kZXhdO1xuXHRcdFx0XHRcdGFwaS5zZWxlY3RlZFZhbHVlID0gY3VycmVudFNlbGVjdGVkVmFsdWU7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gXHU4OUU2XHU1M0QxXHU1M0Q4XHU1MzE2XHU1NkRFXHU4QzAzXG5cdFx0XHRcdFx0aWYgKG9uQ2hhbmdlKSB7XG5cdFx0XHRcdFx0XHRvbkNoYW5nZShjdXJyZW50U2VsZWN0ZWRWYWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gXHU1MTQxXHU4QkI4XHU3NkY0XHU2M0E1XHU3MEI5XHU1MUZCXHU5MDA5XHU2MkU5XG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcblx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0XHRjb25zdCBpdGVtRWwgPSB0YXJnZXQgJiYgdGFyZ2V0LmNsb3Nlc3QgPyAodGFyZ2V0LmNsb3Nlc3QoJy5kYXRlLXdoZWVsLWl0ZW0nKSBhcyBIVE1MRWxlbWVudCB8IG51bGwpIDogbnVsbDtcblx0XHRcdFx0aWYgKCFpdGVtRWwpIHJldHVybjtcblx0XHRcdFx0Y29uc3QgaWR4ID0gTnVtYmVyKGl0ZW1FbC5kYXRhc2V0LmluZGV4IHx8ICcwJyk7XG5cdFx0XHRcdC8vIFx1N0FDQlx1NTM3M1x1NjZGNFx1NjVCMFx1OTAwOVx1NEUyRFx1NjgzN1x1NUYwRlxuXHRcdFx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpLmZvckVhY2goKGVsLCBpKSA9PiB7XG5cdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnLCBpID09PSBpZHgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29udGFpbmVyLnNjcm9sbFRvcCA9IGlkeCAqIGl0ZW1IZWlnaHQ7XG5cdFx0XHRcdHNlbGVjdGVkSW5kZXggPSBpZHg7XG5cdFx0XHRcdGN1cnJlbnRTZWxlY3RlZFZhbHVlID0gdmFsdWVzW2lkeF07XG5cdFx0XHRcdGFwaS5zZWxlY3RlZFZhbHVlID0gY3VycmVudFNlbGVjdGVkVmFsdWU7XG5cdFx0XHRcdGlmIChvbkNoYW5nZSkgb25DaGFuZ2UoY3VycmVudFNlbGVjdGVkVmFsdWUpO1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIFx1NTIxRFx1NTlDQlx1NkVEQVx1NTJBOFx1NTIzMFx1OTAwOVx1NEUyRFx1NEY0RFx1N0Y2RVxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBzZWxlY3RlZEluZGV4ICogaXRlbUhlaWdodDtcblx0XHRcdH0sIDApO1xuXHRcdH1cblx0XHRcblx0XHRjb2x1bW4uYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblx0XHRcblx0XHRyZXR1cm4gYXBpO1xuXHR9XG5cblx0Ly8gXHU2NkY0XHU2NUIwXHU2NUU1XHU2NzFGXHU1MjE3XG5cdHByaXZhdGUgdXBkYXRlRGF5c0NvbHVtbihkYXlDb2x1bW46IHsgZWxlbWVudDogSFRNTEVsZW1lbnQsIHNlbGVjdGVkVmFsdWU6IG51bWJlciB9LCB5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpOiB2b2lkIHtcblx0XHRjb25zdCBjb250YWluZXIgPSBkYXlDb2x1bW4uZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZS13aGVlbC1pdGVtcycpIGFzIEhUTUxFbGVtZW50O1xuXHRcdGNvbnN0IGN1cnJlbnREYXkgPSBkYXlDb2x1bW4uc2VsZWN0ZWRWYWx1ZTtcblx0XHRjb25zdCBuZXdEYXlzID0gdGhpcy5nZW5lcmF0ZURheXMoeWVhciwgbW9udGgpO1xuXHRcdFxuXHRcdC8vIFx1NkUwNVx1N0E3QVx1NzNCMFx1NjcwOVx1NTE4NVx1NUJCOVxuXHRcdGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblx0XHRcblx0XHQvLyBcdTkxQ0RcdTY1QjBcdTUyMUJcdTVFRkFcdTY1RTVcdTY3MUZcdTkwMDlcdTk4NzlcdUZGMDhcdTVGQUFcdTczQUZcdTZFREFcdTUyQThcdUZGMDlcblx0XHRjb25zdCBtYXhEYXkgPSBNYXRoLm1heCguLi5uZXdEYXlzKTtcblx0XHRjb25zdCBzZWxlY3RlZERheSA9IE1hdGgubWluKGN1cnJlbnREYXksIG1heERheSk7XG5cdFx0Y29uc3Qgc2VsZWN0ZWRJbmRleCA9IG5ld0RheXMuaW5kZXhPZihzZWxlY3RlZERheSk7XG5cdFx0Y29uc3QgaXRlbUhlaWdodCA9IDQwO1xuXHRcdFxuXHRcdC8vIFx1NUZBQVx1NzNBRlx1NkVEQVx1NTJBOFx1RkYxQVx1NTIxQlx1NUVGQVx1NTkxQVx1NEUyQVx1OTFDRFx1NTkwRFx1NzY4NFx1OTAwOVx1OTg3OVx1OTg3OVxuXHRcdGNvbnN0IHJlcGVhdENvdW50ID0gNTsgLy8gXHU5MUNEXHU1OTBENVx1NkIyMVxuXHRcdGNvbnN0IHRvdGFsSXRlbXMgPSBuZXdEYXlzLmxlbmd0aCAqIHJlcGVhdENvdW50O1xuXHRcdFxuXHRcdC8vIFx1OEJBMVx1N0I5N1x1NTIxRFx1NTlDQlx1NkVEQVx1NTJBOFx1NEY0RFx1N0Y2RVx1RkYwOFx1OEJBOVx1OTAwOVx1NEUyRFx1OTg3OVx1NTcyOFx1NEUyRFx1OTVGNFx1RkYwQ1x1NEY3Rlx1NzUyOFx1N0IyQzNcdTdFQzRcdTRGNUNcdTRFM0FcdThENzdcdTU5Q0JcdTRGNERcdTdGNkVcdUZGMDlcblx0XHRjb25zdCBtaWRkbGVHcm91cEluZGV4ID0gMjsgLy8gXHU3QjJDM1x1N0VDNFx1RkYwODAsMSwyLDMsNFx1NEUyRFx1NzY4NDJcdUZGMDlcblx0XHRjb25zdCBpbml0aWFsU2Nyb2xsVG9wID0gbWlkZGxlR3JvdXBJbmRleCAqIG5ld0RheXMubGVuZ3RoICogaXRlbUhlaWdodCArIHNlbGVjdGVkSW5kZXggKiBpdGVtSGVpZ2h0O1xuXHRcdFxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1OTFDRFx1NTkwRFx1NzY4NFx1NjVFNVx1NjcxRlx1OTAwOVx1OTg3OVx1OTg3OVxuXHRcdGZvciAobGV0IHJlcGVhdCA9IDA7IHJlcGVhdCA8IHJlcGVhdENvdW50OyByZXBlYXQrKykge1xuXHRcdFx0bmV3RGF5cy5mb3JFYWNoKChkYXksIGluZGV4KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnZGF0ZS13aGVlbC1pdGVtJztcblx0XHRcdFx0aXRlbS50ZXh0Q29udGVudCA9IGAke2RheS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9XHU2NUU1YDtcblx0XHRcdFx0aXRlbS5kYXRhc2V0LnZhbHVlID0gZGF5LnRvU3RyaW5nKCk7XG5cdFx0XHRcdGl0ZW0uZGF0YXNldC5pbmRleCA9IChyZXBlYXQgKiBuZXdEYXlzLmxlbmd0aCArIGluZGV4KS50b1N0cmluZygpO1xuXHRcdFx0XHRpdGVtLmRhdGFzZXQucmVhbFZhbHVlID0gZGF5LnRvU3RyaW5nKCk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gXHU4QkJFXHU3RjZFXHU1QkI5XHU1NjY4XHU5QUQ4XHU1RUE2XHU1NDhDXHU1MjFEXHU1OUNCXHU2RURBXHU1MkE4XHU0RjREXHU3RjZFXG5cdFx0Y29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3RvdGFsSXRlbXMgKiBpdGVtSGVpZ2h0fXB4YDtcblx0XHQvLyBcdTUxNDhcdTY4MDdcdThCQjBcdTkwMDlcdTRFMkRcdTk4NzlcdUZGMDhcdTRFMkRcdTk1RjRcdTdFQzRcdTVCRjlcdTVFOTRcdTdEMjJcdTVGMTVcdUZGMDlcblx0XHRjb25zdCBpbml0aWFsSXRlbUluZGV4RGF5ID0gbWlkZGxlR3JvdXBJbmRleCAqIG5ld0RheXMubGVuZ3RoICsgc2VsZWN0ZWRJbmRleDtcblx0XHRjb25zdCBkYXlJdGVtcyA9IEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kYXRlLXdoZWVsLWl0ZW0nKSkgYXMgSFRNTEVsZW1lbnRbXTtcblx0XHRpZiAoZGF5SXRlbXNbaW5pdGlhbEl0ZW1JbmRleERheV0pIHtcblx0XHRcdGRheUl0ZW1zLmZvckVhY2goKGVsLCBpZHgpID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaWR4ID09PSBpbml0aWFsSXRlbUluZGV4RGF5KSk7XG5cdFx0fVxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG5cdFx0XHRjb250YWluZXIuc2Nyb2xsVG9wID0gaW5pdGlhbFNjcm9sbFRvcDtcblx0XHR9KTtcblx0XHRcblx0XHQvLyBcdTY2RjRcdTY1QjBcdTkwMDlcdTRFMkRcdTUwM0Ncblx0XHRkYXlDb2x1bW4uc2VsZWN0ZWRWYWx1ZSA9IHNlbGVjdGVkRGF5O1xuXHRcdFxuXHRcdC8vIFx1OTFDRFx1NjVCMFx1N0VEMVx1NUI5QVx1NkVEQVx1NTJBOFx1NEU4Qlx1NEVGNlx1RkYwOFx1NUZBQVx1NzNBRlx1NkVEQVx1NTJBOFx1RkYwOVxuXHRcdGxldCBpc1Njcm9sbGluZyA9IGZhbHNlO1xuXHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG5cdFx0XHRpZiAoaXNTY3JvbGxpbmcpIHJldHVybjtcblx0XHRcdFxuXHRcdFx0Y29uc3Qgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IE1hdGgucm91bmQoc2Nyb2xsVG9wIC8gaXRlbUhlaWdodCk7XG5cdFx0XHRjb25zdCByZWFsSW5kZXggPSBjdXJyZW50SW5kZXggJSBuZXdEYXlzLmxlbmd0aDtcblx0XHRcdGNvbnN0IHJlYWxWYWx1ZSA9IG5ld0RheXNbcmVhbEluZGV4XTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU2NkY0XHU2NUIwXHU5MDA5XHU0RTJEXHU3MkI2XHU2MDAxXG5cdFx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtd2hlZWwtaXRlbScpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGl0ZW1SZWFsSW5kZXggPSBpbmRleCAlIG5ld0RheXMubGVuZ3RoO1xuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJywgaXRlbVJlYWxJbmRleCA9PT0gcmVhbEluZGV4KTtcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRkYXlDb2x1bW4uc2VsZWN0ZWRWYWx1ZSA9IHJlYWxWYWx1ZTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU1RkFBXHU3M0FGXHU2RURBXHU1MkE4XHU5MDNCXHU4RjkxXHVGRjFBXHU1RjUzXHU2RURBXHU1MkE4XHU1MjMwXHU4RkI5XHU3NTRDXHU2NUY2XHVGRjBDXHU5MUNEXHU3RjZFXHU0RjREXHU3RjZFXG5cdFx0XHRjb25zdCBtYXhTY3JvbGxUb3AgPSAocmVwZWF0Q291bnQgLSAxKSAqIG5ld0RheXMubGVuZ3RoICogaXRlbUhlaWdodDtcblx0XHRcdGNvbnN0IG1pblNjcm9sbFRvcCA9IG5ld0RheXMubGVuZ3RoICogaXRlbUhlaWdodDtcblx0XHRcdFxuXHRcdFx0aWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGxUb3ApIHtcblx0XHRcdFx0aXNTY3JvbGxpbmcgPSB0cnVlO1xuXHRcdFx0XHQvLyBcdTRFQ0VcdTdCMkM1XHU3RUM0XHU4REYzXHU4RjZDXHU1MjMwXHU3QjJDMlx1N0VDNFx1RkYwOFx1NEZERFx1NjMwMVx1NzZGOFx1NUJGOVx1NEY0RFx1N0Y2RVx1RkYwOVxuXHRcdFx0XHRjb25zdCBvZmZzZXQgPSBzY3JvbGxUb3AgLSBtYXhTY3JvbGxUb3A7XG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AgPSBuZXdEYXlzLmxlbmd0aCAqIGl0ZW1IZWlnaHQgKyBvZmZzZXQ7XG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBpc1Njcm9sbGluZyA9IGZhbHNlOyB9LCA1MCk7XG5cdFx0XHR9IGVsc2UgaWYgKHNjcm9sbFRvcCA8PSAwKSB7XG5cdFx0XHRcdGlzU2Nyb2xsaW5nID0gdHJ1ZTtcblx0XHRcdFx0Ly8gXHU0RUNFXHU3QjJDMVx1N0VDNFx1OERGM1x1OEY2Q1x1NTIzMFx1N0IyQzRcdTdFQzRcdUZGMDhcdTRGRERcdTYzMDFcdTc2RjhcdTVCRjlcdTRGNERcdTdGNkVcdUZGMDlcblx0XHRcdFx0Y29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wO1xuXHRcdFx0XHRjb250YWluZXIuc2Nyb2xsVG9wID0gKHJlcGVhdENvdW50IC0gMikgKiBuZXdEYXlzLmxlbmd0aCAqIGl0ZW1IZWlnaHQgKyBvZmZzZXQ7XG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBpc1Njcm9sbGluZyA9IGZhbHNlOyB9LCA1MCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBMYWNDb3N0U2V0UGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xyXG5pbXBvcnQgeyBBc3NldFJlcG9zaXRvcnkgfSBmcm9tICcuLi8uLi9yZXBvc2l0b3JpZXMvQXNzZXRSZXBvc2l0b3J5JztcclxuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2kxOG4nO1xyXG5cclxuLy8gXHU4QkJFXHU3RjZFXHU2ODA3XHU3QjdFXHJcbmV4cG9ydCBjbGFzcyBMYWNDb3N0U2V0U2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogTGFjQ29zdFNldFBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGFjQ29zdFNldFBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogdCgnc2V0dGluZ3MudGl0bGUnKSB9KTtcclxuXHRcdFxyXG5cdFx0Ly8gXHUyMDE0XHUyMDE0IFx1NjgzQ1x1NUYwRlx1NEUwRVx1NzUyOFx1NkNENVx1OEJGNFx1NjYwRSBcdTIwMTRcdTIwMTRcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0KCdzZXR0aW5ncy5ndWlkZS4xJyksIGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgfSk7XHJcblx0XHRjb25zdCBlbnRyeUV4YW1wbGUgPSB0KCdzZXR0aW5ncy5lbnRyeS5leGFtcGxlJyk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncHJlJywgeyB0ZXh0OiBlbnRyeUV4YW1wbGUsIGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgfSk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogdCgnc2V0dGluZ3MuYXNzZXQuZGVzYycpLCBjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nIH0pO1xyXG5cdFx0Y29uc3QgYXNzZXRFeGFtcGxlID0gdCgnc2V0dGluZ3MuYXNzZXQuZXhhbXBsZScpO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ3ByZScsIHsgdGV4dDogYXNzZXRFeGFtcGxlLCBjbHM6ICdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nIH0pO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IHQoJ3NldHRpbmdzLnVzYWdlJyksIGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHQoJ3NldHRpbmdzLmVudHJ5RmlsZS5uYW1lJykpXHJcblx0XHRcdC5zZXREZXNjKHQoJ3NldHRpbmdzLmVudHJ5RmlsZS5kZXNjJykpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignY29zdHNldC9jb3N0c2V0Lm1kJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW50cnlGaWxlIHx8ICdjb3N0c2V0L2Nvc3RzZXQubWQnKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVudHJ5RmlsZSA9IHZhbHVlPy50cmltKCkgfHwgJ2Nvc3RzZXQvY29zdHNldC5tZCc7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdC8vIFx1N0FDQlx1NTM3M1x1NzUyOFx1NjVCMFx1NzY4NFx1NTE2NVx1NTNFM1x1NjU4N1x1NEVGNlx1OTFDRFx1NUVGQVx1NEVEM1x1NUU5M1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uYXNzZXRSZXBvc2l0b3J5ID0gbmV3IEFzc2V0UmVwb3NpdG9yeSh0aGlzLmFwcCwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW50cnlGaWxlKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHQoJ3NldHRpbmdzLmNvbnRleHRNZW51Lm5hbWUnKSlcclxuXHRcdFx0LnNldERlc2ModCgnc2V0dGluZ3MuY29udGV4dE1lbnUuZGVzYycpKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ29udGV4dE1lbnUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ29udGV4dE1lbnUgPSAhIXZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0KCdzZXR0aW5ncy5kZWZhdWx0U29ydC5uYW1lJykpXHJcblx0XHRcdC5zZXREZXNjKHQoJ3NldHRpbmdzLmRlZmF1bHRTb3J0LmRlc2MnKSlcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3AgPT4ge1xyXG5cdFx0XHRcdGRyb3AuYWRkT3B0aW9uKCdub25lJywgdCgnc2V0dGluZ3MuZGVmYXVsdFNvcnQub3B0aW9uLm5vbmUnKSk7XHJcblx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oJ2RhaWx5RGVzYycsIHQoJ3NldHRpbmdzLmRlZmF1bHRTb3J0Lm9wdGlvbi5kYWlseURlc2MnKSk7XHJcblx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oJ3ByaWNlRGVzYycsIHQoJ3NldHRpbmdzLmRlZmF1bHRTb3J0Lm9wdGlvbi5wcmljZURlc2MnKSk7XHJcblx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oJ2RhdGVEZXNjJywgdCgnc2V0dGluZ3MuZGVmYXVsdFNvcnQub3B0aW9uLmRhdGVEZXNjJykpO1xyXG5cdFx0XHRcdGRyb3Auc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFNvcnQgfHwgJ25vbmUnKTtcclxuXHRcdFx0XHRkcm9wLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgdiA9ICh2YWx1ZSBhcyBhbnkpIGFzICdub25lJyB8ICdkYWlseURlc2MnIHwgJ3ByaWNlRGVzYycgfCAnZGF0ZURlc2MnO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFNvcnQgPSB2O1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0KCdzZXR0aW5ncy5kZWZhdWx0SWNvbi5uYW1lJykpXHJcblx0XHRcdC5zZXREZXNjKHQoJ3NldHRpbmdzLmRlZmF1bHRJY29uLmRlc2MnKSlcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc2FuaXRpemVUb0ZpcnN0RW1vamkgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBtID0gKGlucHV0IHx8ICcnKS5tYXRjaCgvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS8pO1xyXG5cdFx0XHRcdFx0cmV0dXJuIG0gPyBtWzBdIDogJyc7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHR0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIodCgnc2V0dGluZ3MuZGVmYXVsdEljb24ucGxhY2Vob2xkZXInKSlcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0SWNvbilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZmlyc3QgPSBzYW5pdGl6ZVRvRmlyc3RFbW9qaSh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdGlmICgodGV4dCBhcyBhbnkpLmlucHV0RWwgJiYgKHRleHQgYXMgYW55KS5pbnB1dEVsLnZhbHVlICE9PSBmaXJzdCkge1xyXG5cdFx0XHRcdFx0XHRcdCh0ZXh0IGFzIGFueSkuaW5wdXRFbC52YWx1ZSA9IGZpcnN0O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRJY29uID0gZmlyc3Q7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Y29uc3QgaW5wdXRFbCA9ICh0ZXh0IGFzIGFueSkuaW5wdXRFbCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0XHRcdGlmIChpbnB1dEVsKSB7XHJcblx0XHRcdFx0XHRpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBmaXJzdCA9IHNhbml0aXplVG9GaXJzdEVtb2ppKGlucHV0RWwudmFsdWUgfHwgJycpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpbnB1dEVsLnZhbHVlICE9PSBmaXJzdCkgaW5wdXRFbC52YWx1ZSA9IGZpcnN0O1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRJY29uID0gZmlyc3Q7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0sIDApO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBcdThCRURcdThBMDBcdThCQkVcdTdGNkVcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0KCdzZXR0aW5ncy5sb2NhbGUubmFtZScpKVxyXG5cdFx0XHQuc2V0RGVzYyh0KCdzZXR0aW5ncy5sb2NhbGUuZGVzYycpKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcCA9PiB7XHJcblx0XHRcdFx0Ly8gXHU4QkVEXHU4QTAwXHU5MDA5XHU5ODc5XHU0RjdGXHU3NTI4XHU4MUVBXHU2MjExXHU2M0NGXHU4RkYwXHVGRjFBXHU0RTJEXHU2NTg3L0VuZ2xpc2hcclxuXHRcdFx0XHRkcm9wLmFkZE9wdGlvbignYXV0bycsIHQoJ3NldHRpbmdzLmxvY2FsZS5vcHRpb24uYXV0bycpKTtcclxuXHRcdFx0XHRkcm9wLmFkZE9wdGlvbignemgnLCAnXHU0RTJEXHU2NTg3Jyk7XHJcblx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oJ2VuJywgJ0VuZ2xpc2gnKTtcclxuXHRcdFx0XHRkcm9wLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxvY2FsZSB8fCAnYXV0bycpO1xyXG5cdFx0XHRcdGRyb3Aub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2NhbGUgPSAodmFsdWUgYXMgYW55KTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0Ly8gXHU3QUNCXHU1MzczXHU1MjM3XHU2NUIwXHU1RjUzXHU1MjREXHU4QkJFXHU3RjZFXHU5ODc1XHVGRjBDXHU1RTk0XHU3NTI4XHU4QkVEXHU4QTAwXHJcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSU8sU0FBUyxjQUFjLFFBQWdEO0FBQzdFLE1BQUksQ0FBQyxVQUFVLFdBQVcsUUFBUTtBQUNqQyxRQUFJO0FBQ0gsWUFBTSxRQUFRLFVBQVUsWUFBWSxJQUFJLFlBQVk7QUFDcEQsYUFBTyxLQUFLLFdBQVcsSUFBSSxJQUFJLE9BQU87QUFBQSxJQUN2QyxTQUFTLEdBQVA7QUFDRCxhQUFPO0FBQUEsSUFDUjtBQUFBLEVBQ0Q7QUFDQSxTQUFPO0FBQ1I7QUFFTyxTQUFTLFVBQVUsUUFBMkM7QUFDcEUsa0JBQWdCLGNBQWMsTUFBYTtBQUM1QztBQUVPLFNBQVMsbUJBQWdDO0FBQy9DLFNBQU87QUFDUjtBQW1JQSxTQUFTLFdBQVcsT0FBZSxNQUFnRDtBQUNsRixNQUFJLENBQUM7QUFBTSxXQUFPO0FBQ2xCLFNBQU8sTUFBTSxRQUFRLGNBQWMsQ0FBQyxJQUFJLE1BQUc7QUEzSjVDO0FBMkorQyxtQkFBTyxVQUFLLENBQUMsTUFBTixZQUFXLEVBQUU7QUFBQSxHQUFDO0FBQ3BFO0FBRU8sU0FBUyxFQUFFLEtBQWEsTUFBd0MsUUFBOEI7QUE5SnJHO0FBK0pDLFFBQU0sT0FBTyxVQUFVO0FBQ3ZCLFFBQU0sUUFBUyxLQUFhLEdBQUc7QUFDL0IsTUFBSSxDQUFDO0FBQU8sV0FBTztBQUNuQixRQUFNLE9BQU8saUJB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QWdCLEtBQUssS0FBSyxTQUFTO0FBQzlELGNBQU0sT0FBTyxLQUFLLElBQUksVUFBVSxRQUFRLEtBQUs7QUFDN0MsY0FBTSxLQUFLLGFBQWE7QUFBQSxVQUN2QixNQUFNO0FBQUEsVUFDTixPQUFPLEVBQUUsVUFBVSxVQUFVO0FBQUEsVUFDN0IsUUFBUTtBQUFBLFFBQ1QsQ0FBQztBQUNELGFBQUssSUFBSSxVQUFVLFdBQVcsSUFBSTtBQUFBLE1BQ25DO0FBQUEsSUFDRCxDQUFDO0FBSUQsU0FBSyxjQUFjLElBQUkscUJBQXFCLEtBQUssS0FBSyxJQUFJLENBQUM7QUFHM0QsU0FBSyxpQkFBaUIsRUFBRSxRQUFRLGFBQWE7QUFBQSxFQUM5QztBQUFBLEVBRUEsV0FBVztBQUFBLEVBRVg7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBRWpDLGNBQVUsS0FBSyxTQUFTLFVBQVUsTUFBTTtBQUFBLEVBQ3pDO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJ0IiwgImltcG9ydF9vYnNpZGlhbiIsICJ0IiwgIl9hIiwgIl9iIiwgImltcG9ydF9vYnNpZGlhbiIsICJfYSIsICJ0IiwgInQiLCAidCIsICJjYWxjRGF0ZSIsICJhY3RpdmVBc3NldHMiLCAiZmlsdGVyZWRBY3RpdmVBc3NldHMiLCAidG90YWxDb3N0IiwgInRvdGFsUmVjeWNsZSIsICJ0b3RhbERhaWx5Q29zdCIsICJjb250YWluZXJFbCIsICJpbXBvcnRfb2JzaWRpYW4iLCAidCJdCn0K
