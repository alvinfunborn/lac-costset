# Lac-CostSet 插件

Life as Code - CostSet 资产管理插件，将你的生活物品以代码化的方式进行管理。

## 功能特性

### 🎯 核心功能
- **资产管理**: 记录物品的购入价格、日期、回收价格等信息
- **成本计算**: 自动计算每个物品的日均使用成本
- **标签系统**: 支持多标签分类管理
- **数据统计**: 提供总投入、可回收价值、日均成本等统计信息

### 📊 数据格式
使用TOML格式存储资产数据，与Obsidian的Markdown文件完美集成：

```toml
name = "Thinkbook14p2025"

[style]
icon = "💻"

[detail]
price = 7999
active_from = "2023-01-01"
active_to = ""
recycle_price = 1200
tags = ["电脑", "办公"]
hidden = false
```

### 🔧 插件命令

1. **打开资产管理器** - 查看所有资产列表
2. **添加新资产** - 快速添加新的资产项目
3. **显示资产统计** - 查看资产统计信息
4. **数据迁移** - 导入导出数据

### 📁 文件结构

插件会在指定的文件夹中创建以下文件：
- `costset.md` - 根文件，包含所有资产的引用
- `{资产ID}.md` - 每个资产的详细数据文件

### ⚙️ 设置选项

- **资产文件夹**: 指定存储资产文件的文件夹路径（默认：costset）
- **自动同步**: 是否自动同步资产数据
- **默认图标**: 新资产的默认图标

## 使用方法

### 1. 安装插件
将插件文件夹复制到 `.obsidian/plugins/` 目录下，然后在Obsidian中启用插件。

### 2. 添加资产
使用命令面板（Ctrl+P）搜索"添加新资产"，填写资产信息：
- 名称：资产的名称
- 图标：选择一个emoji作为图标
- 价格：购入价格
- 开始日期：购入日期
- 结束日期：计划报废/回收日期（可选）
- 回收价格：预计回收价格
- 标签：用逗号分隔的标签

### 3. 管理资产
使用"打开资产管理器"命令查看所有资产，可以编辑或删除现有资产。

### 4. 查看统计
使用"显示资产统计"命令查看：
- 总资产数量
- 总投入金额
- 可回收价值
- 日均成本
- 标签统计

## 数据迁移

如果你已经有costsetapp小程序的数据，可以：

1. 导出小程序数据为TOML格式
2. 将TOML文件复制到Obsidian的资产文件夹
3. 更新根文件`costset.md`添加资产引用

## 技术实现

- 使用Obsidian Plugin API进行文件操作
- 支持TOML格式的数据存储
- 响应式UI设计，支持移动端
- 完全本地存储，保护用户隐私

## 开发说明

插件基于Obsidian Plugin API开发，主要组件：

- `Asset`: 资产实体类
- `AssetRepository`: 数据访问层，使用Obsidian API
- `AssetManagerModal`: 资产管理界面
- `AssetFormModal`: 资产表单界面
- `AssetSummaryModal`: 统计信息界面

## 许可证

MIT License
